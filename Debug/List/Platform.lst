###############################################################################
#
# IAR C/C++ Compiler V7.10.6.1378 for Atmel AVR           10/Sep/2024  15:25:47
# Copyright 1996-2018 IAR Systems AB.
#
#    Source file  =  
#        D:\Projects\CurrentProjects\CautoProjects\PSS48Color\src\Platform.cpp
#    Command line =  
#        -f C:\Users\Admin\AppData\Local\Temp\EW2C22.tmp
#        (--string_literals_in_flash
#        D:\Projects\CurrentProjects\CautoProjects\PSS48Color\src\Platform.cpp
#        --cpu=m128a -ms -o
#        D:\Projects\CurrentProjects\CautoProjects\PSS48Color\Debug\Obj -lC
#        D:\Projects\CurrentProjects\CautoProjects\PSS48Color\Debug\List -lB
#        D:\Projects\CurrentProjects\CautoProjects\PSS48Color\Debug\List -y
#        --initializers_in_flash --root_variables --no_cse --no_inline
#        --no_code_motion --no_cross_call --no_clustering --no_tbaa --debug
#        -DENABLE_BIT_DEFINITIONS -e -I
#        D:\Projects\CurrentProjects\CautoProjects\PSS48Color\Modbus\ -I
#        D:\Projects\CurrentProjects\CautoProjects\PSS48Color\include\
#        --eeprom_size 4096 --dlib --dlib_config "C:\Program Files (x86)\IAR
#        Systems\Embedded Workbench 8.0\avr\LIB\DLIB\dlAVR-3s-ec_mul-n.h" -On
#        --eec++)
#    Locale       =  Russian_RUS.1251
#    List file    =  
#        D:\Projects\CurrentProjects\CautoProjects\PSS48Color\Debug\List\Platform.lst
#    Object file  =  
#        D:\Projects\CurrentProjects\CautoProjects\PSS48Color\Debug\Obj\Platform.r90
#
###############################################################################

D:\Projects\CurrentProjects\CautoProjects\PSS48Color\src\Platform.cpp
      1          //-----------------------------------------------------------------------------------------------------
      2          //  Source      : FileName.cpp
      3          //  Created     : 01.06.2022
      4          //  Author      : Alexandr Volvenkin
      5          //  email       : aav-36@mail.ru
      6          //  GitHub      : https://github.com/AlexandrVolvenkin
      7          //-----------------------------------------------------------------------------------------------------
      8          #include <cstddef>
      9          
     10          #include "Platform.h"

   \                                 In  segment ABSOLUTE, at 0x9d, root
   \   union <unnamed> volatile __io _A_UCSR1C
   \                     _A_UCSR1C:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x9c, root
   \   union <unnamed> volatile __io _A_UDR1
   \                     _A_UDR1:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x9b, root
   \   union <unnamed> volatile __io _A_UCSR1A
   \                     _A_UCSR1A:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x9a, root
   \   union <unnamed> volatile __io _A_UCSR1B
   \                     _A_UCSR1B:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x99, root
   \   union <unnamed> volatile __io _A_UBRR1L
   \                     _A_UBRR1L:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x98, root
   \   union <unnamed> volatile __io _A_UBRR1H
   \                     _A_UBRR1H:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x95, root
   \   union <unnamed> volatile __io _A_UCSR0C
   \                     _A_UCSR0C:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x90, root
   \   union <unnamed> volatile __io _A_UBRR0H
   \                     _A_UBRR0H:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x8c, root
   \   union <unnamed> volatile __io _A_TCCR3C
   \                     _A_TCCR3C:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x8b, root
   \   union <unnamed> volatile __io _A_TCCR3A
   \                     _A_TCCR3A:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x8a, root
   \   union <unnamed> volatile __io _A_TCCR3B
   \                     _A_TCCR3B:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x88, root
   \   union <unnamed> volatile __io _A_TCNT3
   \                     _A_TCNT3:
   \   00000000                      DS8 2

   \                                 In  segment ABSOLUTE, at 0x86, root
   \   union <unnamed> volatile __io _A_OCR3A
   \                     _A_OCR3A:
   \   00000000                      DS8 2

   \                                 In  segment ABSOLUTE, at 0x84, root
   \   union <unnamed> volatile __io _A_OCR3B
   \                     _A_OCR3B:
   \   00000000                      DS8 2

   \                                 In  segment ABSOLUTE, at 0x82, root
   \   union <unnamed> volatile __io _A_OCR3C
   \                     _A_OCR3C:
   \   00000000                      DS8 2

   \                                 In  segment ABSOLUTE, at 0x80, root
   \   union <unnamed> volatile __io _A_ICR3
   \                     _A_ICR3:
   \   00000000                      DS8 2

   \                                 In  segment ABSOLUTE, at 0x7d, root
   \   union <unnamed> volatile __io _A_ETIMSK
   \                     _A_ETIMSK:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x7c, root
   \   union <unnamed> volatile __io _A_ETIFR
   \                     _A_ETIFR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x7a, root
   \   union <unnamed> volatile __io _A_TCCR1C
   \                     _A_TCCR1C:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x78, root
   \   union <unnamed> volatile __io _A_OCR1C
   \                     _A_OCR1C:
   \   00000000                      DS8 2

   \                                 In  segment ABSOLUTE, at 0x74, root
   \   union <unnamed> volatile __io _A_TWCR
   \                     _A_TWCR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x73, root
   \   union <unnamed> volatile __io _A_TWDR
   \                     _A_TWDR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x72, root
   \   union <unnamed> volatile __io _A_TWAR
   \                     _A_TWAR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x71, root
   \   union <unnamed> volatile __io _A_TWSR
   \                     _A_TWSR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x70, root
   \   union <unnamed> volatile __io _A_TWBR
   \                     _A_TWBR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x6f, root
   \   union <unnamed> volatile __io _A_OSCCAL
   \                     _A_OSCCAL:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x6d, root
   \   union <unnamed> volatile __io _A_XMCRA
   \                     _A_XMCRA:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x6c, root
   \   union <unnamed> volatile __io _A_XMCRB
   \                     _A_XMCRB:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x6a, root
   \   union <unnamed> volatile __io _A_EICRA
   \                     _A_EICRA:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x68, root
   \   union <unnamed> volatile __io _A_SPMCSR
   \                     _A_SPMCSR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x65, root
   \   union <unnamed> volatile __io _A_PORTG
   \                     _A_PORTG:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x64, root
   \   union <unnamed> volatile __io _A_DDRG
   \                     _A_DDRG:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x63, root
   \   union <unnamed> volatile __io _A_PING
   \                     _A_PING:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x62, root
   \   union <unnamed> volatile __io _A_PORTF
   \                     _A_PORTF:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x61, root
   \   union <unnamed> volatile __io _A_DDRF
   \                     _A_DDRF:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x5f, root
   \   union <unnamed> volatile __io _A_SREG
   \                     _A_SREG:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x5d, root
   \   union <unnamed> volatile __io _A_SP
   \                     _A_SP:
   \   00000000                      DS8 2

   \                                 In  segment ABSOLUTE, at 0x5c, root
   \   union <unnamed> volatile __io _A_XDIV
   \                     _A_XDIV:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x5b, root
   \   union <unnamed> volatile __io _A_RAMPZ
   \                     _A_RAMPZ:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x5a, root
   \   union <unnamed> volatile __io _A_EICRB
   \                     _A_EICRB:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x59, root
   \   union <unnamed> volatile __io _A_EIMSK
   \                     _A_EIMSK:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x58, root
   \   union <unnamed> volatile __io _A_EIFR
   \                     _A_EIFR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x57, root
   \   union <unnamed> volatile __io _A_TIMSK
   \                     _A_TIMSK:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x56, root
   \   union <unnamed> volatile __io _A_TIFR
   \                     _A_TIFR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x55, root
   \   union <unnamed> volatile __io _A_MCUCR
   \                     _A_MCUCR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x54, root
   \   union <unnamed> volatile __io _A_MCUCSR
   \                     _A_MCUCSR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x53, root
   \   union <unnamed> volatile __io _A_TCCR0
   \                     _A_TCCR0:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x52, root
   \   union <unnamed> volatile __io _A_TCNT0
   \                     _A_TCNT0:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x51, root
   \   union <unnamed> volatile __io _A_OCR0
   \                     _A_OCR0:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x50, root
   \   union <unnamed> volatile __io _A_ASSR
   \                     _A_ASSR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x4f, root
   \   union <unnamed> volatile __io _A_TCCR1A
   \                     _A_TCCR1A:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x4e, root
   \   union <unnamed> volatile __io _A_TCCR1B
   \                     _A_TCCR1B:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x4c, root
   \   union <unnamed> volatile __io _A_TCNT1
   \                     _A_TCNT1:
   \   00000000                      DS8 2

   \                                 In  segment ABSOLUTE, at 0x4a, root
   \   union <unnamed> volatile __io _A_OCR1A
   \                     _A_OCR1A:
   \   00000000                      DS8 2

   \                                 In  segment ABSOLUTE, at 0x48, root
   \   union <unnamed> volatile __io _A_OCR1B
   \                     _A_OCR1B:
   \   00000000                      DS8 2

   \                                 In  segment ABSOLUTE, at 0x46, root
   \   union <unnamed> volatile __io _A_ICR1
   \                     _A_ICR1:
   \   00000000                      DS8 2

   \                                 In  segment ABSOLUTE, at 0x45, root
   \   union <unnamed> volatile __io _A_TCCR2
   \                     _A_TCCR2:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x44, root
   \   union <unnamed> volatile __io _A_TCNT2
   \                     _A_TCNT2:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x43, root
   \   union <unnamed> volatile __io _A_OCR2
   \                     _A_OCR2:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x42, root
   \   union <unnamed> volatile __io _A_OCDR
   \                     _A_OCDR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x41, root
   \   union <unnamed> volatile __io _A_WDTCR
   \                     _A_WDTCR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x40, root
   \   union <unnamed> volatile __io _A_SFIOR
   \                     _A_SFIOR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x3e, root
   \   union <unnamed> volatile __io _A_EEAR
   \                     _A_EEAR:
   \   00000000                      DS8 2

   \                                 In  segment ABSOLUTE, at 0x3d, root
   \   union <unnamed> volatile __io _A_EEDR
   \                     _A_EEDR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x3c, root
   \   union <unnamed> volatile __io _A_EECR
   \                     _A_EECR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x3b, root
   \   union <unnamed> volatile __io _A_PORTA
   \                     _A_PORTA:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x3a, root
   \   union <unnamed> volatile __io _A_DDRA
   \                     _A_DDRA:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x39, root
   \   union <unnamed> volatile __io _A_PINA
   \                     _A_PINA:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x38, root
   \   union <unnamed> volatile __io _A_PORTB
   \                     _A_PORTB:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x37, root
   \   union <unnamed> volatile __io _A_DDRB
   \                     _A_DDRB:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x36, root
   \   union <unnamed> volatile __io _A_PINB
   \                     _A_PINB:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x35, root
   \   union <unnamed> volatile __io _A_PORTC
   \                     _A_PORTC:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x34, root
   \   union <unnamed> volatile __io _A_DDRC
   \                     _A_DDRC:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x33, root
   \   union <unnamed> volatile __io _A_PINC
   \                     _A_PINC:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x32, root
   \   union <unnamed> volatile __io _A_PORTD
   \                     _A_PORTD:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x31, root
   \   union <unnamed> volatile __io _A_DDRD
   \                     _A_DDRD:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x30, root
   \   union <unnamed> volatile __io _A_PIND
   \                     _A_PIND:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x2f, root
   \   union <unnamed> volatile __io _A_SPDR
   \                     _A_SPDR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x2e, root
   \   union <unnamed> volatile __io _A_SPSR
   \                     _A_SPSR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x2d, root
   \   union <unnamed> volatile __io _A_SPCR
   \                     _A_SPCR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x2c, root
   \   union <unnamed> volatile __io _A_UDR0
   \                     _A_UDR0:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x2b, root
   \   union <unnamed> volatile __io _A_UCSR0A
   \                     _A_UCSR0A:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x2a, root
   \   union <unnamed> volatile __io _A_UCSR0B
   \                     _A_UCSR0B:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x29, root
   \   union <unnamed> volatile __io _A_UBRR0L
   \                     _A_UBRR0L:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x28, root
   \   union <unnamed> volatile __io _A_ACSR
   \                     _A_ACSR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x27, root
   \   union <unnamed> volatile __io _A_ADMUX
   \                     _A_ADMUX:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x26, root
   \   union <unnamed> volatile __io _A_ADCSRA
   \                     _A_ADCSRA:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x24, root
   \   union <unnamed> volatile __io _A_ADC
   \                     _A_ADC:
   \   00000000                      DS8 2

   \                                 In  segment ABSOLUTE, at 0x23, root
   \   union <unnamed> volatile __io _A_PORTE
   \                     _A_PORTE:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x22, root
   \   union <unnamed> volatile __io _A_DDRE
   \                     _A_DDRE:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x21, root
   \   union <unnamed> volatile __io _A_PINE
   \                     _A_PINE:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x20, root
   \   union <unnamed> volatile __io _A_PINF
   \                     _A_PINF:
   \   00000000                      DS8 1

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 void CEeprom::ReadyInterruptDisaable()
   \                     ??ReadyInterruptDisaable:
   \   00000000   98E3               CBI     0x1C, 0x03
   \   00000002   9508               RET
   \   00000004                      REQUIRE _A_EECR

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 uint8_t *CEeprom::GetBufferPointer()
   \                     ??GetBufferPointer:
   \   00000000   ....               LDI     R30, LOW(??m_puiBuffer)
   \   00000002   ....               LDI     R31, (??m_puiBuffer) >> 8
   \   00000004   8100               LD      R16, Z
   \   00000006   8111               LDD     R17, Z+1
   \   00000008   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 void CEeprom::SetBufferPointer(uint8_t *)
   \                     ??SetBufferPointer:
   \   00000000   ....               LDI     R30, LOW(??m_puiBuffer)
   \   00000002   ....               LDI     R31, (??m_puiBuffer) >> 8
   \   00000004   8300               ST      Z, R16
   \   00000006   8311               STD     Z+1, R17
   \   00000008   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 void CEeprom::SetAddress(uint16_t)
   \                     ??SetAddress:
   \   00000000   ....               LDI     R30, LOW(??m_uiAddress)
   \   00000002   ....               LDI     R31, (??m_uiAddress) >> 8
   \   00000004   8300               ST      Z, R16
   \   00000006   8311               STD     Z+1, R17
   \   00000008   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 uint16_t CEeprom::GetAddress()
   \                     ??GetAddress:
   \   00000000   ....               LDI     R30, LOW(??m_uiAddress)
   \   00000002   ....               LDI     R31, (??m_uiAddress) >> 8
   \   00000004   8100               LD      R16, Z
   \   00000006   8111               LDD     R17, Z+1
   \   00000008   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 void CEeprom::SetBufferByteCounter(uint16_t)
   \                     ??SetBufferByteCounter:
   \   00000000   ....               LDI     R30, LOW(??m_nuiBufferByteCounter)
   \   00000002   ....               LDI     R31, (??m_nuiBufferByteCounter) >> 8
   \   00000004   8300               ST      Z, R16
   \   00000006   8311               STD     Z+1, R17
   \   00000008   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 uint16_t CEeprom::GetBufferByteCounter()
   \                     ??GetBufferByteCounter:
   \   00000000   ....               LDI     R30, LOW(??m_nuiBufferByteCounter)
   \   00000002   ....               LDI     R31, (??m_nuiBufferByteCounter) >> 8
   \   00000004   8100               LD      R16, Z
   \   00000006   8111               LDD     R17, Z+1
   \   00000008   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 void CEeprom::SetLength(uint16_t)
   \                     ??SetLength:
   \   00000000   ....               LDI     R30, LOW(??m_uiLength)
   \   00000002   ....               LDI     R31, (??m_uiLength) >> 8
   \   00000004   8300               ST      Z, R16
   \   00000006   8311               STD     Z+1, R17
   \   00000008   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 uint16_t CEeprom::GetLength()
   \                     ??GetLength:
   \   00000000   ....               LDI     R30, LOW(??m_uiLength)
   \   00000002   ....               LDI     R31, (??m_uiLength) >> 8
   \   00000004   8100               LD      R16, Z
   \   00000006   8111               LDD     R17, Z+1
   \   00000008   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 void CEeprom::SetBufferIsWrited(bool)
   \                     ??SetBufferIsWrited:
   \   00000000   9300....           STS     ??m_bBufferIsWrited, R16
   \   00000004   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 uint16_t CFlash::GetBlockLength(uint8_t)
   \                     ??GetBlockLength:
   \   00000000   2FE0               MOV     R30, R16
   \   00000002   E0F0               LDI     R31, 0
   \   00000004   0FEE               LSL     R30
   \   00000006   1FFF               ROL     R31
   \   00000008   0FEE               LSL     R30
   \   0000000A   1FFF               ROL     R31
   \   0000000C   ....               SUBI    R30, LOW((-(??axDataBaseBlocksPositionData + 1) & 0xFFFF))
   \   0000000E   ....               SBCI    R31, HIGH((-(??axDataBaseBlocksPositionData + 1) & 0xFFFF))
   \   00000010   9104               LPM     R16, Z
   \   00000012   E010               LDI     R17, 0
   \   00000014   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 uint16_t CFlash::GetBlockOffset(uint8_t)
   \                     ??GetBlockOffset:
   \   00000000   2FE0               MOV     R30, R16
   \   00000002   E0F0               LDI     R31, 0
   \   00000004   0FEE               LSL     R30
   \   00000006   1FFF               ROL     R31
   \   00000008   0FEE               LSL     R30
   \   0000000A   1FFF               ROL     R31
   \   0000000C   ....               SUBI    R30, LOW((-(??axDataBaseBlocksPositionData + 2) & 0xFFFF))
   \   0000000E   ....               SBCI    R31, HIGH((-(??axDataBaseBlocksPositionData + 2) & 0xFFFF))
   \   00000010   9105               LPM     R16, Z+
   \   00000012   9114               LPM     R17, Z
   \   00000014   9731               SBIW    R31:R30, 1
   \   00000016   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 uint8_t __farflash *CFlash::GetBlockPointer(uint8_t)
   \                     ??GetBlockPointer:
   \   00000000   ........           CALL    ?PROLOGUE4_L09
   \   00000004   2F80               MOV     R24, R16
   \   00000006   ....               LDI     R26, LOW(??xMainDataBase)
   \   00000008   ....               LDI     R27, (??xMainDataBase) >> 8
   \   0000000A   E090               LDI     R25, 0
   \   0000000C   2F08               MOV     R16, R24
   \   0000000E   ........           CALL    ??GetBlockOffset
   \   00000012   01A8               MOVW    R21:R20, R17:R16
   \   00000014   018D               MOVW    R17:R16, R27:R26
   \   00000016   2F29               MOV     R18, R25
   \   00000018   0F04               ADD     R16, R20
   \   0000001A   1F15               ADC     R17, R21
   \   0000001C   E0E4               LDI     R30, 4
   \   0000001E   ........           JMP     ?EPILOGUE_B4_L09

      static __flash TDataBase CFlash::xMainDataBase;
                               ^
"D:\Projects\CurrentProjects\CautoProjects\PSS48Color\include\Platform.h",368  Warning[Pe427]: 
          qualified name is not allowed in member declaration

      static __flash TDataBaseBlockPositionData CFlash::axDataBaseBlocksPositionData[];
                                                ^
"D:\Projects\CurrentProjects\CautoProjects\PSS48Color\include\Platform.h",369  Warning[Pe427]: 
          qualified name is not allowed in member declaration

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 void CPlatform::WatchdogReset()
   \                     ??WatchdogReset:
   \   00000000   95A8               WDR
   \   00000002   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 void CPlatform::InterruptEnable()
   \                     ??InterruptEnable:
   \   00000000   9478               SEI
   \   00000002   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 void CPlatform::InterruptDisable()
   \                     ??InterruptDisable:
   \   00000000   94F8               CLI
   \   00000002   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 void CPlatform::IncrementSystemTick()
   \                     ??IncrementSystemTick:
   \   00000000   ....               LDI     R30, LOW(??m_uiSystemTick)
   \   00000002   ....               LDI     R31, (??m_uiSystemTick) >> 8
   \   00000004   8100               LD      R16, Z
   \   00000006   8111               LDD     R17, Z+1
   \   00000008   5F0F               SUBI    R16, 255
   \   0000000A   4F1F               SBCI    R17, 255
   \   0000000C   8300               ST      Z, R16
   \   0000000E   8311               STD     Z+1, R17
   \   00000010   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 void CPlatform::StatusLedSetPinOutput()
   \                     ??StatusLedSetPinOutput:
   \   00000000   9AD4               SBI     0x1A, 0x04
   \   00000002   9508               RET
   \   00000004                      REQUIRE _A_DDRA

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 void CPlatform::TxLedSetPinOutput()
   \                     ??TxLedSetPinOutput:
   \   00000000   9AD3               SBI     0x1A, 0x03
   \   00000002   9508               RET
   \   00000004                      REQUIRE _A_DDRA

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 void CPlatform::TxLedOff()
   \                     ??TxLedOff:
   \   00000000   9ADB               SBI     0x1B, 0x03
   \   00000002   9508               RET
   \   00000004                      REQUIRE _A_PORTA

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 void CPlatform::KeyOneSetPinInput()
   \                     ??KeyOneSetPinInput:
   \   00000000   98A2               CBI     0x14, 0x02
   \   00000002   9508               RET
   \   00000004                      REQUIRE _A_DDRC

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 void CPlatform::KeyTwoSetPinInput()
   \                     ??KeyTwoSetPinInput:
   \   00000000   98A1               CBI     0x14, 0x01
   \   00000002   9508               RET
   \   00000004                      REQUIRE _A_DDRC

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 void CPlatform::KeyThreeSetPinInput()
   \                     ??KeyThreeSetPinInput:
   \   00000000   98A0               CBI     0x14, 0x00
   \   00000002   9508               RET
   \   00000004                      REQUIRE _A_DDRC

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 void CPlatform::ExternalKeySetPinInput()
   \                     ??ExternalKeySetPinInput:
   \   00000000   98A4               CBI     0x14, 0x04
   \   00000002   9508               RET
   \   00000004                      REQUIRE _A_DDRC
     11          #include "Pss21.h"

      virtual bool IsSolved(void) {};
                                   ^
"D:\Projects\CurrentProjects\CautoProjects\PSS48Color\include\Task.h",20  Warning[Pe940]: 
          missing return statement at end of non-void function
          "CTaskInterface::IsSolved"

      virtual bool IsSourceStateActive(void) {};
                                              ^
"D:\Projects\CurrentProjects\CautoProjects\PSS48Color\include\Task.h",23  Warning[Pe940]: 
          missing return statement at end of non-void function
          "CTaskInterface::IsSourceStateActive"

      bool IsSolved(void) {};
                           ^
"D:\Projects\CurrentProjects\CautoProjects\PSS48Color\include\Task.h",58  Warning[Pe940]: 
          missing return statement at end of non-void function
          "CIsRegularButtonPressedInterface::IsSolved"

      virtual bool IsSourceStateActive(void) {};
                                              ^
"D:\Projects\CurrentProjects\CautoProjects\PSS48Color\include\Task.h",61  Warning[Pe940]: 
          missing return statement at end of non-void function
          "CIsRegularButtonPressedInterface::IsSourceStateActive"

      virtual uint16_t KEY_PRESSED_TIME(void) {};
                                               ^
"D:\Projects\CurrentProjects\CautoProjects\PSS48Color\include\Task.h",63  Warning[Pe940]: 
          missing return statement at end of non-void function
          "CIsRegularButtonPressedInterface::KEY_PRESSED_TIME"
Warning[Pa082]: undefined behavior: the order of volatile accesses is undefined
          in this statement

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 void CPss21::SetErrorCode(uint8_t)
   \                     ??SetErrorCode:
   \   00000000   9300....           STS     ??m_uiErrorCode, R16
   \   00000004   9508               RET
     12          #include "Crc.h"
     13          
     14          
     15          // ATMega128a
     16          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
     17          CUart::CUart()
   \                     ??CUart:
     18          {
   \   00000000   ....               LDI     R18, LOW(??__vtbl)
   \   00000002   ....               LDI     R19, (??__vtbl) >> 8
   \   00000004   01F8               MOVW    R31:R30, R17:R16
   \   00000006   A725               STD     Z+45, R18
   \   00000008   A736               STD     Z+46, R19
     19          
     20          }
   \   0000000A   9508               RET
     21          
     22          //    uint16_t CUart::m_nuiRxBuffByteCounter;
     23          //    uint8_t CUart::m_auiIntermediateBuff[UART_INTERMEDIATE_BUFF_LENGTH];
     24          //    bool CUart::m_bfByteIsReceived;
     25          //    bool CUart::m_bfRxBuffOverflow;
     26          
     27          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
     28          CUart::CUart(volatile uint8_t *ubrrh, volatile uint8_t *ubrrl,
   \                     ??CUart_1:
     29                       volatile uint8_t *ucsra, volatile uint8_t *ucsrb,
     30                       volatile uint8_t *ucsrc, volatile uint8_t *udr,
     31                       volatile uint8_t *rs485DirectionPort, volatile uint8_t rs485DirectionPin,
     32                       volatile uint8_t *rs485OutputPort, volatile uint8_t rs485OutputPin) :
   \   00000000   ........           CALL    ?PROLOGUE10_L09
   \   00000004                      REQUIRE ?Register_R4_is_cg_reg
   \   00000004                      REQUIRE ?Register_R5_is_cg_reg
   \   00000004                      REQUIRE ?Register_R6_is_cg_reg
   \   00000004                      REQUIRE ?Register_R7_is_cg_reg
   \   00000004                      REQUIRE ?Register_R8_is_cg_reg
   \   00000004                      REQUIRE ?Register_R9_is_cg_reg
   \   00000004   01D8               MOVW    R27:R26, R17:R16
   \   00000006   0149               MOVW    R9:R8, R19:R18
   \   00000008   013A               MOVW    R7:R6, R21:R20
   \   0000000A   012B               MOVW    R5:R4, R23:R22
   \   0000000C   858A               LDD     R24, Y+10
   \   0000000E   859B               LDD     R25, Y+11
   \   00000010   842C               LDD     R2, Y+12
   \   00000012   843D               LDD     R3, Y+13
   \   00000014   840E               LDD     R0, Y+14
   \   00000016   841F               LDD     R1, Y+15
   \   00000018   8968               LDD     R22, Y+16
   \   0000001A   8979               LDD     R23, Y+17
   \   0000001C   892B               LDD     R18, Y+19
   \   0000001E   893C               LDD     R19, Y+20
   \   00000020   ....               LDI     R16, LOW(??__vtbl)
   \   00000022   ....               LDI     R17, (??__vtbl) >> 8
   \   00000024   01FD               MOVW    R31:R30, R27:R26
   \   00000026   A705               STD     Z+45, R16
   \   00000028   A716               STD     Z+46, R17
     33              m_UBRRH(ubrrh), m_UBRRL(ubrrl), m_UCSRA(ucsra),
   \   0000002A   01FD               MOVW    R31:R30, R27:R26
   \   0000002C   8280               ST      Z, R8
   \   0000002E   8291               STD     Z+1, R9
   \   00000030   01FD               MOVW    R31:R30, R27:R26
   \   00000032   8262               STD     Z+2, R6
   \   00000034   8273               STD     Z+3, R7
   \   00000036   01FD               MOVW    R31:R30, R27:R26
   \   00000038   8244               STD     Z+4, R4
   \   0000003A   8255               STD     Z+5, R5
     34              m_UCSRB(ucsrb), m_UCSRC(ucsrc), m_UDR(udr),
   \   0000003C   01FD               MOVW    R31:R30, R27:R26
   \   0000003E   8386               STD     Z+6, R24
   \   00000040   8397               STD     Z+7, R25
   \   00000042   01FD               MOVW    R31:R30, R27:R26
   \   00000044   8620               STD     Z+8, R2
   \   00000046   8631               STD     Z+9, R3
   \   00000048   01FD               MOVW    R31:R30, R27:R26
   \   0000004A   8602               STD     Z+10, R0
   \   0000004C   8613               STD     Z+11, R1
     35              m_rs485DirectionPort(rs485DirectionPort), m_rs485DirectionPin(rs485DirectionPin), m_rs485OutputPort(rs485OutputPort), m_rs485OutputPin(rs485OutputPin)
   \   0000004E   01FD               MOVW    R31:R30, R27:R26
   \   00000050   8764               STD     Z+12, R22
   \   00000052   8775               STD     Z+13, R23
   \   00000054   890A               LDD     R16, Y+18
   \   00000056   01FD               MOVW    R31:R30, R27:R26
   \   00000058   8706               STD     Z+14, R16
   \   0000005A   01FD               MOVW    R31:R30, R27:R26
   \   0000005C   8727               STD     Z+15, R18
   \   0000005E   8B30               STD     Z+16, R19
   \   00000060   890D               LDD     R16, Y+21
   \   00000062   01FD               MOVW    R31:R30, R27:R26
   \   00000064   8B01               STD     Z+17, R16
     36          {
     37              if (m_rs485DirectionPort)
   \   00000066   01FD               MOVW    R31:R30, R27:R26
   \   00000068   8504               LDD     R16, Z+12
   \   0000006A   8515               LDD     R17, Z+13
   \   0000006C   2B01               OR      R16, R17
   \   0000006E   F101               BREQ    ??CUart_2
     38              {
     39                  uint8_t uiData = m_rs485DirectionPin;
   \   00000070   01FD               MOVW    R31:R30, R27:R26
   \   00000072   8556               LDD     R21, Z+14
     40                  *m_rs485DirectionPort |= _BV(uiData);
   \   00000074   E001               LDI     R16, 1
   \   00000076   E010               LDI     R17, 0
   \   00000078   2F45               MOV     R20, R21
   \   0000007A   ........           CALL    ?S_SHL_L02
   \   0000007E   2F40               MOV     R20, R16
   \   00000080   01FD               MOVW    R31:R30, R27:R26
   \   00000082   8504               LDD     R16, Z+12
   \   00000084   8515               LDD     R17, Z+13
   \   00000086   01F8               MOVW    R31:R30, R17:R16
   \   00000088   8100               LD      R16, Z
   \   0000008A   2B04               OR      R16, R20
   \   0000008C   8300               ST      Z, R16
     41                  uiData = m_rs485OutputPin;
   \   0000008E   01FD               MOVW    R31:R30, R27:R26
   \   00000090   8901               LDD     R16, Z+17
   \   00000092   2F50               MOV     R21, R16
     42                  *m_rs485OutputPort &= ~(_BV(uiData));
   \   00000094   E001               LDI     R16, 1
   \   00000096   E010               LDI     R17, 0
   \   00000098   2F45               MOV     R20, R21
   \   0000009A   ........           CALL    ?S_SHL_L02
   \   0000009E   2F40               MOV     R20, R16
   \   000000A0   9540               COM     R20
   \   000000A2   01FD               MOVW    R31:R30, R27:R26
   \   000000A4   8507               LDD     R16, Z+15
   \   000000A6   8910               LDD     R17, Z+16
   \   000000A8   01F8               MOVW    R31:R30, R17:R16
   \   000000AA   8100               LD      R16, Z
   \   000000AC   2304               AND     R16, R20
   \   000000AE   8300               ST      Z, R16
     43              }
     44          }
   \                     ??CUart_2:
   \   000000B0   018D               MOVW    R17:R16, R27:R26
   \   000000B2   E1E6               LDI     R30, 22
   \   000000B4   ........           JMP     ?EPILOGUE_B10_L09
     45          
     46          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
     47          CUart::~CUart()
   \                     `?~CUart`:
     48          {
   \   00000000   939A               ST      -Y, R25
   \   00000002   938A               ST      -Y, R24
   \   00000004   01C8               MOVW    R25:R24, R17:R16
   \   00000006   2F08               MOV     R16, R24
   \   00000008   2B09               OR      R16, R25
   \   0000000A   F029               BREQ    `?~CUart_1`
   \   0000000C   FB20               BST     R18, 0
   \   0000000E   F41E               BRTC    `?~CUart_1`
     49          
     50          }
   \   00000010   018C               MOVW    R17:R16, R25:R24
   \   00000012   ........           CALL    `??operator delete`
   \                     `?~CUart_1`:
   \   00000016   9189               LD      R24, Y+
   \   00000018   9199               LD      R25, Y+
   \   0000001A   9508               RET
     51          
     52          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
     53          void CUart::Init(uint32_t ulBaudRate,
   \                     ??Init:
     54                           uint8_t ucParity,
     55                           uint8_t uiDataBits,
     56                           uint8_t ucStopBit,
     57                           uint8_t *puiRxBuffer,
     58                           uint8_t *puiTxBuffer)
     59          {
   \   00000000   ........           CALL    ?PROLOGUE8_L09
   \   00000004                      REQUIRE ?Register_R4_is_cg_reg
   \   00000004                      REQUIRE ?Register_R5_is_cg_reg
   \   00000004                      REQUIRE ?Register_R6_is_cg_reg
   \   00000004                      REQUIRE ?Register_R7_is_cg_reg
   \   00000004   0128               MOVW    R5:R4, R17:R16
   \   00000006   01CA               MOVW    R25:R24, R21:R20
   \   00000008   01DB               MOVW    R27:R26, R23:R22
   \   0000000A   2E72               MOV     R7, R18
   \   0000000C   2E63               MOV     R6, R19
     60          //    m_puiRxBuffer = puiRxBuffer;
     61          //    m_puiTxBuffer = puiTxBuffer;
     62          
     63              /* Set the baud rate */
     64              uint16_t uiBaudRateTemp = static_cast<uint16_t>((F_CPU / (ulBaudRate * 16UL) - 1));
   \   0000000E   018C               MOVW    R17:R16, R25:R24
   \   00000010   019D               MOVW    R19:R18, R27:R26
   \   00000012   E140               LDI     R20, 16
   \   00000014   E050               LDI     R21, 0
   \   00000016   E060               LDI     R22, 0
   \   00000018   E070               LDI     R23, 0
   \   0000001A   ........           CALL    ?L_EC_MUL_L03
   \   0000001E   01A8               MOVW    R21:R20, R17:R16
   \   00000020   01B9               MOVW    R23:R22, R19:R18
   \   00000022   E000               LDI     R16, 0
   \   00000024   E810               LDI     R17, 128
   \   00000026   E720               LDI     R18, 112
   \   00000028   E030               LDI     R19, 0
   \   0000002A   ........           CALL    ?UL_DIVMOD_L03
   \   0000002E   0198               MOVW    R19:R18, R17:R16
   \   00000030   5021               SUBI    R18, 1
   \   00000032   4030               SBCI    R19, 0
     65          //    uint16_t uiBaudRateTemp = static_cast<uint16_t>(CPss21::m_xModbusSettings.BaudRate);//(F_CPU / (ulBaudRate * 16UL) - 1);//
     66              *m_UBRRL = static_cast<uint8_t>(uiBaudRateTemp);
   \   00000034   2F42               MOV     R20, R18
   \   00000036   01F2               MOVW    R31:R30, R5:R4
   \   00000038   8102               LDD     R16, Z+2
   \   0000003A   8113               LDD     R17, Z+3
   \   0000003C   01F8               MOVW    R31:R30, R17:R16
   \   0000003E   8340               ST      Z, R20
     67              *m_UBRRH = static_cast<uint8_t>(uiBaudRateTemp >> 8);
   \   00000040   0189               MOVW    R17:R16, R19:R18
   \   00000042   2F01               MOV     R16, R17
   \   00000044   E010               LDI     R17, 0
   \   00000046   2F40               MOV     R20, R16
   \   00000048   01F2               MOVW    R31:R30, R5:R4
   \   0000004A   8100               LD      R16, Z
   \   0000004C   8111               LDD     R17, Z+1
   \   0000004E   01F8               MOVW    R31:R30, R17:R16
   \   00000050   8340               ST      Z, R20
     68          
     69              *m_UCSRC = (CPss21::m_xModbusSettings.LinkParam &	// 2 стоп-бита, 8 бит данных
     70                          (BIT(UPM11)|BIT(UPM10)|BIT(USBS1))) |
     71                         (BIT(UCSZ11)|BIT(UCSZ10));
   \   00000052   9140....           LDS     R20, (??m_xModbusSettings + 2)
   \   00000056   7348               ANDI    R20, 0x38
   \   00000058   6046               ORI     R20, 0x06
   \   0000005A   01F2               MOVW    R31:R30, R5:R4
   \   0000005C   8500               LDD     R16, Z+8
   \   0000005E   8511               LDD     R17, Z+9
   \   00000060   01F8               MOVW    R31:R30, R17:R16
   \   00000062   8340               ST      Z, R20
     72          
     73          //    /* Set data bits (7, 8 bits) */
     74          //    switch (uiDataBits)
     75          //    {
     76          //    case 8:
     77          //        *m_UCSRC |= (1 << UCSZ00) | (1 << UCSZ01);
     78          //        break;
     79          //    case 7:
     80          //        *m_UCSRC |= (1 << UCSZ01);
     81          //        break;
     82          //    }
     83          //
     84          //    /* Set parity */
     85          //    if (ucParity == 'N')
     86          //    {
     87          //        /* None */
     88          //    }
     89          //    else if (ucParity == 'E')
     90          //    {
     91          //        /* Even */
     92          //        *m_UCSRC |= (1 << UPM01);
     93          //    }
     94          //    else
     95          //    {
     96          //        /* Odd */
     97          //        *m_UCSRC |= (1 << UPM01) | (1 << UPM00);
     98          //    }
     99          //
    100          //    /* Stop bit (1 or 2) */
    101          //    if (ucStopBit == 1)
    102          //    {
    103          //        *m_UCSRC &= ~(1 << USBS0);
    104          //    }
    105          //    else if (ucStopBit == 2) /* 2 */
    106          //    {
    107          //        *m_UCSRC |= (1 << USBS0);
    108          //    }
    109          }
   \   00000064   E0ED               LDI     R30, 13
   \   00000066   ........           JMP     ?EPILOGUE_B8_L09
    110          
    111          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    112          void CUart::Reset(void)
   \                     ??Reset:
    113          {
    114              m_nuiRxBuffByteCounter = 0;
   \   00000000   01F8               MOVW    R31:R30, R17:R16
   \   00000002   E020               LDI     R18, 0
   \   00000004   8F20               STD     Z+24, R18
   \   00000006   E020               LDI     R18, 0
   \   00000008   8F21               STD     Z+25, R18
    115              m_bfByteIsReceived = 0;
   \   0000000A   01F8               MOVW    R31:R30, R17:R16
   \   0000000C   E020               LDI     R18, 0
   \   0000000E   A722               STD     Z+42, R18
    116              m_bfFrameIsSended = 0;
   \   00000010   01F8               MOVW    R31:R30, R17:R16
   \   00000012   E020               LDI     R18, 0
   \   00000014   A723               STD     Z+43, R18
    117              m_bfRxBuffOverflow = 0;
   \   00000016   01F8               MOVW    R31:R30, R17:R16
   \   00000018   E020               LDI     R18, 0
   \   0000001A   A724               STD     Z+44, R18
    118          }
   \   0000001C   9508               RET
    119          
    120          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    121          void CUart::Open(void)
   \                     ??Open:
    122          {
   \   00000000   2F3B               MOV     R19, R27
   \   00000002   2F4A               MOV     R20, R26
    123              *m_UCSRA |= (1 << RXC0) | (1 << TXC0);
   \   00000004   01F8               MOVW    R31:R30, R17:R16
   \   00000006   81A4               LDD     R26, Z+4
   \   00000008   81B5               LDD     R27, Z+5
   \   0000000A   912C               LD      R18, X
   \   0000000C   6C20               ORI     R18, 0xC0
   \   0000000E   932C               ST      X, R18
    124              *m_UCSRB |= (1 << RXEN0) | (1 << TXEN0);
   \   00000010   01F8               MOVW    R31:R30, R17:R16
   \   00000012   81A6               LDD     R26, Z+6
   \   00000014   81B7               LDD     R27, Z+7
   \   00000016   912C               LD      R18, X
   \   00000018   6128               ORI     R18, 0x18
   \   0000001A   932C               ST      X, R18
    125          }
   \   0000001C   2FA4               MOV     R26, R20
   \   0000001E   2FB3               MOV     R27, R19
   \   00000020   9508               RET
    126          
    127          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    128          void CUart::Close(void)
   \                     ??Close:
    129          {
   \   00000000   2F3B               MOV     R19, R27
   \   00000002   2F4A               MOV     R20, R26
    130              *m_UCSRB &= ~((1 << RXEN0) | (1 << RXCIE0));
   \   00000004   01F8               MOVW    R31:R30, R17:R16
   \   00000006   81A6               LDD     R26, Z+6
   \   00000008   81B7               LDD     R27, Z+7
   \   0000000A   912C               LD      R18, X
   \   0000000C   762F               ANDI    R18, 0x6F
   \   0000000E   932C               ST      X, R18
    131              *m_UCSRB &= ~((1 << TXEN0) | (1 << TXCIE0));
   \   00000010   01F8               MOVW    R31:R30, R17:R16
   \   00000012   81A6               LDD     R26, Z+6
   \   00000014   81B7               LDD     R27, Z+7
   \   00000016   912C               LD      R18, X
   \   00000018   7B27               ANDI    R18, 0xB7
   \   0000001A   932C               ST      X, R18
    132              *m_UCSRB &= ~((1 << UDRIE0));
   \   0000001C   01F8               MOVW    R31:R30, R17:R16
   \   0000001E   81A6               LDD     R26, Z+6
   \   00000020   81B7               LDD     R27, Z+7
   \   00000022   912C               LD      R18, X
   \   00000024   7D2F               ANDI    R18, 0xDF
   \   00000026   932C               ST      X, R18
    133          }
   \   00000028   2FA4               MOV     R26, R20
   \   0000002A   2FB3               MOV     R27, R19
   \   0000002C   9508               RET
    134          
    135          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    136          void CUart::Enable(void)
   \                     ??Enable:
    137          {
   \   00000000   2F3B               MOV     R19, R27
   \   00000002   2F4A               MOV     R20, R26
    138              *m_UCSRA |= (1 << RXC0);
   \   00000004   01F8               MOVW    R31:R30, R17:R16
   \   00000006   81A4               LDD     R26, Z+4
   \   00000008   81B5               LDD     R27, Z+5
   \   0000000A   912C               LD      R18, X
   \   0000000C   6820               ORI     R18, 0x80
   \   0000000E   932C               ST      X, R18
    139              *m_UCSRB |= (1 << RXEN0) | (1 << RXCIE0);
   \   00000010   01F8               MOVW    R31:R30, R17:R16
   \   00000012   81A6               LDD     R26, Z+6
   \   00000014   81B7               LDD     R27, Z+7
   \   00000016   912C               LD      R18, X
   \   00000018   6920               ORI     R18, 0x90
   \   0000001A   932C               ST      X, R18
    140          }
   \   0000001C   2FA4               MOV     R26, R20
   \   0000001E   2FB3               MOV     R27, R19
   \   00000020   9508               RET
    141          
    142          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    143          void CUart::Disable(void)
   \                     ??Disable:
    144          {
   \   00000000   2F3B               MOV     R19, R27
   \   00000002   2F4A               MOV     R20, R26
    145              *m_UCSRB &= ~((1 << RXEN0) | (1 << RXCIE0));
   \   00000004   01F8               MOVW    R31:R30, R17:R16
   \   00000006   81A6               LDD     R26, Z+6
   \   00000008   81B7               LDD     R27, Z+7
   \   0000000A   912C               LD      R18, X
   \   0000000C   762F               ANDI    R18, 0x6F
   \   0000000E   932C               ST      X, R18
    146          }
   \   00000010   2FA4               MOV     R26, R20
   \   00000012   2FB3               MOV     R27, R19
   \   00000014   9508               RET
    147          
    148          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    149          void CUart::Rs485RtsOn(void)
   \                     ??Rs485RtsOn:
    150          {
   \   00000000   2F3B               MOV     R19, R27
   \   00000002   2F6A               MOV     R22, R26
   \   00000004   01F8               MOVW    R31:R30, R17:R16
    151              uint8_t uiData = m_rs485OutputPin;
   \   00000006   8921               LDD     R18, Z+17
    152              *m_rs485OutputPort |= (1 << uiData);
   \   00000008   E001               LDI     R16, 1
   \   0000000A   E010               LDI     R17, 0
   \   0000000C   2F42               MOV     R20, R18
   \   0000000E   ........           CALL    ?S_SHL_L02
   \   00000012   85A7               LDD     R26, Z+15
   \   00000014   89B0               LDD     R27, Z+16
   \   00000016   911C               LD      R17, X
   \   00000018   2B10               OR      R17, R16
   \   0000001A   931C               ST      X, R17
    153          }
   \   0000001C   2FA6               MOV     R26, R22
   \   0000001E   2FB3               MOV     R27, R19
   \   00000020   9508               RET
    154          
    155          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    156          void CUart::Rs485RtsOff(void)
   \                     ??Rs485RtsOff:
    157          {
   \   00000000   2F3B               MOV     R19, R27
   \   00000002   2F6A               MOV     R22, R26
   \   00000004   01F8               MOVW    R31:R30, R17:R16
    158              uint8_t uiData = m_rs485OutputPin;
   \   00000006   8921               LDD     R18, Z+17
    159              *m_rs485OutputPort &= ~(1 << uiData);
   \   00000008   E001               LDI     R16, 1
   \   0000000A   E010               LDI     R17, 0
   \   0000000C   2F42               MOV     R20, R18
   \   0000000E   ........           CALL    ?S_SHL_L02
   \   00000012   9500               COM     R16
   \   00000014   85A7               LDD     R26, Z+15
   \   00000016   89B0               LDD     R27, Z+16
   \   00000018   911C               LD      R17, X
   \   0000001A   2310               AND     R17, R16
   \   0000001C   931C               ST      X, R17
    160          }
   \   0000001E   2FA6               MOV     R26, R22
   \   00000020   2FB3               MOV     R27, R19
   \   00000022   9508               RET
    161          
    162          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    163          void CUart::TransmitEnable(void)
   \                     ??TransmitEnable:
    164          {
   \   00000000   2F5B               MOV     R21, R27
   \   00000002   2E0A               MOV     R0, R26
   \   00000004   01D8               MOVW    R27:R26, R17:R16
    165              if (m_rs485DirectionPort)
   \   00000006   01FD               MOVW    R31:R30, R27:R26
   \   00000008   8504               LDD     R16, Z+12
   \   0000000A   8515               LDD     R17, Z+13
   \   0000000C   2B01               OR      R16, R17
   \   0000000E   F011               BREQ    ??TransmitEnable_1
    166              {
    167                  Rs485RtsOn();
   \   00000010   018D               MOVW    R17:R16, R27:R26
   \   00000012   ....               RCALL   ??Rs485RtsOn
    168              }
    169          
    170              *m_UCSRA |= (1 << TXC0) | (1 << UDRE0);
   \                     ??TransmitEnable_1:
   \   00000014   9614               ADIW    R27:R26, 4
   \   00000016   91ED               LD      R30, X+
   \   00000018   91FC               LD      R31, X
   \   0000001A   9715               SBIW    R27:R26, 5
   \   0000001C   8100               LD      R16, Z
   \   0000001E   6600               ORI     R16, 0x60
   \   00000020   8300               ST      Z, R16
    171              *m_UCSRB |= (1 << TXEN0) | (1 << UDRIE0);
   \   00000022   9616               ADIW    R27:R26, 6
   \   00000024   91ED               LD      R30, X+
   \   00000026   91FC               LD      R31, X
   \   00000028   9717               SBIW    R27:R26, 7
   \   0000002A   8100               LD      R16, Z
   \   0000002C   6208               ORI     R16, 0x28
   \   0000002E   8300               ST      Z, R16
    172          
    173          }
   \   00000030   2DA0               MOV     R26, R0
   \   00000032   2FB5               MOV     R27, R21
   \   00000034   9508               RET
    174          
    175          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    176          void CUart::TransmitDisable(void)
   \                     ??TransmitDisable:
    177          {
   \   00000000   2F5B               MOV     R21, R27
   \   00000002   2E0A               MOV     R0, R26
   \   00000004   01D8               MOVW    R27:R26, R17:R16
    178              *m_UCSRB &= ~((1 << TXEN0) | (1 << TXCIE0) | (1 << UDRIE0));
   \   00000006   9616               ADIW    R27:R26, 6
   \   00000008   91ED               LD      R30, X+
   \   0000000A   91FC               LD      R31, X
   \   0000000C   9717               SBIW    R27:R26, 7
   \   0000000E   8100               LD      R16, Z
   \   00000010   7907               ANDI    R16, 0x97
   \   00000012   8300               ST      Z, R16
    179          
    180              if (m_rs485DirectionPort)
   \   00000014   01FD               MOVW    R31:R30, R27:R26
   \   00000016   8504               LDD     R16, Z+12
   \   00000018   8515               LDD     R17, Z+13
   \   0000001A   2B01               OR      R16, R17
   \   0000001C   F011               BREQ    ??TransmitDisable_1
    181              {
    182                  Rs485RtsOff();
   \   0000001E   018D               MOVW    R17:R16, R27:R26
   \   00000020   ....               RCALL   ??Rs485RtsOff
    183              }
    184          }
   \                     ??TransmitDisable_1:
   \   00000022   2DA0               MOV     R26, R0
   \   00000024   2FB5               MOV     R27, R21
   \   00000026   9508               RET
    185          
    186          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    187          int16_t CUart::Write(uint8_t *puiSource, uint16_t uiLength)
   \                     ??Write:
    188          {
   \   00000000   01F8               MOVW    R31:R30, R17:R16
    189              m_puiTxBuffer = (uint8_t*)puiSource;
   \   00000002   8B22               STD     Z+18, R18
   \   00000004   8B33               STD     Z+19, R19
    190              m_nuiTxBuffByteCounter = uiLength;
   \   00000006   8B44               STD     Z+20, R20
   \   00000008   8B55               STD     Z+21, R21
    191          
    192              return 1;
   \   0000000A   E001               LDI     R16, 1
   \   0000000C   E010               LDI     R17, 0
   \   0000000E   9508               RET
    193          }
    194          
    195          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    196          int16_t CUart::Read(uint8_t *puiDestination, uint16_t uiLength)
   \                     ??Read:
    197          {
   \   00000000   ........           CALL    ?PROLOGUE8_L09
   \   00000004                      REQUIRE ?Register_R4_is_cg_reg
   \   00000004                      REQUIRE ?Register_R5_is_cg_reg
   \   00000004                      REQUIRE ?Register_R6_is_cg_reg
   \   00000004                      REQUIRE ?Register_R7_is_cg_reg
   \   00000004   01D8               MOVW    R27:R26, R17:R16
   \   00000006   01C9               MOVW    R25:R24, R19:R18
   \   00000008   012A               MOVW    R5:R4, R21:R20
    198              m_bfByteIsReceived = 0;
   \   0000000A   01FD               MOVW    R31:R30, R27:R26
   \   0000000C   E000               LDI     R16, 0
   \   0000000E   A702               STD     Z+42, R16
    199          
    200              if (m_bfRxBuffOverflow)
   \   00000010   01FD               MOVW    R31:R30, R27:R26
   \   00000012   A504               LDD     R16, Z+44
   \   00000014   2300               TST     R16
   \   00000016   F019               BREQ    ??Read_4
    201              {
    202                  return -1;
   \   00000018   EF0F               LDI     R16, 255
   \   0000001A   EF1F               LDI     R17, 255
   \   0000001C   C03A               RJMP    ??Read_5
    203              }
    204          
    205              if (uiLength <= m_nuiRxBuffByteCounter)
   \                     ??Read_4:
   \   0000001E   01FD               MOVW    R31:R30, R27:R26
   \   00000020   8D00               LDD     R16, Z+24
   \   00000022   8D11               LDD     R17, Z+25
   \   00000024   1504               CP      R16, R4
   \   00000026   0515               CPC     R17, R5
   \   00000028   F018               BRCS    ??Read_6
    206              {
    207                  return -1;
   \   0000002A   EF0F               LDI     R16, 255
   \   0000002C   EF1F               LDI     R17, 255
   \   0000002E   C031               RJMP    ??Read_5
    208              }
    209              else if (m_nuiRxBuffByteCounter)
   \                     ??Read_6:
   \   00000030   01FD               MOVW    R31:R30, R27:R26
   \   00000032   8D00               LDD     R16, Z+24
   \   00000034   8D11               LDD     R17, Z+25
   \   00000036   2B01               OR      R16, R17
   \   00000038   F111               BREQ    ??Read_7
    210              {
    211                  CPlatform::InterruptDisable();
   \   0000003A   ........           CALL    ??InterruptDisable
    212          
    213                  for (int16_t i = 0; i < m_nuiRxBuffByteCounter; i++)
   \   0000003E   E000               LDI     R16, 0
   \   00000040   E010               LDI     R17, 0
   \                     ??Read_8:
   \   00000042   01FD               MOVW    R31:R30, R27:R26
   \   00000044   8D20               LDD     R18, Z+24
   \   00000046   8D31               LDD     R19, Z+25
   \   00000048   1702               CP      R16, R18
   \   0000004A   0713               CPC     R17, R19
   \   0000004C   F458               BRCC    ??Read_9
    214                  {
    215                      puiDestination[i] = m_auiIntermediateBuff[i];
   \   0000004E   01FD               MOVW    R31:R30, R27:R26
   \   00000050   0FE0               ADD     R30, R16
   \   00000052   1FF1               ADC     R31, R17
   \   00000054   8D22               LDD     R18, Z+26
   \   00000056   01FC               MOVW    R31:R30, R25:R24
   \   00000058   0FE0               ADD     R30, R16
   \   0000005A   1FF1               ADC     R31, R17
   \   0000005C   8320               ST      Z, R18
    216                  }
   \   0000005E   5F0F               SUBI    R16, 255
   \   00000060   4F1F               SBCI    R17, 255
   \   00000062   CFEF               RJMP    ??Read_8
    217          
    218                  uint8_t uiCounter = m_nuiRxBuffByteCounter;
   \                     ??Read_9:
   \   00000064   01FD               MOVW    R31:R30, R27:R26
   \   00000066   8C60               LDD     R6, Z+24
   \   00000068   8C71               LDD     R7, Z+25
    219                  m_nuiRxBuffByteCounter = 0;
   \   0000006A   01FD               MOVW    R31:R30, R27:R26
   \   0000006C   E000               LDI     R16, 0
   \   0000006E   8F00               STD     Z+24, R16
   \   00000070   E000               LDI     R16, 0
   \   00000072   8F01               STD     Z+25, R16
    220          
    221                  CPlatform::InterruptEnable();
   \   00000074   ........           CALL    ??InterruptEnable
    222          
    223                  return uiCounter;
   \   00000078   2D06               MOV     R16, R6
   \   0000007A   E010               LDI     R17, 0
   \   0000007C   C00A               RJMP    ??Read_5
    224              }
    225              else if (0 == m_nuiRxBuffByteCounter)
   \                     ??Read_7:
   \   0000007E   01FD               MOVW    R31:R30, R27:R26
   \   00000080   8D00               LDD     R16, Z+24
   \   00000082   8D11               LDD     R17, Z+25
   \   00000084   2B01               OR      R16, R17
   \   00000086   F419               BRNE    ??Read_10
    226              {
    227                  return 0;
   \   00000088   E000               LDI     R16, 0
   \   0000008A   E010               LDI     R17, 0
   \   0000008C   C002               RJMP    ??Read_5
    228              }
    229              return 0;
   \                     ??Read_10:
   \   0000008E   E000               LDI     R16, 0
   \   00000090   E010               LDI     R17, 0
   \                     ??Read_5:
   \   00000092   E0E8               LDI     R30, 8
   \   00000094   ........           JMP     ?EPILOGUE_B8_L09
    230          }
    231          
    232          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    233          void CUart::UdreInterruptHandler(void)
   \                     ??UdreInterruptHandler:
    234          {
   \   00000000   01AD               MOVW    R21:R20, R27:R26
    235              if (m_nuiTxBuffByteCounter == 0)
   \   00000002   01F8               MOVW    R31:R30, R17:R16
   \   00000004   8924               LDD     R18, Z+20
   \   00000006   8935               LDD     R19, Z+21
   \   00000008   2B23               OR      R18, R19
   \   0000000A   F499               BRNE    ??UdreInterruptHandler_1
    236              {
    237                  *m_UCSRB &= ~((1 << UDRIE0));
   \   0000000C   01F8               MOVW    R31:R30, R17:R16
   \   0000000E   81A6               LDD     R26, Z+6
   \   00000010   81B7               LDD     R27, Z+7
   \   00000012   912C               LD      R18, X
   \   00000014   7D2F               ANDI    R18, 0xDF
   \   00000016   932C               ST      X, R18
    238                  *m_UCSRA |= (1 << TXC0);
   \   00000018   01F8               MOVW    R31:R30, R17:R16
   \   0000001A   81A4               LDD     R26, Z+4
   \   0000001C   81B5               LDD     R27, Z+5
   \   0000001E   912C               LD      R18, X
   \   00000020   6420               ORI     R18, 0x40
   \   00000022   932C               ST      X, R18
    239                  *m_UCSRB |= (1 << TXCIE0);
   \   00000024   01F8               MOVW    R31:R30, R17:R16
   \   00000026   81A6               LDD     R26, Z+6
   \   00000028   81B7               LDD     R27, Z+7
   \   0000002A   912C               LD      R18, X
   \   0000002C   6420               ORI     R18, 0x40
   \   0000002E   932C               ST      X, R18
    240                  return;
   \   00000030   C015               RJMP    ??UdreInterruptHandler_2
    241              }
    242              *m_UDR = *m_puiTxBuffer++;
   \                     ??UdreInterruptHandler_1:
   \   00000032   01F8               MOVW    R31:R30, R17:R16
   \   00000034   89A2               LDD     R26, Z+18
   \   00000036   89B3               LDD     R27, Z+19
   \   00000038   019D               MOVW    R19:R18, R27:R26
   \   0000003A   5F2F               SUBI    R18, 255
   \   0000003C   4F3F               SBCI    R19, 255
   \   0000003E   01F8               MOVW    R31:R30, R17:R16
   \   00000040   8B22               STD     Z+18, R18
   \   00000042   8B33               STD     Z+19, R19
   \   00000044   912C               LD      R18, X
   \   00000046   01F8               MOVW    R31:R30, R17:R16
   \   00000048   85A2               LDD     R26, Z+10
   \   0000004A   85B3               LDD     R27, Z+11
   \   0000004C   932C               ST      X, R18
    243              m_nuiTxBuffByteCounter--;
   \   0000004E   01F8               MOVW    R31:R30, R17:R16
   \   00000050   8924               LDD     R18, Z+20
   \   00000052   8935               LDD     R19, Z+21
   \   00000054   5021               SUBI    R18, 1
   \   00000056   4030               SBCI    R19, 0
   \   00000058   8B24               STD     Z+20, R18
   \   0000005A   8B35               STD     Z+21, R19
    244          }
   \                     ??UdreInterruptHandler_2:
   \   0000005C   01DA               MOVW    R27:R26, R21:R20
   \   0000005E   9508               RET
    245          
    246          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    247          void CUart::TxcInterruptHandler(void)
   \                     ??TxcInterruptHandler:
    248          {
   \   00000000   2F7B               MOV     R23, R27
   \   00000002   2E2A               MOV     R2, R26
   \   00000004   01D8               MOVW    R27:R26, R17:R16
    249              *m_UCSRB &= ~((1 << TXCIE0));
   \   00000006   9616               ADIW    R27:R26, 6
   \   00000008   91ED               LD      R30, X+
   \   0000000A   91FC               LD      R31, X
   \   0000000C   9717               SBIW    R27:R26, 7
   \   0000000E   8100               LD      R16, Z
   \   00000010   7B0F               ANDI    R16, 0xBF
   \   00000012   8300               ST      Z, R16
    250              TransmitDisable();
   \   00000014   018D               MOVW    R17:R16, R27:R26
   \   00000016   ....               RCALL   ??TransmitDisable
    251              m_bfFrameIsSended = 1;
   \   00000018   01FD               MOVW    R31:R30, R27:R26
   \   0000001A   E001               LDI     R16, 1
   \   0000001C   A703               STD     Z+43, R16
    252              return;
   \   0000001E   2DA2               MOV     R26, R2
   \   00000020   2FB7               MOV     R27, R23
   \   00000022   9508               RET
    253          }
    254          

   \                                 In  segment NEAR_Z, align 1, keep-with-next, root
   \   00000000                      REQUIRE `?<Segment init: NEAR_Z>`
    255                  uint8_t uiInterruptCounter = 0;
   \                     uiInterruptCounter:
   \   00000000                      DS8 1
    256          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    257          void CUart::RecvInterruptHandler(void)
   \                     ??RecvInterruptHandler:
    258          {
   \   00000000   ........           CALL    ?PROLOGUE4_L09
    259              uiInterruptCounter++;
   \   00000004   9120....           LDS     R18, uiInterruptCounter
   \   00000008   9523               INC     R18
   \   0000000A   9320....           STS     uiInterruptCounter, R18
    260              // промежуточный буфер приёма переполнен?
    261              if (m_nuiRxBuffByteCounter >=
    262                      UART_INTERMEDIATE_BUFF_LENGTH)
   \   0000000E   01F8               MOVW    R31:R30, R17:R16
   \   00000010   8D80               LDD     R24, Z+24
   \   00000012   8D91               LDD     R25, Z+25
   \   00000014   9740               SBIW    R25:R24, 16
   \   00000016   F038               BRCS    ??RecvInterruptHandler_1
    263              {
    264                  m_bfRxBuffOverflow = 1;
   \   00000018   01F8               MOVW    R31:R30, R17:R16
   \   0000001A   E021               LDI     R18, 1
   \   0000001C   A724               STD     Z+44, R18
    265                  m_bfByteIsReceived = 1;
   \   0000001E   01F8               MOVW    R31:R30, R17:R16
   \   00000020   E021               LDI     R18, 1
   \   00000022   A722               STD     Z+42, R18
   \   00000024   C013               RJMP    ??RecvInterruptHandler_2
    266              }
    267              else
    268              {
    269                  m_auiIntermediateBuff[m_nuiRxBuffByteCounter++] = *m_UDR;
   \                     ??RecvInterruptHandler_1:
   \   00000026   01F8               MOVW    R31:R30, R17:R16
   \   00000028   8D20               LDD     R18, Z+24
   \   0000002A   8D31               LDD     R19, Z+25
   \   0000002C   01C9               MOVW    R25:R24, R19:R18
   \   0000002E   9601               ADIW    R25:R24, 1
   \   00000030   01F8               MOVW    R31:R30, R17:R16
   \   00000032   8F80               STD     Z+24, R24
   \   00000034   8F91               STD     Z+25, R25
   \   00000036   01F8               MOVW    R31:R30, R17:R16
   \   00000038   85A2               LDD     R26, Z+10
   \   0000003A   85B3               LDD     R27, Z+11
   \   0000003C   914C               LD      R20, X
   \   0000003E   01F8               MOVW    R31:R30, R17:R16
   \   00000040   0FE2               ADD     R30, R18
   \   00000042   1FF3               ADC     R31, R19
   \   00000044   8F42               STD     Z+26, R20
    270                  m_bfByteIsReceived = 1;
   \   00000046   01F8               MOVW    R31:R30, R17:R16
   \   00000048   E021               LDI     R18, 1
   \   0000004A   A722               STD     Z+42, R18
    271              }
    272          }
   \                     ??RecvInterruptHandler_2:
   \   0000004C   E0E4               LDI     R30, 4
   \   0000004E   ........           JMP     ?EPILOGUE_B4_L09
    273          
    274          ////-----------------------------------------------------------------------------------------------------
    275          //// Прерывание по пустому регистру данных UDR
    276          //#pragma vector = USART0_UDRE_vect
    277          //__interrupt void SIG_UART0_DATA(void)
    278          //{
    279          //    CPlatform::m_pxUart0 -> UdreInterruptHandler();
    280          //}
    281          //
    282          ////-----------------------------------------------------------------------------------------------------
    283          //// Прерывание по завершению передачи UART
    284          //#pragma vector = USART0_TX_vect
    285          //__interrupt void SIG_UART0_TXC(void)
    286          //{
    287          //    CPlatform::m_pxUart0 -> TxcInterruptHandler();
    288          //}
    289          //
    290          ////-----------------------------------------------------------------------------------------------------
    291          //// Прерывание по завершению приема UART
    292          //#pragma vector = USART0_RX_vect
    293          //__interrupt void SIG_UART0_RECV(void)
    294          //{
    295          //    CPlatform::m_pxUart0 -> RecvInterruptHandler();
    296          //}
    297          
    298          //-----------------------------------------------------------------------------------------------------
    299          // Прерывание по пустому регистру данных UDR
    300          #pragma vector = USART1_UDRE_vect

   \                                 In  segment CODE, align 2, keep-with-next
    301          __interrupt void SIG_UART1_DATA(void)
   \                     ??SIG_UART1_DATA:
    302          {
   \   00000000   93FA               ST      -Y, R31
   \   00000002   93EA               ST      -Y, R30
   \   00000004   937A               ST      -Y, R23
   \   00000006   936A               ST      -Y, R22
   \   00000008   935A               ST      -Y, R21
   \   0000000A   934A               ST      -Y, R20
   \   0000000C   933A               ST      -Y, R19
   \   0000000E   932A               ST      -Y, R18
   \   00000010   931A               ST      -Y, R17
   \   00000012   930A               ST      -Y, R16
   \   00000014   B76F               IN      R22, 0x3F
   \   00000016   B77B               IN      R23, 0x3B
    303              CPlatform::m_pxUart1 -> UdreInterruptHandler();
   \   00000018   9100....           LDS     R16, ??m_pxUart1
   \   0000001C   9110....           LDS     R17, (??m_pxUart1 + 1)
   \   00000020   ....               RCALL   ??UdreInterruptHandler
    304          }
   \   00000022   BF7B               OUT     0x3B, R23
   \   00000024   BF6F               OUT     0x3F, R22
   \   00000026   9109               LD      R16, Y+
   \   00000028   9119               LD      R17, Y+
   \   0000002A   9129               LD      R18, Y+
   \   0000002C   9139               LD      R19, Y+
   \   0000002E   9149               LD      R20, Y+
   \   00000030   9159               LD      R21, Y+
   \   00000032   9169               LD      R22, Y+
   \   00000034   9179               LD      R23, Y+
   \   00000036   91E9               LD      R30, Y+
   \   00000038   91F9               LD      R31, Y+
   \   0000003A   9518               RETI
    305          
    306          //-----------------------------------------------------------------------------------------------------
    307          // Прерывание по завершению передачи UART
    308          #pragma vector = USART1_TX_vect

   \                                 In  segment CODE, align 2, keep-with-next
    309          __interrupt void SIG_UART1_TXC(void)
   \                     ??SIG_UART1_TXC:
    310          {
   \   00000000   93FA               ST      -Y, R31
   \   00000002   93EA               ST      -Y, R30
   \   00000004   923A               ST      -Y, R3
   \   00000006   922A               ST      -Y, R2
   \   00000008   921A               ST      -Y, R1
   \   0000000A   920A               ST      -Y, R0
   \   0000000C   937A               ST      -Y, R23
   \   0000000E   936A               ST      -Y, R22
   \   00000010   935A               ST      -Y, R21
   \   00000012   934A               ST      -Y, R20
   \   00000014   933A               ST      -Y, R19
   \   00000016   932A               ST      -Y, R18
   \   00000018   931A               ST      -Y, R17
   \   0000001A   930A               ST      -Y, R16
   \   0000001C   B61F               IN      R1, 0x3F
   \   0000001E   B63B               IN      R3, 0x3B
    311              CPlatform::m_pxUart1 -> TxcInterruptHandler();
   \   00000020   9100....           LDS     R16, ??m_pxUart1
   \   00000024   9110....           LDS     R17, (??m_pxUart1 + 1)
   \   00000028   ....               RCALL   ??TxcInterruptHandler
    312          }
   \   0000002A   BE3B               OUT     0x3B, R3
   \   0000002C   BE1F               OUT     0x3F, R1
   \   0000002E   9109               LD      R16, Y+
   \   00000030   9119               LD      R17, Y+
   \   00000032   9129               LD      R18, Y+
   \   00000034   9139               LD      R19, Y+
   \   00000036   9149               LD      R20, Y+
   \   00000038   9159               LD      R21, Y+
   \   0000003A   9169               LD      R22, Y+
   \   0000003C   9179               LD      R23, Y+
   \   0000003E   9009               LD      R0, Y+
   \   00000040   9019               LD      R1, Y+
   \   00000042   9029               LD      R2, Y+
   \   00000044   9039               LD      R3, Y+
   \   00000046   91E9               LD      R30, Y+
   \   00000048   91F9               LD      R31, Y+
   \   0000004A   9518               RETI
    313          
    314          //-----------------------------------------------------------------------------------------------------
    315          // Прерывание по завершению приема UART
    316          #pragma vector = USART1_RX_vect

   \                                 In  segment CODE, align 2, keep-with-next
    317          __interrupt void SIG_UART1_RECV(void)
   \                     ??SIG_UART1_RECV:
    318          {
   \   00000000   93FA               ST      -Y, R31
   \   00000002   93EA               ST      -Y, R30
   \   00000004   920A               ST      -Y, R0
   \   00000006   936A               ST      -Y, R22
   \   00000008   935A               ST      -Y, R21
   \   0000000A   934A               ST      -Y, R20
   \   0000000C   933A               ST      -Y, R19
   \   0000000E   932A               ST      -Y, R18
   \   00000010   931A               ST      -Y, R17
   \   00000012   930A               ST      -Y, R16
   \   00000014   B75F               IN      R21, 0x3F
   \   00000016   B76B               IN      R22, 0x3B
    319              CPlatform::m_pxUart1 -> RecvInterruptHandler();
   \   00000018   9100....           LDS     R16, ??m_pxUart1
   \   0000001C   9110....           LDS     R17, (??m_pxUart1 + 1)
   \   00000020   ....               RCALL   ??RecvInterruptHandler
    320          }
   \   00000022   BF6B               OUT     0x3B, R22
   \   00000024   BF5F               OUT     0x3F, R21
   \   00000026   9109               LD      R16, Y+
   \   00000028   9119               LD      R17, Y+
   \   0000002A   9129               LD      R18, Y+
   \   0000002C   9139               LD      R19, Y+
   \   0000002E   9149               LD      R20, Y+
   \   00000030   9159               LD      R21, Y+
   \   00000032   9169               LD      R22, Y+
   \   00000034   9009               LD      R0, Y+
   \   00000036   91E9               LD      R30, Y+
   \   00000038   91F9               LD      R31, Y+
   \   0000003A   9518               RETI
    321          
    322          //-----------------------------------------------------------------------------------------------------
    323          
    324          
    325          
    326          //----------------------------------------- EEPROM ----------------------------------------------------------------

   \                                 In  segment NEAR_Z, align 1, keep-with-next, root
   \   00000000                      REQUIRE `?<Segment init: NEAR_Z>`
    327          uint8_t* CEeprom::m_puiBuffer;
   \                     ??m_puiBuffer:
   \   00000000                      DS8 2

   \                                 In  segment NEAR_Z, align 1, keep-with-next, root
   \   00000000                      REQUIRE `?<Segment init: NEAR_Z>`
    328          uint16_t CEeprom::m_uiAddress;
   \                     ??m_uiAddress:
   \   00000000                      DS8 2

   \                                 In  segment NEAR_Z, align 1, keep-with-next, root
   \   00000000                      REQUIRE `?<Segment init: NEAR_Z>`
    329          uint16_t CEeprom::m_nuiBufferByteCounter;
   \                     ??m_nuiBufferByteCounter:
   \   00000000                      DS8 2

   \                                 In  segment NEAR_Z, align 1, keep-with-next, root
   \   00000000                      REQUIRE `?<Segment init: NEAR_Z>`
    330          uint16_t CEeprom::m_uiLength;
   \                     ??m_uiLength:
   \   00000000                      DS8 2

   \                                 In  segment NEAR_Z, align 1, keep-with-next, root
   \   00000000                      REQUIRE `?<Segment init: NEAR_Z>`
    331          bool CEeprom::m_bBufferIsWrited;
   \                     ??m_bBufferIsWrited:
   \   00000000                      DS8 1
    332          
    333          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    334          CEeprom::CEeprom()
   \                     ??CEeprom:
    335          {
   \   00000000   ....               LDI     R18, LOW(??__vtbl_1)
   \   00000002   ....               LDI     R19, (??__vtbl_1) >> 8
   \   00000004   01F8               MOVW    R31:R30, R17:R16
   \   00000006   8320               ST      Z, R18
   \   00000008   8331               STD     Z+1, R19
    336          
    337          }
   \   0000000A   9508               RET
    338          
    339          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    340          CEeprom::~CEeprom()
   \                     `?~CEeprom`:
    341          {
   \   00000000   939A               ST      -Y, R25
   \   00000002   938A               ST      -Y, R24
   \   00000004   01C8               MOVW    R25:R24, R17:R16
   \   00000006   2F08               MOV     R16, R24
   \   00000008   2B09               OR      R16, R25
   \   0000000A   F029               BREQ    `?~CEeprom_1`
   \   0000000C   FB20               BST     R18, 0
   \   0000000E   F41E               BRTC    `?~CEeprom_1`
    342          
    343          }
   \   00000010   018C               MOVW    R17:R16, R25:R24
   \   00000012   ........           CALL    `??operator delete`
   \                     `?~CEeprom_1`:
   \   00000016   9189               LD      R24, Y+
   \   00000018   9199               LD      R25, Y+
   \   0000001A   9508               RET
    344          
    345          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    346          uint8_t CEeprom::Read(uint8_t *puiDestination, uint16_t uiSource, uint16_t uiLength)
   \                     ??Read_1:
    347          {
   \   00000000   2F79               MOV     R23, R25
   \   00000002   2E08               MOV     R0, R24
   \   00000004   01F8               MOVW    R31:R30, R17:R16
   \   00000006   01C9               MOVW    R25:R24, R19:R18
    348              while (uiLength != 0)
   \                     ??Read_11:
   \   00000008   2F04               MOV     R16, R20
   \   0000000A   2B05               OR      R16, R21
   \   0000000C   F041               BREQ    ??Read_12
    349              {
    350                  *puiDestination++ = ReadByte(uiSource++);
   \   0000000E   018C               MOVW    R17:R16, R25:R24
   \   00000010   ....               RCALL   ??ReadByte
   \   00000012   9601               ADIW    R25:R24, 1
   \   00000014   8300               ST      Z, R16
   \   00000016   9631               ADIW    R31:R30, 1
    351                  uiLength--;
   \   00000018   5041               SUBI    R20, 1
   \   0000001A   4050               SBCI    R21, 0
   \   0000001C   CFF5               RJMP    ??Read_11
    352              }
    353              return 1;
   \                     ??Read_12:
   \   0000001E   E001               LDI     R16, 1
   \   00000020   2D80               MOV     R24, R0
   \   00000022   2F97               MOV     R25, R23
   \   00000024   9508               RET
    354          }
    355          
    356          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    357          uint8_t CEeprom::Write(uint16_t uiDestination, uint8_t *puiSource, uint16_t uiLength)
   \                     ??Write_1:
    358          {
   \   00000000   ........           CALL    ?PROLOGUE4_L09
   \   00000004   0108               MOVW    R1:R0, R17:R16
   \   00000006   01F9               MOVW    R31:R30, R19:R18
   \   00000008   01CA               MOVW    R25:R24, R21:R20
    359              while (uiLength != 0)
   \                     ??Write_2:
   \   0000000A   2F08               MOV     R16, R24
   \   0000000C   2B09               OR      R16, R25
   \   0000000E   F061               BREQ    ??Write_3
    360              {
    361                  WriteByte((uiDestination++), (*puiSource++));
   \   00000010   01DF               MOVW    R27:R26, R31:R30
   \   00000012   01FD               MOVW    R31:R30, R27:R26
   \   00000014   9631               ADIW    R31:R30, 1
   \   00000016   912C               LD      R18, X
   \   00000018   0180               MOVW    R17:R16, R1:R0
   \   0000001A   ....               RCALL   ??WriteByte
   \   0000001C   E001               LDI     R16, 1
   \   0000001E   0E00               ADD     R0, R16
   \   00000020   E000               LDI     R16, 0
   \   00000022   1E10               ADC     R1, R16
    362                  uiLength--;
   \   00000024   9701               SBIW    R25:R24, 1
   \   00000026   CFF1               RJMP    ??Write_2
    363              }
    364              return 1;
   \                     ??Write_3:
   \   00000028   E001               LDI     R16, 1
   \   0000002A   E0E4               LDI     R30, 4
   \   0000002C   ........           JMP     ?EPILOGUE_B4_L09
    365          }
    366          
    367          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    368          uint8_t CEeprom::ReadByte(uint16_t uiSource)
   \                     ??ReadByte:
    369          {
   \   00000000   0198               MOVW    R19:R18, R17:R16
    370              __watchdog_reset();
   \   00000002   95A8               WDR
    371              while (BitIsSet(EECR, EEWE))
   \                     ??ReadByte_1:
   \   00000004   9BE1               SBIS    0x1C, 0x01
   \   00000006   C002               RJMP    ??ReadByte_2
    372              {
    373                  __watchdog_reset();
   \   00000008   95A8               WDR
   \   0000000A   CFFC               RJMP    ??ReadByte_1
    374              }
    375              __disable_interrupt();
   \                     ??ReadByte_2:
   \   0000000C   94F8               CLI
    376              EEAR = uiSource;
   \   0000000E   BB3F               OUT     0x1F, R19
   \   00000010   BB2E               OUT     0x1E, R18
    377              SetBit(EECR, EERE);
   \   00000012   9AE0               SBI     0x1C, 0x00
    378              __enable_interrupt();
   \   00000014   9478               SEI
    379              return EEDR;
   \   00000016   B30D               IN      R16, 0x1D
   \   00000018   9508               RET
   \   0000001A                      REQUIRE _A_EECR
   \   0000001A                      REQUIRE _A_EEAR
   \   0000001A                      REQUIRE _A_EEDR
    380          }
    381          
    382          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    383          void CEeprom::WriteByte(uint16_t uiDestination, uint8_t uiData)
   \                     ??WriteByte:
    384          {
   \   00000000   01A8               MOVW    R21:R20, R17:R16
   \   00000002   2F62               MOV     R22, R18
    385              if (ReadByte(uiDestination) != uiData)
   \   00000004   018A               MOVW    R17:R16, R21:R20
   \   00000006   ....               RCALL   ??ReadByte
   \   00000008   1706               CP      R16, R22
   \   0000000A   F061               BREQ    ??WriteByte_1
    386              {
    387                  __watchdog_reset();
   \   0000000C   95A8               WDR
    388                  while (BitIsSet(EECR, EEWE))
   \                     ??WriteByte_2:
   \   0000000E   9BE1               SBIS    0x1C, 0x01
   \   00000010   C002               RJMP    ??WriteByte_3
    389                  {
    390                      __watchdog_reset();
   \   00000012   95A8               WDR
   \   00000014   CFFC               RJMP    ??WriteByte_2
    391                  }
    392                  __disable_interrupt();
   \                     ??WriteByte_3:
   \   00000016   94F8               CLI
    393                  EEAR = uiDestination;
   \   00000018   BB5F               OUT     0x1F, R21
   \   0000001A   BB4E               OUT     0x1E, R20
    394                  EEDR = uiData;
   \   0000001C   BB6D               OUT     0x1D, R22
    395                  EECR |= (1<<EEMWE);
   \   0000001E   9AE2               SBI     0x1C, 0x02
    396                  EECR |= (1<<EEWE);
   \   00000020   9AE1               SBI     0x1C, 0x01
    397                  __enable_interrupt();
   \   00000022   9478               SEI
    398              }
    399          }
   \                     ??WriteByte_1:
   \   00000024   9508               RET
   \   00000026                      REQUIRE _A_EECR
   \   00000026                      REQUIRE _A_EEAR
   \   00000026                      REQUIRE _A_EEDR
    400          
    401          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    402          void CEeprom::WriteInterrupt(uint16_t uiDestination, uint8_t *puiSource, uint16_t uiLength)
   \                     ??WriteInterrupt:
    403          {
   \   00000000   ........           CALL    ?PROLOGUE6_L09
   \   00000004                      REQUIRE ?Register_R4_is_cg_reg
   \   00000004                      REQUIRE ?Register_R5_is_cg_reg
   \   00000004   01C8               MOVW    R25:R24, R17:R16
   \   00000006   0129               MOVW    R5:R4, R19:R18
   \   00000008   01DA               MOVW    R27:R26, R21:R20
    404              SetAddress(uiDestination);
   \   0000000A   018C               MOVW    R17:R16, R25:R24
   \   0000000C   ........           CALL    ??SetAddress
    405              SetBufferPointer(puiSource);
   \   00000010   0182               MOVW    R17:R16, R5:R4
   \   00000012   ........           CALL    ??SetBufferPointer
    406              SetLength(uiLength);
   \   00000016   018D               MOVW    R17:R16, R27:R26
   \   00000018   ........           CALL    ??SetLength
    407              SetBufferByteCounter(0);
   \   0000001C   E000               LDI     R16, 0
   \   0000001E   E010               LDI     R17, 0
   \   00000020   ........           CALL    ??SetBufferByteCounter
    408          }
   \   00000024   E0E6               LDI     R30, 6
   \   00000026   ........           JMP     ?EPILOGUE_B6_L09
    409          
    410          //-----------------------------------------------------------------------------------------------------
    411          // Прерывание по завершению записи.

   \                                 In  segment CODE, align 2, keep-with-next
    412          void CEeprom::ReadyInterruptHandler(void)
   \                     ??ReadyInterruptHandler:
    413          {
   \   00000000   ........           CALL    ?PROLOGUE4_L09
    414              if (GetBufferByteCounter() < GetLength())
   \   00000004   ........           CALL    ??GetBufferByteCounter
   \   00000008   01C8               MOVW    R25:R24, R17:R16
   \   0000000A   ........           CALL    ??GetLength
   \   0000000E   1780               CP      R24, R16
   \   00000010   0791               CPC     R25, R17
   \   00000012   F540               BRCC    ??ReadyInterruptHandler_1
    415              {
    416                  EEAR = GetAddress();
   \   00000014   ........           CALL    ??GetAddress
   \   00000018   BB1F               OUT     0x1F, R17
   \   0000001A   BB0E               OUT     0x1E, R16
    417                  SetAddress(GetAddress() + 1);
   \   0000001C   ........           CALL    ??GetAddress
   \   00000020   5F0F               SUBI    R16, 255
   \   00000022   4F1F               SBCI    R17, 255
   \   00000024   ........           CALL    ??SetAddress
    418                  EECR |= BIT(EERE);
   \   00000028   9AE0               SBI     0x1C, 0x00
    419          
    420                  if (EEDR != GetBufferPointer()[GetBufferByteCounter()])
   \   0000002A   B38D               IN      R24, 0x1D
   \   0000002C   ........           CALL    ??GetBufferPointer
   \   00000030   01D8               MOVW    R27:R26, R17:R16
   \   00000032   ........           CALL    ??GetBufferByteCounter
   \   00000036   0FA0               ADD     R26, R16
   \   00000038   1FB1               ADC     R27, R17
   \   0000003A   910C               LD      R16, X
   \   0000003C   1780               CP      R24, R16
   \   0000003E   F059               BREQ    ??ReadyInterruptHandler_2
    421                  {
    422                      EEDR = GetBufferPointer()[GetBufferByteCounter()];
   \   00000040   ........           CALL    ??GetBufferPointer
   \   00000044   01D8               MOVW    R27:R26, R17:R16
   \   00000046   ........           CALL    ??GetBufferByteCounter
   \   0000004A   0FA0               ADD     R26, R16
   \   0000004C   1FB1               ADC     R27, R17
   \   0000004E   910C               LD      R16, X
   \   00000050   BB0D               OUT     0x1D, R16
    423                      EECR |= BIT(EEMWE);
   \   00000052   9AE2               SBI     0x1C, 0x02
    424                      EECR |= BIT(EEWE);
   \   00000054   9AE1               SBI     0x1C, 0x01
    425                  }
    426          
    427                  SetBufferByteCounter(GetBufferByteCounter() + 1);
   \                     ??ReadyInterruptHandler_2:
   \   00000056   ........           CALL    ??GetBufferByteCounter
   \   0000005A   5F0F               SUBI    R16, 255
   \   0000005C   4F1F               SBCI    R17, 255
   \   0000005E   ........           CALL    ??SetBufferByteCounter
   \   00000062   C009               RJMP    ??ReadyInterruptHandler_3
    428              }
    429              else
    430              {
    431                  ReadyInterruptDisaable();
   \                     ??ReadyInterruptHandler_1:
   \   00000064   ........           CALL    ??ReadyInterruptDisaable
    432                  EEAR   = 0x0000;			// Обнуляем для безопасности
   \   00000068   E000               LDI     R16, 0
   \   0000006A   E010               LDI     R17, 0
   \   0000006C   BB1F               OUT     0x1F, R17
   \   0000006E   BB0E               OUT     0x1E, R16
    433                  SetBufferIsWrited(true);
   \   00000070   E001               LDI     R16, 1
   \   00000072   ........           CALL    ??SetBufferIsWrited
    434              }
    435          }
   \                     ??ReadyInterruptHandler_3:
   \   00000076   E0E4               LDI     R30, 4
   \   00000078   ........           JMP     ?EPILOGUE_B4_L09
   \   0000007C                      REQUIRE _A_EEAR
   \   0000007C                      REQUIRE _A_EECR
   \   0000007C                      REQUIRE _A_EEDR
    436          
    437          //-----------------------------------------------------------------------------------------------------
    438          // Прерывание по завершению записи.
    439          #pragma vector = EE_READY_vect

   \                                 In  segment CODE, align 2, keep-with-next
    440          __interrupt void EEPROM_EE_READY(void)
   \                     ??EEPROM_EE_READY:
    441          {
   \   00000000   939A               ST      -Y, R25
   \   00000002   938A               ST      -Y, R24
   \   00000004   93FA               ST      -Y, R31
   \   00000006   93EA               ST      -Y, R30
   \   00000008   923A               ST      -Y, R3
   \   0000000A   922A               ST      -Y, R2
   \   0000000C   921A               ST      -Y, R1
   \   0000000E   920A               ST      -Y, R0
   \   00000010   937A               ST      -Y, R23
   \   00000012   936A               ST      -Y, R22
   \   00000014   935A               ST      -Y, R21
   \   00000016   934A               ST      -Y, R20
   \   00000018   933A               ST      -Y, R19
   \   0000001A   932A               ST      -Y, R18
   \   0000001C   931A               ST      -Y, R17
   \   0000001E   930A               ST      -Y, R16
   \   00000020   B78F               IN      R24, 0x3F
   \   00000022   B79B               IN      R25, 0x3B
    442              CEeprom::ReadyInterruptHandler();
   \   00000024   ....               RCALL   ??ReadyInterruptHandler
    443          }
   \   00000026   BF9B               OUT     0x3B, R25
   \   00000028   BF8F               OUT     0x3F, R24
   \   0000002A   9109               LD      R16, Y+
   \   0000002C   9119               LD      R17, Y+
   \   0000002E   9129               LD      R18, Y+
   \   00000030   9139               LD      R19, Y+
   \   00000032   9149               LD      R20, Y+
   \   00000034   9159               LD      R21, Y+
   \   00000036   9169               LD      R22, Y+
   \   00000038   9179               LD      R23, Y+
   \   0000003A   9009               LD      R0, Y+
   \   0000003C   9019               LD      R1, Y+
   \   0000003E   9029               LD      R2, Y+
   \   00000040   9039               LD      R3, Y+
   \   00000042   91E9               LD      R30, Y+
   \   00000044   91F9               LD      R31, Y+
   \   00000046   9189               LD      R24, Y+
   \   00000048   9199               LD      R25, Y+
   \   0000004A   9518               RETI
    444          
    445          //-----------------------------------------------------------------------------------------------------
    446          
    447          
    448          
    449          
    450          
    451          
    452          
    453          
    454          //-----------------------------------------------------------------------------------------------------
    455          // Основной блок БД прибора

   \                                 In  segment NEAR_F, align 1, keep-with-next, root
    456          TDataBase __flash CFlash::xMainDataBase =
   \                     ??xMainDataBase:
   \   00000000   010200300000       DC8 2, 1, 48, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              000000000000
   \              0000        
   \   00000014   0A6F               DC16 2671
   \   00000016   2F0173080006       DC8 1, 47, 8, 115, 6, 0, 0
   \              00          
   \   0000001D   1B17               DC16 6935
   \   0000001F   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              00000000    
   \   0000002F   F0BE               DC16 61630
   \   00000031   010003020504       DC8 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18
   \              070609080B0A
   \              0D0C0F0E1110
   \              12          
   \   00000044   141316151817       DC8 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35
   \              1A191C1B1E1D
   \              201F222123  
   \   00000055   252427262928       DC8 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 255, 255, 255, 255
   \              2B2A2D2C2F2E
   \              FFFFFFFF    
   \   00000065   FFFFFFFFFFFF       DC8 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255
   \              FFFFFFFFFFFF
   \              FF          
   \   00000072   FFFFFFFFFFFF       DC8 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255
   \              FFFFFFFFFFFF
   \              FF          
   \   0000007F   FFFFFFFFFFFF       DC8 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255
   \              FFFFFFFFFFFF
   \              FF          
   \   0000008C   FFFFFFFFFFFF       DC8 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255
   \              FFFFFFFFFFFF
   \              FF          
   \   00000099   FFFFFFFFFFFF       DC8 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255
   \              FFFFFFFFFFFF
   \              FF          
   \   000000A6   FFFFFFFFFFFF       DC8 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255
   \              FFFFFFFFFF  
   \   000000B1   5AF9               DC16 23289
   \   000000B3   030303030303       DC8 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3
   \              030303030303
   \              030303030303
   \              0303030303  
   \   000000CA   020302020202       DC8 3, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2
   \              020202020202
   \              020202020202
   \              0202020202  
   \   000000E1   020202020202       DC8 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2
   \              020202020202
   \              020202020202
   \   000000F3   4139               DC16 16697
   \   000000F5   3E3E3E3E3C3C       DC8 62, 62, 62, 62, 60, 60, 60, 60, 255, 255, 255, 255, 255, 255, 255
   \              3C3CFFFFFFFF
   \              FFFFFF      
   \   00000104   FFFFFFFFFFFF       DC8 255, 255, 255, 255, 255, 255, 255, 255, 255
   \              FFFFFF      
   \   0000010D   6F4B               DC16 28491
   \   0000010F   020108042010       DC8 1, 2, 4, 8, 16, 32, 64, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              804000000000
   \              000000000000
   \              000000      
   \   00000124   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              000000000000
   \              0000000000  
   \   0000013B   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              000000000000
   \              0000000000  
   \   00000152   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              000000000000
   \              0000000000  
   \   00000169   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              000000000000
   \              0000000000  
   \   00000180   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
   \              000000000000
   \              000000      
   \   0000018F   E899               DC16 59545
   \   00000191   010102             DC8 1, 1, 2
   \   00000194   0010               DC16 16
   \   00000196   002000             DC8 32, 0, 0
   \   00000199   0000               DC16 0
   \   0000019B   000000             DC8 0, 0, 0
   \   0000019E   0000               DC16 0
   \   000001A0   000000             DC8 0, 0, 0
   \   000001A3   0000               DC16 0
   \   000001A5   000000             DC8 0, 0, 0
   \   000001A8   0000               DC16 0
   \   000001AA   000000             DC8 0, 0, 0
   \   000001AD   0000               DC16 0
   \   000001AF   000000             DC8 0, 0, 0
   \   000001B2   0000               DC16 0
   \   000001B4   000000             DC8 0, 0, 0
   \   000001B7   0000               DC16 0
   \   000001B9   000000             DC8 0, 0, 0
   \   000001BC   0000               DC16 0
   \   000001BE   000000             DC8 0, 0, 0
   \   000001C1   0000               DC16 0
   \   000001C3   000000             DC8 0, 0, 0
   \   000001C6   0000               DC16 0
   \   000001C8   000000             DC8 0, 0, 0
   \   000001CB   0000               DC16 0
   \   000001CD   000000             DC8 0, 0, 0
   \   000001D0   0000               DC16 0
   \   000001D2   000000             DC8 0, 0, 0
   \   000001D5   0000               DC16 0
   \   000001D7   000000             DC8 0, 0, 0
   \   000001DA   0000               DC16 0
   \   000001DC   000000             DC8 0, 0, 0
   \   000001DF   0000               DC16 0
   \   000001E1   00                 DC8 0
   \   000001E2   E223               DC16 57891
   \   000001E4   010105             DC8 1, 1, 5
   \   000001E7   0000               DC16 0
   \   000001E9   00FF00             DC8 255, 0, 0
   \   000001EC   0000               DC16 0
   \   000001EE   000000             DC8 0, 0, 0
   \   000001F1   0000               DC16 0
   \   000001F3   000000             DC8 0, 0, 0
   \   000001F6   0000               DC16 0
   \   000001F8   000000             DC8 0, 0, 0
   \   000001FB   0000               DC16 0
   \   000001FD   000000             DC8 0, 0, 0
   \   00000200   0000               DC16 0
   \   00000202   000000             DC8 0, 0, 0
   \   00000205   0000               DC16 0
   \   00000207   000000             DC8 0, 0, 0
   \   0000020A   0000               DC16 0
   \   0000020C   000000             DC8 0, 0, 0
   \   0000020F   0000               DC16 0
   \   00000211   000000             DC8 0, 0, 0
   \   00000214   0000               DC16 0
   \   00000216   000000             DC8 0, 0, 0
   \   00000219   0000               DC16 0
   \   0000021B   000000             DC8 0, 0, 0
   \   0000021E   0000               DC16 0
   \   00000220   000000             DC8 0, 0, 0
   \   00000223   0000               DC16 0
   \   00000225   000000             DC8 0, 0, 0
   \   00000228   0000               DC16 0
   \   0000022A   000000             DC8 0, 0, 0
   \   0000022D   0000               DC16 0
   \   0000022F   000000             DC8 0, 0, 0
   \   00000232   0000               DC16 0
   \   00000234   00                 DC8 0
   \   00000235   9C7B               DC16 40059
   \   00000237   010105             DC8 1, 1, 5
   \   0000023A   0001               DC16 1
   \   0000023C   00FF00             DC8 255, 0, 0
   \   0000023F   0000               DC16 0
   \   00000241   000000             DC8 0, 0, 0
   \   00000244   0000               DC16 0
   \   00000246   000000             DC8 0, 0, 0
   \   00000249   0000               DC16 0
   \   0000024B   000000             DC8 0, 0, 0
   \   0000024E   0000               DC16 0
   \   00000250   000000             DC8 0, 0, 0
   \   00000253   0000               DC16 0
   \   00000255   000000             DC8 0, 0, 0
   \   00000258   0000               DC16 0
   \   0000025A   000000             DC8 0, 0, 0
   \   0000025D   0000               DC16 0
   \   0000025F   000000             DC8 0, 0, 0
   \   00000262   0000               DC16 0
   \   00000264   000000             DC8 0, 0, 0
   \   00000267   0000               DC16 0
   \   00000269   000000             DC8 0, 0, 0
   \   0000026C   0000               DC16 0
   \   0000026E   000000             DC8 0, 0, 0
   \   00000271   0000               DC16 0
   \   00000273   000000             DC8 0, 0, 0
   \   00000276   0000               DC16 0
   \   00000278   000000             DC8 0, 0, 0
   \   0000027B   0000               DC16 0
   \   0000027D   000000             DC8 0, 0, 0
   \   00000280   0000               DC16 0
   \   00000282   000000             DC8 0, 0, 0
   \   00000285   0000               DC16 0
   \   00000287   00                 DC8 0
   \   00000288   6CFB               DC16 27899
   \   0000028A   000000000000       DC8 0, 0, 0, 0, 0, 0, 0, 0
   \              0000        
   \   00000292   0B40               DC16 2880
    457          {
    458              {
    459                  2,1,48,false,false,false,false,0,0,{ 0,0,0,0,0,0,0,0,0,0,0,0 }
    460              },0x0A6F,
    461          
    462          //    {
    463          //        2,1,48,false,false,0,{ 0,0,0,0,0,0,0,0,0,0,0,0,0,0 }
    464          //    },0x0A6F,
    465          
    466              {
    467                  1,47,BIT(USBS1),0x73,BIT(CS02)|BIT(CS01),0x00,0x00
    468              },0x1B17,
    469          
    470              {
    471                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    472                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
    473              },0xF0BE,
    474          
    475              {
    476                  0, 1, 2, 3, 4, 5, 6, 7,
    477                  8, 9, 10, 11, 12, 13, 14, 15,
    478                  16, 17, 18, 19, 20, 21, 22, 23,
    479                  24, 25, 26, 27, 28, 29, 30, 31,
    480                  32, 33, 34, 35, 36, 37, 38, 39,
    481                  40, 41, 42, 43, 44, 45, 46, 47,
    482                  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
    483                  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
    484                  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
    485                  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
    486                  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
    487                  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
    488                  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
    489                  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
    490                  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
    491                  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF
    492              },0x5AF9,
    493          
    494              {
    495                  0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,
    496                  0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,
    497                  0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,
    498                  0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,
    499                  0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,
    500                  0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,
    501                  0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,
    502                  0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02
    503              },0x4139,
    504          
    505              {
    506                  { 0x3E,0x3E,0x3E,0x3E,0x3C,0x3C,0x3C,0x3C },
    507                  { 0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF },
    508                  { 0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF }
    509              },0x6F4B,
    510          
    511              {
    512                  0x01,0x02,0x04,0x08,0x10,0x20,0x40,0x80,
    513                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    514                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    515                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    516                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    517                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    518                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    519                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    520                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    521                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    522                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    523                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    524                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    525                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    526                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    527                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    528              },0xE899,
    529          
    530              {
    531                  1,
    532                  {
    533                      {
    534                          1,0x02,0x0010,0x20
    535                      },
    536                      {
    537                          0,0,0,0
    538                      },
    539                      {
    540                          0,0,0,0
    541                      },
    542                      {
    543                          0,0,0,0
    544                      },
    545                      {
    546                          0,0,0,0
    547                      },
    548                      {
    549                          0,0,0,0
    550                      },
    551                      {
    552                          0,0,0,0
    553                      },
    554                      {
    555                          0,0,0,0
    556                      },
    557                      {
    558                          0,0,0,0
    559                      },
    560                      {
    561                          0,0,0,0
    562                      },
    563                      {
    564                          0,0,0,0
    565                      },
    566                      {
    567                          0,0,0,0
    568                      },
    569                      {
    570                          0,0,0,0
    571                      },
    572                      {
    573                          0,0,0,0
    574                      },
    575                      {
    576                          0,0,0,0
    577                      },
    578                      {
    579                          0,0,0,0
    580                      }
    581                  }
    582              },0xE223,
    583          
    584              {
    585                  1,
    586                  {
    587                      {
    588                          1,0x05,0x0000,0xFF
    589                      },
    590                      {
    591                          0,0,0,0
    592                      },
    593                      {
    594                          0,0,0,0
    595                      },
    596                      {
    597                          0,0,0,0
    598                      },
    599                      {
    600                          0,0,0,0
    601                      },
    602                      {
    603                          0,0,0,0
    604                      },
    605                      {
    606                          0,0,0,0
    607                      },
    608                      {
    609                          0,0,0,0
    610                      },
    611                      {
    612                          0,0,0,0
    613                      },
    614                      {
    615                          0,0,0,0
    616                      },
    617                      {
    618                          0,0,0,0
    619                      },
    620                      {
    621                          0,0,0,0
    622                      },
    623                      {
    624                          0,0,0,0
    625                      },
    626                      {
    627                          0,0,0,0
    628                      },
    629                      {
    630                          0,0,0,0
    631                      },
    632                      {
    633                          0,0,0,0
    634                      }
    635                  }
    636              },0x9C7B,
    637          
    638              {
    639                  1,
    640                  {
    641                      {
    642                          1,0x05,0x0001,0xFF
    643                      },
    644                      {
    645                          0,0,0,0
    646                      },
    647                      {
    648                          0,0,0,0
    649                      },
    650                      {
    651                          0,0,0,0
    652                      },
    653                      {
    654                          0,0,0,0
    655                      },
    656                      {
    657                          0,0,0,0
    658                      },
    659                      {
    660                          0,0,0,0
    661                      },
    662                      {
    663                          0,0,0,0
    664                      },
    665                      {
    666                          0,0,0,0
    667                      },
    668                      {
    669                          0,0,0,0
    670                      },
    671                      {
    672                          0,0,0,0
    673                      },
    674                      {
    675                          0,0,0,0
    676                      },
    677                      {
    678                          0,0,0,0
    679                      },
    680                      {
    681                          0,0,0,0
    682                      },
    683                      {
    684                          0,0,0,0
    685                      },
    686                      {
    687                          0,0,0,0
    688                      }
    689                  }
    690              },0x6CFB,
    691          
    692          //    {
    693          //        0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
    694          //    },0xF0BE,
    695          
    696              false, {0,0,0,0,0,0,0},0x0B40,
    697          };
    698          
    699          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment NEAR_F, align 1, keep-with-next, root
    700          TDataBaseBlockPositionData __flash CFlash::axDataBaseBlocksPositionData[] =
   \                     ??axDataBaseBlocksPositionData:
   \   00000000   1400               DC8 0, 20
   \   00000002   0000               DC16 0
   \   00000004   0701               DC8 1, 7
   \   00000006   0016               DC16 22
   \   00000008   1002               DC8 2, 16
   \   0000000A   001F               DC16 31
   \   0000000C   8003               DC8 3, 128
   \   0000000E   0031               DC16 49
   \   00000010   4004               DC8 4, 64
   \   00000012   00B3               DC16 179
   \   00000014   1805               DC8 5, 24
   \   00000016   00F5               DC16 245
   \   00000018   8006               DC8 6, 128
   \   0000001A   010F               DC16 271
   \   0000001C   5107               DC8 7, 81
   \   0000001E   0191               DC16 401
   \   00000020   5108               DC8 8, 81
   \   00000022   01E4               DC16 484
   \   00000024   5109               DC8 9, 81
   \   00000026   0237               DC16 567
   \   00000028   080A               DC8 10, 8
   \   0000002A   028A               DC16 650
    701          {
    702              { 0, sizeof(xMainDataBase.DevConfig),	  offsetof(TDataBase,DevConfig)	 	},
    703              { 1, sizeof(xMainDataBase.MBSet),	  offsetof(TDataBase,MBSet)	 	},
    704              { 2, sizeof(xMainDataBase.ActivityLevel),	  offsetof(TDataBase,ActivityLevel)		},
    705              { 3, sizeof(xMainDataBase.AlarmWindowIndex),	  offsetof(TDataBase,AlarmWindowIndex)	 	},
    706              { 4, sizeof(xMainDataBase.AlarmType), offsetof(TDataBase,AlarmType) 	},
    707              { 5, sizeof(xMainDataBase.OutConfig),	  offsetof(TDataBase,OutConfig)  	},
    708              { 6, sizeof(xMainDataBase.Relay),	  offsetof(TDataBase,Relay)       	},
    709              { 7, sizeof(xMainDataBase.InputList),	  offsetof(TDataBase,InputList)  	},
    710              { 8, sizeof(xMainDataBase.ReceiptList), offsetof(TDataBase,ReceiptList)	},
    711              { 9, sizeof(xMainDataBase.UnsetList),	  offsetof(TDataBase,UnsetList)  	},
    712          //    { 10, sizeof(xMainDataBase.NamurInputs),	  offsetof(TDataBase,NamurInputs)  	},
    713          //    { 11, sizeof(xMainDataBase.DeviceState),	  offsetof(TDataBase,DeviceState)  	}
    714              { 10, sizeof(xMainDataBase.DeviceState),	  offsetof(TDataBase,DeviceState)  	}
    715          };
    716          
    717          //----------------------------------------- Flash ----------------------------------------------------------------
    718          //CFlash::CFlash()
    719          //{
    720          //
    721          //}
    722          //
    723          ////-----------------------------------------------------------------------------------------------------
    724          //CFlash::~CFlash()
    725          //{
    726          //
    727          //}
    728          
    729          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    730          uint8_t CFlash::Read(uint8_t *puiDestination, uint8_t __farflash *uiSource, uint16_t uiLength)
   \                     ??Read_2:
    731          {
   \   00000000   939A               ST      -Y, R25
   \   00000002   938A               ST      -Y, R24
   \   00000004   0108               MOVW    R1:R0, R17:R16
   \   00000006   0119               MOVW    R3:R2, R19:R18
    732              // Скопируем данные из флеш в буфер Ram.
    733              for (uint16_t i = 0; i < uiLength; i++)
   \   00000008   E080               LDI     R24, 0
   \   0000000A   E090               LDI     R25, 0
   \                     ??Read_13:
   \   0000000C   1582               CP      R24, R2
   \   0000000E   0593               CPC     R25, R3
   \   00000010   F460               BRCC    ??Read_14
    734              {
    735                  puiDestination[i] = uiSource[i];
   \   00000012   01FA               MOVW    R31:R30, R21:R20
   \   00000014   2F36               MOV     R19, R22
   \   00000016   0FE8               ADD     R30, R24
   \   00000018   1FF9               ADC     R31, R25
   \   0000001A   BF3B               OUT     0x3B, R19
   \   0000001C   9106               ELPM    R16, Z
   \   0000001E   01F0               MOVW    R31:R30, R1:R0
   \   00000020   0FE8               ADD     R30, R24
   \   00000022   1FF9               ADC     R31, R25
   \   00000024   8300               ST      Z, R16
    736              }
   \   00000026   9601               ADIW    R25:R24, 1
   \   00000028   CFF1               RJMP    ??Read_13
    737              return 1;
   \                     ??Read_14:
   \   0000002A   E001               LDI     R16, 1
   \   0000002C   9189               LD      R24, Y+
   \   0000002E   9199               LD      R25, Y+
   \   00000030   9508               RET
    738          }
    739          
    740          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    741          uint16_t CFlash::ReadBlock(uint8_t *puiDestination, uint8_t uiBlock)
   \                     ??ReadBlock:
    742          {
   \   00000000   ........           CALL    ?PROLOGUE5_L09
   \   00000004                      REQUIRE ?Register_R4_is_cg_reg
   \   00000004   01D8               MOVW    R27:R26, R17:R16
   \   00000006   2E42               MOV     R4, R18
    743              // Прочитаем блок из флеш вместе с Crc.
    744              Read(puiDestination,
    745                   GetBlockPointer(uiBlock),
    746                   (GetBlockLength(uiBlock) + CRC_LENGTH));
   \   00000008   2D04               MOV     R16, R4
   \   0000000A   ........           CALL    ??GetBlockLength
   \   0000000E   01C8               MOVW    R25:R24, R17:R16
   \   00000010   2D04               MOV     R16, R4
   \   00000012   ........           CALL    ??GetBlockPointer
   \   00000016   01A8               MOVW    R21:R20, R17:R16
   \   00000018   2F62               MOV     R22, R18
   \   0000001A   9602               ADIW    R25:R24, 2
   \   0000001C   019C               MOVW    R19:R18, R25:R24
   \   0000001E   018D               MOVW    R17:R16, R27:R26
   \   00000020   ....               RCALL   ??Read_2
    747          
    748              // Получим контрольную сумму блока во флеш.
    749              uint16_t uiCrc = static_cast<uint16_t>(puiDestination[GetBlockLength(uiBlock)]);
   \   00000022   2D04               MOV     R16, R4
   \   00000024   ........           CALL    ??GetBlockLength
   \   00000028   01FD               MOVW    R31:R30, R27:R26
   \   0000002A   0FE0               ADD     R30, R16
   \   0000002C   1FF1               ADC     R31, R17
   \   0000002E   8180               LD      R24, Z
   \   00000030   E090               LDI     R25, 0
    750              uiCrc |= (static_cast<uint16_t>(puiDestination[GetBlockLength(uiBlock) + 1]) << 8);
   \   00000032   2D04               MOV     R16, R4
   \   00000034   ........           CALL    ??GetBlockLength
   \   00000038   01FD               MOVW    R31:R30, R27:R26
   \   0000003A   0FE0               ADD     R30, R16
   \   0000003C   1FF1               ADC     R31, R17
   \   0000003E   8111               LDD     R17, Z+1
   \   00000040   E000               LDI     R16, 0
   \   00000042   2B80               OR      R24, R16
   \   00000044   2B91               OR      R25, R17
    751              // Вычислим контрольную сумму блока.
    752              // Блок не повреждён?
    753              if (uiCrc == usCrc16(puiDestination, GetBlockLength(uiBlock)))
   \   00000046   2D04               MOV     R16, R4
   \   00000048   ........           CALL    ??GetBlockLength
   \   0000004C   0198               MOVW    R19:R18, R17:R16
   \   0000004E   018D               MOVW    R17:R16, R27:R26
   \   00000050   ........           CALL    ??usCrc16
   \   00000054   1780               CP      R24, R16
   \   00000056   0791               CPC     R25, R17
   \   00000058   F421               BRNE    ??ReadBlock_1
    754              {
    755                  return GetBlockLength(uiBlock);
   \   0000005A   2D04               MOV     R16, R4
   \   0000005C   ........           CALL    ??GetBlockLength
   \   00000060   C005               RJMP    ??ReadBlock_2
    756              }
    757              else
    758              {
    759                  CPss21::SetErrorCode(DB_ERROR);
   \                     ??ReadBlock_1:
   \   00000062   E004               LDI     R16, 4
   \   00000064   ........           CALL    ??SetErrorCode
    760                  // Нет данных.
    761                  return 0;
   \   00000068   E000               LDI     R16, 0
   \   0000006A   E010               LDI     R17, 0
   \                     ??ReadBlock_2:
   \   0000006C   E0E5               LDI     R30, 5
   \   0000006E   ........           JMP     ?EPILOGUE_B5_L09
    762              }
    763          }
    764          
    765          //-----------------------------------------------------------------------------------------------------
    766          
    767          
    768          
    769          
    770          
    771          
    772          
    773          
    774          //----------------------------------------- CSpi ----------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    775          CSpi::CSpi()
   \                     ??CSpi:
    776          {
   \   00000000   ....               LDI     R18, LOW(??__vtbl_6)
   \   00000002   ....               LDI     R19, (??__vtbl_6) >> 8
   \   00000004   01F8               MOVW    R31:R30, R17:R16
   \   00000006   8320               ST      Z, R18
   \   00000008   8331               STD     Z+1, R19
    777          
    778          }
   \   0000000A   9508               RET
    779          
    780          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    781          CSpi::~CSpi()
   \                     `?~CSpi`:
    782          {
   \   00000000   939A               ST      -Y, R25
   \   00000002   938A               ST      -Y, R24
   \   00000004   01C8               MOVW    R25:R24, R17:R16
   \   00000006   2F08               MOV     R16, R24
   \   00000008   2B09               OR      R16, R25
   \   0000000A   F029               BREQ    `?~CSpi_1`
   \   0000000C   FB20               BST     R18, 0
   \   0000000E   F41E               BRTC    `?~CSpi_1`
    783          
    784          }
   \   00000010   018C               MOVW    R17:R16, R25:R24
   \   00000012   ........           CALL    `??operator delete`
   \                     `?~CSpi_1`:
   \   00000016   9189               LD      R24, Y+
   \   00000018   9199               LD      R25, Y+
   \   0000001A   9508               RET
    785          
    786          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    787          void CSpi::Init(void)
   \                     ??Init_1:
    788          {
    789              // Master mode.
    790          //    SPCR = (BIT(MSTR) | BIT(SPR1));		// master,  115200.
    791              SPCR = (BIT(MSTR) | BIT(SPR1) | BIT(SPR0));		// master,  57600.
   \   00000000   E103               LDI     R16, 19
   \   00000002   B90D               OUT     0x0D, R16
    792          
    793              DDRB |= (Bit(MOSI) | Bit(SCK));
   \   00000004   B307               IN      R16, 0x17
   \   00000006   6006               ORI     R16, 0x06
   \   00000008   BB07               OUT     0x17, R16
    794              PORTB |= (Bit(MOSI) | Bit(SCK));
   \   0000000A   B308               IN      R16, 0x18
   \   0000000C   6006               ORI     R16, 0x06
   \   0000000E   BB08               OUT     0x18, R16
    795          };
   \   00000010   9508               RET
   \   00000012                      REQUIRE _A_SPCR
   \   00000012                      REQUIRE _A_DDRB
   \   00000012                      REQUIRE _A_PORTB
    796          
    797          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    798          void CSpi::Enable(void)
   \                     ??Enable_1:
    799          {
    800              // разрешим SPI.
    801              SPCR  |= BIT(SPE);
   \   00000000   9A6E               SBI     0x0D, 0x06
    802          }
   \   00000002   9508               RET
   \   00000004                      REQUIRE _A_SPCR
    803          
    804          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    805          void CSpi::Disable(void)
   \                     ??Disable_1:
    806          {
    807              SPCR &= ~BIT(SPE);
   \   00000000   986E               CBI     0x0D, 0x06
    808          }
   \   00000002   9508               RET
   \   00000004                      REQUIRE _A_SPCR
    809          
    810          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    811          uint8_t CSpi::Exchange(uint8_t uiData)
   \                     ??Exchange:
    812          {
   \   00000000   939A               ST      -Y, R25
   \   00000002   938A               ST      -Y, R24
   \   00000004   2F90               MOV     R25, R16
    813              SPDR = uiData;
   \   00000006   B99F               OUT     0x0F, R25
    814          
    815              uint8_t uiGuardCounter = 0;
   \   00000008   E080               LDI     R24, 0
    816          
    817              while(!(SPSR & BIT(SPIF)))		// Ожидание конца передачи
   \                     ??Exchange_2:
   \   0000000A   9977               SBIC    0x0E, 0x07
   \   0000000C   C008               RJMP    ??Exchange_3
    818              {
    819                  CPlatform::WatchdogReset();
   \   0000000E   ........           CALL    ??WatchdogReset
    820          
    821                  if (uiGuardCounter < 200)
   \   00000012   3C88               CPI     R24, 200
   \   00000014   F410               BRCC    ??Exchange_4
    822                  {
    823                      uiGuardCounter++;
   \   00000016   9583               INC     R24
   \   00000018   CFF8               RJMP    ??Exchange_2
    824                  }
    825                  else
    826                  {
    827                      return  SPDR;
   \                     ??Exchange_4:
   \   0000001A   B10F               IN      R16, 0x0F
   \   0000001C   C005               RJMP    ??Exchange_5
    828                  }
    829              };
    830          
    831              delay_us(100);
   \                     ??Exchange_3:
   \   0000001E   EE09               LDI     R16, 233
   \   00000020   950A               DEC     R16
   \   00000022   F7F1               BRNE    $-2
   \   00000024   0000               NOP
    832          
    833              return  SPDR;
   \   00000026   B10F               IN      R16, 0x0F
   \                     ??Exchange_5:
   \   00000028   9189               LD      R24, Y+
   \   0000002A   9199               LD      R25, Y+
   \   0000002C   9508               RET
   \   0000002E                      REQUIRE _A_SPDR
   \   0000002E                      REQUIRE _A_SPSR
    834          }
    835          
    836          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    837          uint8_t CSpi::Exchange(uint8_t *puiDestination, uint8_t *pucSource, uint16_t uiLength)
   \                     ??Exchange_1:
    838          {
   \   00000000   ........           CALL    ?PROLOGUE8_L09
   \   00000004                      REQUIRE ?Register_R4_is_cg_reg
   \   00000004                      REQUIRE ?Register_R5_is_cg_reg
   \   00000004                      REQUIRE ?Register_R6_is_cg_reg
   \   00000004                      REQUIRE ?Register_R7_is_cg_reg
   \   00000004   0138               MOVW    R7:R6, R17:R16
   \   00000006   0129               MOVW    R5:R4, R19:R18
   \   00000008   01DA               MOVW    R27:R26, R21:R20
    839              if (uiLength > BUFFER_LENGTH)
   \   0000000A   34A1               CPI     R26, 65
   \   0000000C   E000               LDI     R16, 0
   \   0000000E   07B0               CPC     R27, R16
   \   00000010   F010               BRCS    ??Exchange_6
    840              {
    841                  return 0;
   \   00000012   E000               LDI     R16, 0
   \   00000014   C011               RJMP    ??Exchange_7
    842              }
    843          
    844              for (uint16_t i = 0; i < uiLength; i++)
   \                     ??Exchange_6:
   \   00000016   E080               LDI     R24, 0
   \   00000018   E090               LDI     R25, 0
   \                     ??Exchange_8:
   \   0000001A   178A               CP      R24, R26
   \   0000001C   079B               CPC     R25, R27
   \   0000001E   F458               BRCC    ??Exchange_9
    845              {
    846                  puiDestination[i] = Exchange(pucSource[i]);
   \   00000020   01F2               MOVW    R31:R30, R5:R4
   \   00000022   0FE8               ADD     R30, R24
   \   00000024   1FF9               ADC     R31, R25
   \   00000026   8100               LD      R16, Z
   \   00000028   ....               RCALL   ??Exchange
   \   0000002A   01F3               MOVW    R31:R30, R7:R6
   \   0000002C   0FE8               ADD     R30, R24
   \   0000002E   1FF9               ADC     R31, R25
   \   00000030   8300               ST      Z, R16
    847              }
   \   00000032   9601               ADIW    R25:R24, 1
   \   00000034   CFF2               RJMP    ??Exchange_8
    848              return 1;
   \                     ??Exchange_9:
   \   00000036   E001               LDI     R16, 1
   \                     ??Exchange_7:
   \   00000038   E0E8               LDI     R30, 8
   \   0000003A   ........           JMP     ?EPILOGUE_B8_L09
    849          }
    850          
    851          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    852          uint8_t CSpi::Read(uint8_t *puiDestination, uint16_t uiLength)
   \                     ??Read_3:
    853          {
   \   00000000   01A8               MOVW    R21:R20, R17:R16
    854          
    855              return 1;
   \   00000002   E001               LDI     R16, 1
   \   00000004   9508               RET
    856          }
    857          //-----------------------------------------------------------------------------------------------------
    858          
    859          
    860          
    861          
    862          
    863          
    864          
    865          //-----------------------------------------------------------------------------------------------------
    866          // delay

   \                                 In  segment CODE, align 2, keep-with-next
    867          void delay_ms(uint16_t millisecs)
   \                     ??delay_ms:
   \                     ??delay_ms_1:
    868          {
    869              while(millisecs--)
   \   00000000   0198               MOVW    R19:R18, R17:R16
   \   00000002   0189               MOVW    R17:R16, R19:R18
   \   00000004   5001               SUBI    R16, 1
   \   00000006   4010               SBCI    R17, 0
   \   00000008   2B23               OR      R18, R19
   \   0000000A   F041               BREQ    ??delay_ms_2
    870              {
    871                  delay_us(1000);
   \   0000000C   ED25               LDI     R18, 213
   \   0000000E   E036               LDI     R19, 6
   \   00000010   5021               SUBI    R18, 1
   \   00000012   4030               SBCI    R19, 0
   \   00000014   F7E9               BRNE    $-4
   \   00000016   C000               RJMP    $+2
   \   00000018   0000               NOP
   \   0000001A   CFF2               RJMP    ??delay_ms_1
    872              }
    873          }
   \                     ??delay_ms_2:
   \   0000001C   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
    874          void delay_s(uint16_t secs)
   \                     ??delay_s:
   \                     ??delay_s_1:
    875          {
    876              while(secs--)
   \   00000000   0198               MOVW    R19:R18, R17:R16
   \   00000002   0189               MOVW    R17:R16, R19:R18
   \   00000004   5001               SUBI    R16, 1
   \   00000006   4010               SBCI    R17, 0
   \   00000008   2B23               OR      R18, R19
   \   0000000A   F051               BREQ    ??delay_s_2
    877              {
    878                  __delay_cycles(F_CPU);
   \   0000000C   EF4F               LDI     R20, 255
   \   0000000E   E75F               LDI     R21, 127
   \   00000010   E166               LDI     R22, 22
   \   00000012   5041               SUBI    R20, 1
   \   00000014   4050               SBCI    R21, 0
   \   00000016   4060               SBCI    R22, 0
   \   00000018   F7E1               BRNE    $-6
   \   0000001A   C000               RJMP    $+2
   \   0000001C   0000               NOP
   \   0000001E   CFF0               RJMP    ??delay_s_1
    879              }
    880          }
   \                     ??delay_s_2:
   \   00000020   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
    881          void delay_mins(uint16_t minutes)
   \                     ??delay_mins:
   \                     ??delay_mins_1:
    882          {
    883              while(minutes--)
   \   00000000   0198               MOVW    R19:R18, R17:R16
   \   00000002   0189               MOVW    R17:R16, R19:R18
   \   00000004   5001               SUBI    R16, 1
   \   00000006   4010               SBCI    R17, 0
   \   00000008   2B23               OR      R18, R19
   \   0000000A   F061               BREQ    ??delay_mins_2
    884              {
    885                  __delay_cycles(60*F_CPU);
   \   0000000C   EF4F               LDI     R20, 255
   \   0000000E   EF5F               LDI     R21, 255
   \   00000010   E664               LDI     R22, 100
   \   00000012   E074               LDI     R23, 4
   \   00000014   5041               SUBI    R20, 1
   \   00000016   4050               SBCI    R21, 0
   \   00000018   4060               SBCI    R22, 0
   \   0000001A   4070               SBCI    R23, 0
   \   0000001C   F7D9               BRNE    $-8
   \   0000001E   C000               RJMP    $+2
   \   00000020   0000               NOP
   \   00000022   CFEE               RJMP    ??delay_mins_1
    886              }
    887          }
   \                     ??delay_mins_2:
   \   00000024   9508               RET
    888          
    889          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment NEAR_Z, align 1, keep-with-next, root
   \   00000000                      REQUIRE `?<Segment init: NEAR_Z>`
    890          uint16_t CPlatform::m_uiSystemTick;
   \                     ??m_uiSystemTick:
   \   00000000                      DS8 2

   \                                 In  segment NEAR_Z, align 1, keep-with-next, root
   \   00000000                      REQUIRE `?<Segment init: NEAR_Z>`
    891          uint8_t CPlatform::m_uiWatchDogStepID;
   \                     ??m_uiWatchDogStepID:
   \   00000000                      DS8 1
    892          //CUart* CPlatform::m_pxUart0;

   \                                 In  segment NEAR_Z, align 1, keep-with-next, root
   \   00000000                      REQUIRE `?<Segment init: NEAR_Z>`
    893          CUart* CPlatform::m_pxUart1;
   \                     ??m_pxUart1:
   \   00000000                      DS8 2
    894          
    895          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    896          CPlatform::CPlatform()
   \                     ??CPlatform:
    897          {
   \   00000000   ....               LDI     R18, LOW(??__vtbl_2)
   \   00000002   ....               LDI     R19, (??__vtbl_2) >> 8
   \   00000004   01F8               MOVW    R31:R30, R17:R16
   \   00000006   8320               ST      Z, R18
   \   00000008   8331               STD     Z+1, R19
    898          
    899          }
   \   0000000A   9508               RET
    900          
    901          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    902          CPlatform::~CPlatform()
   \                     `?~CPlatform`:
    903          {
   \   00000000   939A               ST      -Y, R25
   \   00000002   938A               ST      -Y, R24
   \   00000004   01C8               MOVW    R25:R24, R17:R16
   \   00000006   2F08               MOV     R16, R24
   \   00000008   2B09               OR      R16, R25
   \   0000000A   F029               BREQ    `?~CPlatform_1`
   \   0000000C   FB20               BST     R18, 0
   \   0000000E   F41E               BRTC    `?~CPlatform_1`
    904          
    905          }
   \   00000010   018C               MOVW    R17:R16, R25:R24
   \   00000012   ........           CALL    `??operator delete`
   \                     `?~CPlatform_1`:
   \   00000016   9189               LD      R24, Y+
   \   00000018   9199               LD      R25, Y+
   \   0000001A   9508               RET
    906          
    907          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    908          void CPlatform::Init(void)
   \                     ??Init_2:
    909          {
    910              SystemTickInit();
   \   00000000   ....               RCALL   ??SystemTickInit
    911              StatusLedSetPinOutput();
   \   00000002   ........           CALL    ??StatusLedSetPinOutput
    912              TxLedSetPinOutput();
   \   00000006   ........           CALL    ??TxLedSetPinOutput
    913              TxLedOff();
   \   0000000A   ........           CALL    ??TxLedOff
    914              KeyOneSetPinInput();
   \   0000000E   ........           CALL    ??KeyOneSetPinInput
    915              KeyTwoSetPinInput();
   \   00000012   ........           CALL    ??KeyTwoSetPinInput
    916              KeyThreeSetPinInput();
   \   00000016   ........           CALL    ??KeyThreeSetPinInput
    917              ExternalKeySetPinInput();
   \   0000001A   ........           CALL    ??ExternalKeySetPinInput
    918              CPlatform::InterruptEnable();
   \   0000001E   ........           CALL    ??InterruptEnable
    919          }
   \   00000022   9508               RET
    920          
    921          // Сирена
    922          ////-----------------------------------------------------------------------------------------------------
    923          //void CPlatform::BuzzerTimerFrequencySet(uint16_t uiFrequency)
    924          //{
    925          //    unsigned short usCompareMatch;
    926          //
    927          //    // half-period time.
    928          //    usCompareMatch = ((F_CPU / (2UL * uiFrequency)) - 1UL);
    929          //    // Срабатывает по Top совпадению значения в ICR3.
    930          //    // Если Top по совпадению значения в OCR3A, то нельзя использовать COM3A вывод.
    931          //    ICR3 = usCompareMatch * 2;
    932          //    OCR3A = usCompareMatch;
    933          //    OCR3B = usCompareMatch;
    934          //
    935          //    // Fast PWM Mode Top OCRn, prescaller - 1,
    936          //    // Clear OC3B on compare match (set output to low level).
    937          //    // Set OC3A on compare match (set output to high level).
    938          //    TCCR3A = (1 << COM3B1) | (1 << COM3A1) | (1 << COM3A0) | (1 << WGM31);
    939          //    TCCR3B = (1 << WGM33) | (1 << WGM32) | (1 << CS30);
    940          //};
    941          //
    942          ////-----------------------------------------------------------------------------------------------------
    943          //void CPlatform::BuzzerTimerStop(void)
    944          //{
    945          //    // timer off.
    946          //    TCCR3A &= ~((1 << COM3B1) | (1 << COM3A1) | (1 << COM3A0) | (1 << WGM31));
    947          //    TCCR3B &= ~((1 << WGM33) | (1 << WGM32) | (1 << CS30));
    948          //};
    949          
    950          // color variant

   \                                 In  segment CODE, align 2, keep-with-next
    951          void CPlatform::BuzzerTimerFrequencySet(uint16_t uiFrequency)
   \                     ??BuzzerTimerFrequencySet:
    952          {
   \   00000000   ........           CALL    ?PROLOGUE4_L09
   \   00000004   01C8               MOVW    R25:R24, R17:R16
    953              unsigned short usCompareMatch;
    954          
    955              // half-period time.
    956              usCompareMatch = ((F_CPU / (2UL * uiFrequency)) - 1UL);
   \   00000006   01AC               MOVW    R21:R20, R25:R24
   \   00000008   E060               LDI     R22, 0
   \   0000000A   E070               LDI     R23, 0
   \   0000000C   0F44               LSL     R20
   \   0000000E   1F55               ROL     R21
   \   00000010   1F66               ROL     R22
   \   00000012   1F77               ROL     R23
   \   00000014   E000               LDI     R16, 0
   \   00000016   E810               LDI     R17, 128
   \   00000018   E720               LDI     R18, 112
   \   0000001A   E030               LDI     R19, 0
   \   0000001C   ........           CALL    ?UL_DIVMOD_L03
   \   00000020   5001               SUBI    R16, 1
   \   00000022   4010               SBCI    R17, 0
   \   00000024   01D8               MOVW    R27:R26, R17:R16
    957          
    958              OCR3A = usCompareMatch * 2;
   \   00000026   018D               MOVW    R17:R16, R27:R26
   \   00000028   0F00               LSL     R16
   \   0000002A   1F11               ROL     R17
   \   0000002C   9310....           STS     (_A_OCR3A + 1), R17
   \   00000030   9300....           STS     _A_OCR3A, R16
    959              OCR3B = usCompareMatch;
   \   00000034   93B0....           STS     (_A_OCR3B + 1), R27
   \   00000038   93A0....           STS     _A_OCR3B, R26
    960              OCR3C = usCompareMatch;
   \   0000003C   93B0....           STS     (_A_OCR3C + 1), R27
   \   00000040   93A0....           STS     _A_OCR3C, R26
    961          
    962              // Fast PWM Mode, prescaller - 1,
    963              // Clear OC3B on compare match (set output to low level).
    964              // Set OC3C on compare match (set output to high level).
    965              TCCR3A = (1 << COM3B1) | (1 << COM3C1) | (1 << COM3C0) | (1 << WGM31) | (1 << WGM30);
   \   00000044   E20F               LDI     R16, 47
   \   00000046   9300....           STS     _A_TCCR3A, R16
    966              TCCR3B = (1 << WGM33) | (1 << WGM32) | (1 << CS30);
   \   0000004A   E109               LDI     R16, 25
   \   0000004C   9300....           STS     _A_TCCR3B, R16
    967          }
   \   00000050   E0E4               LDI     R30, 4
   \   00000052   ........           JMP     ?EPILOGUE_B4_L09
   \   00000056                      REQUIRE _A_OCR3A
   \   00000056                      REQUIRE _A_OCR3B
   \   00000056                      REQUIRE _A_OCR3C
   \   00000056                      REQUIRE _A_TCCR3A
   \   00000056                      REQUIRE _A_TCCR3B
    968          

   \                                 In  segment CODE, align 2, keep-with-next
    969          void CPlatform::BuzzerTimerStop(void)
   \                     ??BuzzerTimerStop:
    970          {
    971              // timer off.
    972              TCCR3A &= ~((1 << COM3B1) | (1 << COM3C1) | (1 << COM3C0) | (1 << WGM31) | (1 << WGM30));
   \   00000000   9100....           LDS     R16, _A_TCCR3A
   \   00000004   7D00               ANDI    R16, 0xD0
   \   00000006   9300....           STS     _A_TCCR3A, R16
    973              TCCR3B &= ~((1 << WGM33) | (1 << WGM32) | (1 << CS30));
   \   0000000A   9100....           LDS     R16, _A_TCCR3B
   \   0000000E   7E06               ANDI    R16, 0xE6
   \   00000010   9300....           STS     _A_TCCR3B, R16
    974          }
   \   00000014   9508               RET
   \   00000016                      REQUIRE _A_TCCR3A
   \   00000016                      REQUIRE _A_TCCR3B
    975          
    976          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    977          void CPlatform::SystemTickInit(void)
   \                     ??SystemTickInit:
    978          {
    979          #define MAIN_TIMER_TICK_RATE_HZ 1000
    980          
    981          //#define TIMER1_INTERRUPT
    982          #define TIMER2_INTERRUPT
    983          
    984          
    985          #ifdef TIMER2_INTERRUPT
    986              /* Hardware constants for timer 2. */
    987          #define portCLEAR_COUNTER_ON_MATCH              ( ( unsigned char ) _BV(WGM21) )
    988          #define portPRESCALE_64                         ( ( unsigned char ) (_BV(CS21) | _BV(CS20)) )
    989          #define portCLOCK_PRESCALER                     ( ( unsigned long ) 64 )
    990          #define portCOMPARE_MATCH_A_INTERRUPT_ENABLE    ( ( unsigned char ) _BV(OCIE2) )
    991          #endif //TIMER2_INTERRUPT
    992          
    993          #ifdef TIMER1_INTERRUPT
    994              /* Hardware constants for timer 1. */
    995          #define portCLEAR_COUNTER_ON_MATCH              ( ( unsigned char ) _BV(WGM12) )
    996          #define portPRESCALE_64                         ( ( unsigned char ) (_BV(CS11) | _BV(CS10)) )
    997          #define portCLOCK_PRESCALER                     ( ( unsigned long ) 64 )
    998          #define portCOMPARE_MATCH_A_INTERRUPT_ENABLE    ( ( unsigned char ) _BV(OCIE1A) )
    999          #endif //TIMER1_INTERRUPT
   1000          
   1001          #ifdef TIMER2_INTERRUPT
   1002          
   1003              /*
   1004               * Setup timer 2 compare match A to generate a tick interrupt.
   1005               */
   1006          //  TMR2 mega128a
   1007              unsigned long ulCompareMatch;
   1008              unsigned char ucLowByte;
   1009          
   1010              /* Using 16bit timer 1 to generate the tick.  Correct fuses must be
   1011              selected for the configCPU_CLOCK_HZ clock. */
   1012          
   1013          //ulCompareMatch  = (configCPU_CLOCK_HZ / prescaller) / period
   1014          
   1015              ulCompareMatch = F_CPU / MAIN_TIMER_TICK_RATE_HZ;
   \   00000000   EC0C               LDI     R16, 204
   \   00000002   E11C               LDI     R17, 28
   \   00000004   E020               LDI     R18, 0
   \   00000006   E030               LDI     R19, 0
   1016          
   1017              /* We only have 16 bits so have to scale to get our required tick rate. */
   1018              ulCompareMatch /= portCLOCK_PRESCALER;
   \   00000008   E046               LDI     R20, 6
   \   0000000A   ........           CALL    ?UL_SHR_L03
   1019          
   1020              /* Adjust for correct value. */
   1021              ulCompareMatch -= ( unsigned long ) 1;
   \   0000000E   5001               SUBI    R16, 1
   \   00000010   4010               SBCI    R17, 0
   \   00000012   4020               SBCI    R18, 0
   \   00000014   4030               SBCI    R19, 0
   1022          
   1023              /* Setup compare match value for compare match A.  Interrupts are disabled
   1024              before this is called so we need not worry here. */
   1025              OCR2 = ulCompareMatch;
   \   00000016   01B8               MOVW    R23:R22, R17:R16
   \   00000018   BD63               OUT     0x23, R22
   1026          
   1027              /* Setup clock Source and compare match behaviour. */
   1028              ucLowByte = portCLEAR_COUNTER_ON_MATCH | portPRESCALE_64;
   \   0000001A   E05B               LDI     R21, 11
   1029              TCCR2 = ucLowByte;
   \   0000001C   BD55               OUT     0x25, R21
   1030          
   1031              /* Enable the interrupt - this is okay as interrupt are currently globally
   1032              disabled. */
   1033              ucLowByte = TIMSK;
   \   0000001E   B747               IN      R20, 0x37
   \   00000020   2F54               MOV     R21, R20
   1034              ucLowByte |= portCOMPARE_MATCH_A_INTERRUPT_ENABLE;
   \   00000022   6850               ORI     R21, 0x80
   1035              TIMSK = ucLowByte;
   \   00000024   BF57               OUT     0x37, R21
   1036          
   1037          #endif //TIMER2_INTERRUPT
   1038          
   1039          #ifdef TIMER1_INTERRUPT
   1040          
   1041          // mega128a
   1042              unsigned long ulCompareMatch;
   1043              unsigned char ucLowByte;
   1044          
   1045              /* Using 16bit timer 1 to generate the tick.  Correct fuses must be
   1046              selected for the configCPU_CLOCK_HZ clock. */
   1047          
   1048              ulCompareMatch = CPlatform::F_CPU / MAIN_TIMER_TICK_RATE_HZ;
   1049          
   1050              /* We only have 16 bits so have to scale to get our required tick rate. */
   1051              ulCompareMatch /= portCLOCK_PRESCALER;
   1052          
   1053              /* Adjust for correct value. */
   1054              ulCompareMatch -= ( unsigned long ) 1;
   1055          
   1056              /* Setup compare match value for compare match A.  Interrupts are disabled
   1057              before this is called so we need not worry here. */
   1058              OCR1A = ulCompareMatch;
   1059          
   1060              /* Setup clock Source and compare match behaviour. */
   1061              TCCR1A &= ~(_BV(WGM11) | _BV(WGM10));
   1062              ucLowByte = portCLEAR_COUNTER_ON_MATCH | portPRESCALE_64;
   1063              TCCR1B = ucLowByte;
   1064          
   1065              /* Enable the interrupt - this is okay as interrupt are currently globally
   1066              disabled. */
   1067              ucLowByte = TIMSK;
   1068              ucLowByte |= portCOMPARE_MATCH_A_INTERRUPT_ENABLE;
   1069              TIMSK = ucLowByte;
   1070          
   1071          #endif //TIMER1_INTERRUPT
   1072          
   1073          }
   \   00000026   9508               RET
   \   00000028                      REQUIRE _A_OCR2
   \   00000028                      REQUIRE _A_TCCR2
   \   00000028                      REQUIRE _A_TIMSK
   1074          
   1075          //-----------------------------------------------------------------------------------------------------
   1076          #ifdef TIMER1_INTERRUPT
   1077          // Прерывание TIMER1_COMPA_vect
   1078          __interrupt void SystemTickInterrupt(void)
   1079          {
   1080              CPlatform::IncrementSystemTick();
   1081          }
   1082          #endif //TIMER1_INTERRUPT
   1083          //-----------------------------------------------------------------------------------------------------
   1084          #ifdef TIMER2_INTERRUPT
   1085          // Прерывание TIMER2_COMP_vect
   1086          #pragma vector = TIMER2_COMP_vect	// Прерывание по совпадению TMR2 с OCR2

   \                                 In  segment CODE, align 2, keep-with-next
   1087          __interrupt void SystemTickInterrupt(void)
   \                     ??SystemTickInterrupt:
   1088          {
   \   00000000   939A               ST      -Y, R25
   \   00000002   938A               ST      -Y, R24
   \   00000004   93FA               ST      -Y, R31
   \   00000006   93EA               ST      -Y, R30
   \   00000008   923A               ST      -Y, R3
   \   0000000A   922A               ST      -Y, R2
   \   0000000C   921A               ST      -Y, R1
   \   0000000E   920A               ST      -Y, R0
   \   00000010   937A               ST      -Y, R23
   \   00000012   936A               ST      -Y, R22
   \   00000014   935A               ST      -Y, R21
   \   00000016   934A               ST      -Y, R20
   \   00000018   933A               ST      -Y, R19
   \   0000001A   932A               ST      -Y, R18
   \   0000001C   931A               ST      -Y, R17
   \   0000001E   930A               ST      -Y, R16
   \   00000020   B78F               IN      R24, 0x3F
   \   00000022   B79B               IN      R25, 0x3B
   1089              CPlatform::IncrementSystemTick();
   \   00000024   ........           CALL    ??IncrementSystemTick
   1090          }
   \   00000028   BF9B               OUT     0x3B, R25
   \   0000002A   BF8F               OUT     0x3F, R24
   \   0000002C   9109               LD      R16, Y+
   \   0000002E   9119               LD      R17, Y+
   \   00000030   9129               LD      R18, Y+
   \   00000032   9139               LD      R19, Y+
   \   00000034   9149               LD      R20, Y+
   \   00000036   9159               LD      R21, Y+
   \   00000038   9169               LD      R22, Y+
   \   0000003A   9179               LD      R23, Y+
   \   0000003C   9009               LD      R0, Y+
   \   0000003E   9019               LD      R1, Y+
   \   00000040   9029               LD      R2, Y+
   \   00000042   9039               LD      R3, Y+
   \   00000044   91E9               LD      R30, Y+
   \   00000046   91F9               LD      R31, Y+
   \   00000048   9189               LD      R24, Y+
   \   0000004A   9199               LD      R25, Y+
   \   0000004C   9518               RETI

   \                                 In  segment INTVEC, offset 0x24, root
   \                     `??SystemTickInterrupt::??INTVEC 36`:
   \   00000024   ........           JMP     ??SystemTickInterrupt

   \                                 In  segment INTVEC, offset 0x58, root
   \                     `??EEPROM_EE_READY::??INTVEC 88`:
   \   00000058   ........           JMP     ??EEPROM_EE_READY

   \                                 In  segment INTVEC, offset 0x78, root
   \                     `??SIG_UART1_RECV::??INTVEC 120`:
   \   00000078   ........           JMP     ??SIG_UART1_RECV

   \                                 In  segment INTVEC, offset 0x7c, root
   \                     `??SIG_UART1_DATA::??INTVEC 124`:
   \   0000007C   ........           JMP     ??SIG_UART1_DATA

   \                                 In  segment INTVEC, offset 0x80, root
   \                     `??SIG_UART1_TXC::??INTVEC 128`:
   \   00000080   ........           JMP     ??SIG_UART1_TXC

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 CUart &CUart::new CUart()
   \                     `??new CUart`:
   \   00000000   E20F               LDI     R16, 47
   \   00000002   E010               LDI     R17, 0
   \   00000004   ........           CALL    `??operator new`
   \   00000008   2F20               MOV     R18, R16
   \   0000000A   2B21               OR      R18, R17
   \   0000000C   F011               BREQ    `??new CUart_2`
   \   0000000E   ....               RCALL   ??CUart
   \   00000010   9508               RET
   \                     `??new CUart_2`:
   \   00000012   E000               LDI     R16, 0
   \   00000014   E010               LDI     R17, 0
   \   00000016   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 CUart &CUart::new CUart(uint8_t volatile *, uint8_t volatile *, uint8_t volatile *, uint8_t volatile *, uint8_t volatile *, uint8_t volatile *, uint8_t volatile *, uint8_t, uint8_t volatile *, uint8_t)
   \                     `??new CUart_1`:
   \   00000000   ........           CALL    ?PROLOGUE16_L09
   \   00000004                      REQUIRE ?Register_R4_is_cg_reg
   \   00000004                      REQUIRE ?Register_R5_is_cg_reg
   \   00000004                      REQUIRE ?Register_R6_is_cg_reg
   \   00000004                      REQUIRE ?Register_R7_is_cg_reg
   \   00000004                      REQUIRE ?Register_R8_is_cg_reg
   \   00000004                      REQUIRE ?Register_R9_is_cg_reg
   \   00000004                      REQUIRE ?Register_R10_is_cg_reg
   \   00000004                      REQUIRE ?Register_R11_is_cg_reg
   \   00000004                      REQUIRE ?Register_R12_is_cg_reg
   \   00000004                      REQUIRE ?Register_R13_is_cg_reg
   \   00000004                      REQUIRE ?Register_R14_is_cg_reg
   \   00000004                      REQUIRE ?Register_R15_is_cg_reg
   \   00000004   0158               MOVW    R11:R10, R17:R16
   \   00000006   0179               MOVW    R15:R14, R19:R18
   \   00000008   016A               MOVW    R13:R12, R21:R20
   \   0000000A   014B               MOVW    R9:R8, R23:R22
   \   0000000C   8868               LDD     R6, Y+16
   \   0000000E   8879               LDD     R7, Y+17
   \   00000010   884A               LDD     R4, Y+18
   \   00000012   885B               LDD     R5, Y+19
   \   00000014   89AC               LDD     R26, Y+20
   \   00000016   89BD               LDD     R27, Y+21
   \   00000018   898F               LDD     R24, Y+23
   \   0000001A   8D98               LDD     R25, Y+24
   \   0000001C   E20F               LDI     R16, 47
   \   0000001E   E010               LDI     R17, 0
   \   00000020   ........           CALL    `??operator new`
   \   00000024   2F20               MOV     R18, R16
   \   00000026   2B21               OR      R18, R17
   \   00000028   F099               BREQ    `??new CUart_3`
   \   0000002A   8D29               LDD     R18, Y+25
   \   0000002C   932A               ST      -Y, R18
   \   0000002E   939A               ST      -Y, R25
   \   00000030   938A               ST      -Y, R24
   \   00000032   8D29               LDD     R18, Y+25
   \   00000034   932A               ST      -Y, R18
   \   00000036   93BA               ST      -Y, R27
   \   00000038   93AA               ST      -Y, R26
   \   0000003A   925A               ST      -Y, R5
   \   0000003C   924A               ST      -Y, R4
   \   0000003E   927A               ST      -Y, R7
   \   00000040   926A               ST      -Y, R6
   \   00000042   929A               ST      -Y, R9
   \   00000044   928A               ST      -Y, R8
   \   00000046   01B6               MOVW    R23:R22, R13:R12
   \   00000048   01A7               MOVW    R21:R20, R15:R14
   \   0000004A   0195               MOVW    R19:R18, R11:R10
   \   0000004C   ....               RCALL   ??CUart_1
   \   0000004E   C002               RJMP    `??new CUart_4`
   \                     `??new CUart_3`:
   \   00000050   E000               LDI     R16, 0
   \   00000052   E010               LDI     R17, 0
   \                     `??new CUart_4`:
   \   00000054   E1EA               LDI     R30, 26
   \   00000056   ........           JMP     ?EPILOGUE_B16_L09

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 CEeprom &CEeprom::new CEeprom()
   \                     `??new CEeprom`:
   \   00000000   E002               LDI     R16, 2
   \   00000002   E010               LDI     R17, 0
   \   00000004   ........           CALL    `??operator new`
   \   00000008   2F20               MOV     R18, R16
   \   0000000A   2B21               OR      R18, R17
   \   0000000C   F011               BREQ    `??new CEeprom_1`
   \   0000000E   ....               RCALL   ??CEeprom
   \   00000010   9508               RET
   \                     `??new CEeprom_1`:
   \   00000012   E000               LDI     R16, 0
   \   00000014   E010               LDI     R17, 0
   \   00000016   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 CSpi &CSpi::new CSpi()
   \                     `??new CSpi`:
   \   00000000   E002               LDI     R16, 2
   \   00000002   E010               LDI     R17, 0
   \   00000004   ........           CALL    `??operator new`
   \   00000008   2F20               MOV     R18, R16
   \   0000000A   2B21               OR      R18, R17
   \   0000000C   F011               BREQ    `??new CSpi_1`
   \   0000000E   ....               RCALL   ??CSpi
   \   00000010   9508               RET
   \                     `??new CSpi_1`:
   \   00000012   E000               LDI     R16, 0
   \   00000014   E010               LDI     R17, 0
   \   00000016   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 CPlatform &CPlatform::new CPlatform()
   \                     `??new CPlatform`:
   \   00000000   E002               LDI     R16, 2
   \   00000002   E010               LDI     R17, 0
   \   00000004   ........           CALL    `??operator new`
   \   00000008   2F20               MOV     R18, R16
   \   0000000A   2B21               OR      R18, R17
   \   0000000C   F011               BREQ    `??new CPlatform_1`
   \   0000000E   ....               RCALL   ??CPlatform
   \   00000010   9508               RET
   \                     `??new CPlatform_1`:
   \   00000012   E000               LDI     R16, 0
   \   00000014   E010               LDI     R17, 0
   \   00000016   9508               RET
   1091          #endif //TIMER2_INTERRUPT
   1092          
   1093          
   1094          

   Maximum stack usage in bytes:

   CSTACK RSTACK Function
   ------ ------ --------
      0      2   CEeprom::CEeprom()
      0      2   CEeprom::GetAddress()
      0      2   CEeprom::GetBufferByteCounter()
      0      2   CEeprom::GetBufferPointer()
      0      2   CEeprom::GetLength()
      0      2   CEeprom::Read(uint8_t *, uint16_t, uint16_t)
        0      2   -> CEeprom::ReadByte(uint16_t)
      0      2   CEeprom::ReadByte(uint16_t)
      0      2   CEeprom::ReadyInterruptDisaable()
      4      2   CEeprom::ReadyInterruptHandler()
        4      2   -> CEeprom::GetAddress()
        4      2   -> CEeprom::GetBufferByteCounter()
        4      2   -> CEeprom::GetBufferPointer()
        4      2   -> CEeprom::GetLength()
        4      2   -> CEeprom::ReadyInterruptDisaable()
        4      2   -> CEeprom::SetAddress(uint16_t)
        4      2   -> CEeprom::SetBufferByteCounter(uint16_t)
        4      2   -> CEeprom::SetBufferIsWrited(bool)
      0      2   CEeprom::SetAddress(uint16_t)
      0      2   CEeprom::SetBufferByteCounter(uint16_t)
      0      2   CEeprom::SetBufferIsWrited(bool)
      0      2   CEeprom::SetBufferPointer(uint8_t *)
      0      2   CEeprom::SetLength(uint16_t)
      4      2   CEeprom::Write(uint16_t, uint8_t *, uint16_t)
        4      2   -> CEeprom::WriteByte(uint16_t, uint8_t)
      0      2   CEeprom::WriteByte(uint16_t, uint8_t)
        0      2   -> CEeprom::ReadByte(uint16_t)
      6      2   CEeprom::WriteInterrupt(uint16_t, uint8_t *, uint16_t)
        6      2   -> CEeprom::SetAddress(uint16_t)
        6      2   -> CEeprom::SetBufferByteCounter(uint16_t)
        6      2   -> CEeprom::SetBufferPointer(uint8_t *)
        6      2   -> CEeprom::SetLength(uint16_t)
      0      2   CEeprom::new CEeprom()
        0      2   -> CEeprom::CEeprom()
        0      2   -> operator new(unsigned int)
      2      2   CEeprom::~CEeprom()
        2      2   -> operator delete(void *)
      0      2   CFlash::GetBlockLength(uint8_t)
      0      2   CFlash::GetBlockOffset(uint8_t)
      4      2   CFlash::GetBlockPointer(uint8_t)
        4      2   -> CFlash::GetBlockOffset(uint8_t)
      2      2   CFlash::Read(uint8_t *, uint8_t __farflash *, uint16_t)
      5      2   CFlash::ReadBlock(uint8_t *, uint8_t)
        5      2   -> CFlash::GetBlockLength(uint8_t)
        5      2   -> CFlash::GetBlockPointer(uint8_t)
        5      2   -> CFlash::Read(uint8_t *, uint8_t __farflash *, uint16_t)
        5      2   -> CPss21::SetErrorCode(uint8_t)
        5      2   -> usCrc16(unsigned char const *, uint16_t)
      4      2   CPlatform::BuzzerTimerFrequencySet(uint16_t)
        4      2 ?UL_DIVMOD_L03
      0      2   CPlatform::BuzzerTimerStop()
      0      2   CPlatform::CPlatform()
      0      2   CPlatform::ExternalKeySetPinInput()
      0      2   CPlatform::IncrementSystemTick()
      0      2   CPlatform::Init()
        0      2   -> CPlatform::ExternalKeySetPinInput()
        0      2   -> CPlatform::InterruptEnable()
        0      2   -> CPlatform::KeyOneSetPinInput()
        0      2   -> CPlatform::KeyThreeSetPinInput()
        0      2   -> CPlatform::KeyTwoSetPinInput()
        0      2   -> CPlatform::StatusLedSetPinOutput()
        0      2   -> CPlatform::SystemTickInit()
        0      2   -> CPlatform::TxLedOff()
        0      2   -> CPlatform::TxLedSetPinOutput()
      0      2   CPlatform::InterruptDisable()
      0      2   CPlatform::InterruptEnable()
      0      2   CPlatform::KeyOneSetPinInput()
      0      2   CPlatform::KeyThreeSetPinInput()
      0      2   CPlatform::KeyTwoSetPinInput()
      0      2   CPlatform::StatusLedSetPinOutput()
      0      2   CPlatform::SystemTickInit()
        0      2 ?UL_SHR_L03
      0      2   CPlatform::TxLedOff()
      0      2   CPlatform::TxLedSetPinOutput()
      0      2   CPlatform::WatchdogReset()
      0      2   CPlatform::new CPlatform()
        0      2   -> CPlatform::CPlatform()
        0      2   -> operator new(unsigned int)
      2      2   CPlatform::~CPlatform()
        2      2   -> operator delete(void *)
      0      2   CPss21::SetErrorCode(uint8_t)
      0      2   CSpi::CSpi()
      0      2   CSpi::Disable()
      0      2   CSpi::Enable()
      8      2   CSpi::Exchange(uint8_t *, uint8_t *, uint16_t)
        8      2   -> CSpi::Exchange(uint8_t)
      2      2   CSpi::Exchange(uint8_t)
        2      2   -> CPlatform::WatchdogReset()
      0      2   CSpi::Init()
      0      2   CSpi::Read(uint8_t *, uint16_t)
      0      2   CSpi::new CSpi()
        0      2   -> CSpi::CSpi()
        0      2   -> operator new(unsigned int)
      2      2   CSpi::~CSpi()
        2      2   -> operator delete(void *)
      0      2   CUart::CUart()
     22      2   CUart::CUart(uint8_t volatile *, uint8_t volatile *, uint8_t volatile *, uint8_t volatile *, uint8_t volatile *, uint8_t volatile *, uint8_t volatile *, uint8_t, uint8_t volatile *, uint8_t)
       22      2 ?S_SHL_L02
      0      2   CUart::Close()
      0      2   CUart::Disable()
      0      2   CUart::Enable()
     13      2   CUart::Init(uint32_t, uint8_t, uint8_t, uint8_t, uint8_t *, uint8_t *)
       13      2 ?L_EC_MUL_L03
       13      2 ?UL_DIVMOD_L03
      0      2   CUart::Open()
      8      2   CUart::Read(uint8_t *, uint16_t)
        8      2   -> CPlatform::InterruptDisable()
        8      2   -> CPlatform::InterruptEnable()
      4      2   CUart::RecvInterruptHandler()
      0      2   CUart::Reset()
      0      2   CUart::Rs485RtsOff()
        0      2 ?S_SHL_L02
      0      2   CUart::Rs485RtsOn()
        0      2 ?S_SHL_L02
      0      2   CUart::TransmitDisable()
        0      2   -> CUart::Rs485RtsOff()
      0      2   CUart::TransmitEnable()
        0      2   -> CUart::Rs485RtsOn()
      0      2   CUart::TxcInterruptHandler()
        0      2   -> CUart::TransmitDisable()
      0      2   CUart::UdreInterruptHandler()
      0      2   CUart::Write(uint8_t *, uint16_t)
      0      2   CUart::new CUart()
        0      2   -> CUart::CUart()
        0      2   -> operator new(unsigned int)
     38      2   CUart::new CUart(uint8_t volatile *, uint8_t volatile *, uint8_t volatile *, uint8_t volatile *, uint8_t volatile *, uint8_t volatile *, uint8_t volatile *, uint8_t, uint8_t volatile *, uint8_t)
       26      2   -> CUart::CUart(uint8_t volatile *, uint8_t volatile *, uint8_t volatile *, uint8_t volatile *, uint8_t volatile *, uint8_t volatile *, uint8_t volatile *, uint8_t, uint8_t volatile *, uint8_t)
       26      2   -> operator new(unsigned int)
      2      2   CUart::~CUart()
        2      2   -> operator delete(void *)
     16      2   EEPROM_EE_READY()
       16      2   -> CEeprom::ReadyInterruptHandler()
     10      2   SIG_UART1_DATA()
       10      2   -> CUart::UdreInterruptHandler()
     10      2   SIG_UART1_RECV()
       10      2   -> CUart::RecvInterruptHandler()
     14      2   SIG_UART1_TXC()
       14      2   -> CUart::TxcInterruptHandler()
     16      2   SystemTickInterrupt()
       16      2   -> CPlatform::IncrementSystemTick()
      0      2   delay_mins(uint16_t)
      0      2   delay_ms(uint16_t)
      0      2   delay_s(uint16_t)


   Segment part sizes:

   Bytes  Function/Label
   -----  --------------
      12  CEeprom::CEeprom()
      10  CEeprom::GetAddress()
      10  CEeprom::GetBufferByteCounter()
      10  CEeprom::GetBufferPointer()
      10  CEeprom::GetLength()
      38  CEeprom::Read(uint8_t *, uint16_t, uint16_t)
      26  CEeprom::ReadByte(uint16_t)
       4  CEeprom::ReadyInterruptDisaable()
     124  CEeprom::ReadyInterruptHandler()
      10  CEeprom::SetAddress(uint16_t)
      10  CEeprom::SetBufferByteCounter(uint16_t)
       6  CEeprom::SetBufferIsWrited(bool)
      10  CEeprom::SetBufferPointer(uint8_t *)
      10  CEeprom::SetLength(uint16_t)
      48  CEeprom::Write(uint16_t, uint8_t *, uint16_t)
      38  CEeprom::WriteByte(uint16_t, uint8_t)
      42  CEeprom::WriteInterrupt(uint16_t, uint8_t *, uint16_t)
       1  CEeprom::m_bBufferIsWrited
       2  CEeprom::m_nuiBufferByteCounter
       2  CEeprom::m_puiBuffer
       2  CEeprom::m_uiAddress
       2  CEeprom::m_uiLength
      24  CEeprom::new CEeprom()
      28  CEeprom::~CEeprom()
      22  CFlash::GetBlockLength(uint8_t)
      24  CFlash::GetBlockOffset(uint8_t)
      34  CFlash::GetBlockPointer(uint8_t)
      50  CFlash::Read(uint8_t *, uint8_t __farflash *, uint16_t)
     114  CFlash::ReadBlock(uint8_t *, uint8_t)
      44  CFlash::axDataBaseBlocksPositionData
     660  CFlash::xMainDataBase
      86  CPlatform::BuzzerTimerFrequencySet(uint16_t)
      22  CPlatform::BuzzerTimerStop()
      12  CPlatform::CPlatform()
       4  CPlatform::ExternalKeySetPinInput()
      18  CPlatform::IncrementSystemTick()
      36  CPlatform::Init()
       4  CPlatform::InterruptDisable()
       4  CPlatform::InterruptEnable()
       4  CPlatform::KeyOneSetPinInput()
       4  CPlatform::KeyThreeSetPinInput()
       4  CPlatform::KeyTwoSetPinInput()
       4  CPlatform::StatusLedSetPinOutput()
      40  CPlatform::SystemTickInit()
       4  CPlatform::TxLedOff()
       4  CPlatform::TxLedSetPinOutput()
       4  CPlatform::WatchdogReset()
       2  CPlatform::m_pxUart1
       2  CPlatform::m_uiSystemTick
       1  CPlatform::m_uiWatchDogStepID
      24  CPlatform::new CPlatform()
      28  CPlatform::~CPlatform()
       6  CPss21::SetErrorCode(uint8_t)
      12  CSpi::CSpi()
       4  CSpi::Disable()
       4  CSpi::Enable()
      62  CSpi::Exchange(uint8_t *, uint8_t *, uint16_t)
      46  CSpi::Exchange(uint8_t)
      18  CSpi::Init()
       6  CSpi::Read(uint8_t *, uint16_t)
      24  CSpi::new CSpi()
      28  CSpi::~CSpi()
      12  CUart::CUart()
     184  CUart::CUart(uint8_t volatile *, uint8_t volatile *, uint8_t volatile *, uint8_t volatile *, uint8_t volatile *, uint8_t volatile *, uint8_t volatile *, uint8_t, uint8_t volatile *, uint8_t)
      46  CUart::Close()
      22  CUart::Disable()
      34  CUart::Enable()
     106  CUart::Init(uint32_t, uint8_t, uint8_t, uint8_t, uint8_t *, uint8_t *)
      34  CUart::Open()
     152  CUart::Read(uint8_t *, uint16_t)
      82  CUart::RecvInterruptHandler()
      30  CUart::Reset()
      36  CUart::Rs485RtsOff()
      34  CUart::Rs485RtsOn()
      40  CUart::TransmitDisable()
      54  CUart::TransmitEnable()
      36  CUart::TxcInterruptHandler()
      96  CUart::UdreInterruptHandler()
      16  CUart::Write(uint8_t *, uint16_t)
      24  CUart::new CUart()
      90  CUart::new CUart(uint8_t volatile *, uint8_t volatile *, uint8_t volatile *, uint8_t volatile *, uint8_t volatile *, uint8_t volatile *, uint8_t volatile *, uint8_t, uint8_t volatile *, uint8_t)
      28  CUart::~CUart()
      76  EEPROM_EE_READY()
       4  EEPROM_EE_READY()::??INTVEC 88
      60  SIG_UART1_DATA()
       4  SIG_UART1_DATA()::??INTVEC 124
      60  SIG_UART1_RECV()
       4  SIG_UART1_RECV()::??INTVEC 120
      76  SIG_UART1_TXC()
       4  SIG_UART1_TXC()::??INTVEC 128
      78  SystemTickInterrupt()
       4  SystemTickInterrupt()::??INTVEC 36
       1  _A_ACSR
       2  _A_ADC
       1  _A_ADCSRA
       1  _A_ADMUX
       1  _A_ASSR
       1  _A_DDRA
       1  _A_DDRB
       1  _A_DDRC
       1  _A_DDRD
       1  _A_DDRE
       1  _A_DDRF
       1  _A_DDRG
       2  _A_EEAR
       1  _A_EECR
       1  _A_EEDR
       1  _A_EICRA
       1  _A_EICRB
       1  _A_EIFR
       1  _A_EIMSK
       1  _A_ETIFR
       1  _A_ETIMSK
       2  _A_ICR1
       2  _A_ICR3
       1  _A_MCUCR
       1  _A_MCUCSR
       1  _A_OCDR
       1  _A_OCR0
       2  _A_OCR1A
       2  _A_OCR1B
       2  _A_OCR1C
       1  _A_OCR2
       2  _A_OCR3A
       2  _A_OCR3B
       2  _A_OCR3C
       1  _A_OSCCAL
       1  _A_PINA
       1  _A_PINB
       1  _A_PINC
       1  _A_PIND
       1  _A_PINE
       1  _A_PINF
       1  _A_PING
       1  _A_PORTA
       1  _A_PORTB
       1  _A_PORTC
       1  _A_PORTD
       1  _A_PORTE
       1  _A_PORTF
       1  _A_PORTG
       1  _A_RAMPZ
       1  _A_SFIOR
       2  _A_SP
       1  _A_SPCR
       1  _A_SPDR
       1  _A_SPMCSR
       1  _A_SPSR
       1  _A_SREG
       1  _A_TCCR0
       1  _A_TCCR1A
       1  _A_TCCR1B
       1  _A_TCCR1C
       1  _A_TCCR2
       1  _A_TCCR3A
       1  _A_TCCR3B
       1  _A_TCCR3C
       1  _A_TCNT0
       2  _A_TCNT1
       1  _A_TCNT2
       2  _A_TCNT3
       1  _A_TIFR
       1  _A_TIMSK
       1  _A_TWAR
       1  _A_TWBR
       1  _A_TWCR
       1  _A_TWDR
       1  _A_TWSR
       1  _A_UBRR0H
       1  _A_UBRR0L
       1  _A_UBRR1H
       1  _A_UBRR1L
       1  _A_UCSR0A
       1  _A_UCSR0B
       1  _A_UCSR0C
       1  _A_UCSR1A
       1  _A_UCSR1B
       1  _A_UCSR1C
       1  _A_UDR0
       1  _A_UDR1
       1  _A_WDTCR
       1  _A_XDIV
       1  _A_XMCRA
       1  _A_XMCRB
      38  delay_mins(uint16_t)
      30  delay_ms(uint16_t)
      34  delay_s(uint16_t)
       1  uiInterruptCounter
      37  -- Other

 
   105 bytes in segment ABSOLUTE
 2 838 bytes in segment CODE
     7 bytes in segment INITTAB
    20 bytes in segment INTVEC
   734 bytes in segment NEAR_F
    15 bytes in segment NEAR_Z
 
 3 330 bytes of CODE memory (+ 269 bytes shared)
    15 bytes of DATA memory (+ 105 bytes shared)

Errors: none
Warnings: 8

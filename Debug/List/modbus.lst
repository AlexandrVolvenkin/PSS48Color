###############################################################################
#
# IAR C/C++ Compiler V7.10.6.1378 for Atmel AVR           11/Sep/2024  06:58:04
# Copyright 1996-2018 IAR Systems AB.
#
#    Source file  =  
#        D:\Projects\CurrentProjects\CautoProjects\PSS48Color\Modbus\modbus.cpp
#    Command line =  
#        -f C:\Users\Admin\AppData\Local\Temp\EWA926.tmp
#        (--string_literals_in_flash
#        D:\Projects\CurrentProjects\CautoProjects\PSS48Color\Modbus\modbus.cpp
#        --cpu=m128a -ms -o
#        D:\Projects\CurrentProjects\CautoProjects\PSS48Color\Debug\Obj -lC
#        D:\Projects\CurrentProjects\CautoProjects\PSS48Color\Debug\List -lB
#        D:\Projects\CurrentProjects\CautoProjects\PSS48Color\Debug\List -y
#        --initializers_in_flash --root_variables --no_cse --no_inline
#        --no_code_motion --no_cross_call --no_clustering --no_tbaa --debug
#        -DENABLE_BIT_DEFINITIONS -e -I
#        D:\Projects\CurrentProjects\CautoProjects\PSS48Color\Modbus\ -I
#        D:\Projects\CurrentProjects\CautoProjects\PSS48Color\include\
#        --eeprom_size 4096 --dlib --dlib_config "C:\Program Files (x86)\IAR
#        Systems\Embedded Workbench 8.0\avr\LIB\DLIB\dlAVR-3s-ec_mul-n.h" -On
#        --eec++)
#    Locale       =  Russian_RUS.1251
#    List file    =  
#        D:\Projects\CurrentProjects\CautoProjects\PSS48Color\Debug\List\modbus.lst
#    Object file  =  
#        D:\Projects\CurrentProjects\CautoProjects\PSS48Color\Debug\Obj\modbus.r90
#
###############################################################################

D:\Projects\CurrentProjects\CautoProjects\PSS48Color\Modbus\modbus.cpp
      1          //-----------------------------------------------------------------------------------------------------
      2          //  Source      : FileName.cpp
      3          //  Created     : 01.06.2022
      4          //  Author      : Alexandr Volvenkin
      5          //  email       : aav-36@mail.ru
      6          //  GitHub      : https://github.com/AlexandrVolvenkin
      7          //-----------------------------------------------------------------------------------------------------
      8          
      9          #include "Modbus.h"

   \                                 In  segment ABSOLUTE, at 0x9d, root
   \   union <unnamed> volatile __io _A_UCSR1C
   \                     _A_UCSR1C:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x9c, root
   \   union <unnamed> volatile __io _A_UDR1
   \                     _A_UDR1:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x9b, root
   \   union <unnamed> volatile __io _A_UCSR1A
   \                     _A_UCSR1A:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x9a, root
   \   union <unnamed> volatile __io _A_UCSR1B
   \                     _A_UCSR1B:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x99, root
   \   union <unnamed> volatile __io _A_UBRR1L
   \                     _A_UBRR1L:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x98, root
   \   union <unnamed> volatile __io _A_UBRR1H
   \                     _A_UBRR1H:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x95, root
   \   union <unnamed> volatile __io _A_UCSR0C
   \                     _A_UCSR0C:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x90, root
   \   union <unnamed> volatile __io _A_UBRR0H
   \                     _A_UBRR0H:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x8c, root
   \   union <unnamed> volatile __io _A_TCCR3C
   \                     _A_TCCR3C:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x8b, root
   \   union <unnamed> volatile __io _A_TCCR3A
   \                     _A_TCCR3A:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x8a, root
   \   union <unnamed> volatile __io _A_TCCR3B
   \                     _A_TCCR3B:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x88, root
   \   union <unnamed> volatile __io _A_TCNT3
   \                     _A_TCNT3:
   \   00000000                      DS8 2

   \                                 In  segment ABSOLUTE, at 0x86, root
   \   union <unnamed> volatile __io _A_OCR3A
   \                     _A_OCR3A:
   \   00000000                      DS8 2

   \                                 In  segment ABSOLUTE, at 0x84, root
   \   union <unnamed> volatile __io _A_OCR3B
   \                     _A_OCR3B:
   \   00000000                      DS8 2

   \                                 In  segment ABSOLUTE, at 0x82, root
   \   union <unnamed> volatile __io _A_OCR3C
   \                     _A_OCR3C:
   \   00000000                      DS8 2

   \                                 In  segment ABSOLUTE, at 0x80, root
   \   union <unnamed> volatile __io _A_ICR3
   \                     _A_ICR3:
   \   00000000                      DS8 2

   \                                 In  segment ABSOLUTE, at 0x7d, root
   \   union <unnamed> volatile __io _A_ETIMSK
   \                     _A_ETIMSK:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x7c, root
   \   union <unnamed> volatile __io _A_ETIFR
   \                     _A_ETIFR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x7a, root
   \   union <unnamed> volatile __io _A_TCCR1C
   \                     _A_TCCR1C:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x78, root
   \   union <unnamed> volatile __io _A_OCR1C
   \                     _A_OCR1C:
   \   00000000                      DS8 2

   \                                 In  segment ABSOLUTE, at 0x74, root
   \   union <unnamed> volatile __io _A_TWCR
   \                     _A_TWCR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x73, root
   \   union <unnamed> volatile __io _A_TWDR
   \                     _A_TWDR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x72, root
   \   union <unnamed> volatile __io _A_TWAR
   \                     _A_TWAR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x71, root
   \   union <unnamed> volatile __io _A_TWSR
   \                     _A_TWSR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x70, root
   \   union <unnamed> volatile __io _A_TWBR
   \                     _A_TWBR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x6f, root
   \   union <unnamed> volatile __io _A_OSCCAL
   \                     _A_OSCCAL:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x6d, root
   \   union <unnamed> volatile __io _A_XMCRA
   \                     _A_XMCRA:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x6c, root
   \   union <unnamed> volatile __io _A_XMCRB
   \                     _A_XMCRB:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x6a, root
   \   union <unnamed> volatile __io _A_EICRA
   \                     _A_EICRA:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x68, root
   \   union <unnamed> volatile __io _A_SPMCSR
   \                     _A_SPMCSR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x65, root
   \   union <unnamed> volatile __io _A_PORTG
   \                     _A_PORTG:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x64, root
   \   union <unnamed> volatile __io _A_DDRG
   \                     _A_DDRG:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x63, root
   \   union <unnamed> volatile __io _A_PING
   \                     _A_PING:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x62, root
   \   union <unnamed> volatile __io _A_PORTF
   \                     _A_PORTF:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x61, root
   \   union <unnamed> volatile __io _A_DDRF
   \                     _A_DDRF:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x5f, root
   \   union <unnamed> volatile __io _A_SREG
   \                     _A_SREG:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x5d, root
   \   union <unnamed> volatile __io _A_SP
   \                     _A_SP:
   \   00000000                      DS8 2

   \                                 In  segment ABSOLUTE, at 0x5c, root
   \   union <unnamed> volatile __io _A_XDIV
   \                     _A_XDIV:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x5b, root
   \   union <unnamed> volatile __io _A_RAMPZ
   \                     _A_RAMPZ:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x5a, root
   \   union <unnamed> volatile __io _A_EICRB
   \                     _A_EICRB:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x59, root
   \   union <unnamed> volatile __io _A_EIMSK
   \                     _A_EIMSK:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x58, root
   \   union <unnamed> volatile __io _A_EIFR
   \                     _A_EIFR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x57, root
   \   union <unnamed> volatile __io _A_TIMSK
   \                     _A_TIMSK:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x56, root
   \   union <unnamed> volatile __io _A_TIFR
   \                     _A_TIFR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x55, root
   \   union <unnamed> volatile __io _A_MCUCR
   \                     _A_MCUCR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x54, root
   \   union <unnamed> volatile __io _A_MCUCSR
   \                     _A_MCUCSR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x53, root
   \   union <unnamed> volatile __io _A_TCCR0
   \                     _A_TCCR0:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x52, root
   \   union <unnamed> volatile __io _A_TCNT0
   \                     _A_TCNT0:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x51, root
   \   union <unnamed> volatile __io _A_OCR0
   \                     _A_OCR0:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x50, root
   \   union <unnamed> volatile __io _A_ASSR
   \                     _A_ASSR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x4f, root
   \   union <unnamed> volatile __io _A_TCCR1A
   \                     _A_TCCR1A:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x4e, root
   \   union <unnamed> volatile __io _A_TCCR1B
   \                     _A_TCCR1B:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x4c, root
   \   union <unnamed> volatile __io _A_TCNT1
   \                     _A_TCNT1:
   \   00000000                      DS8 2

   \                                 In  segment ABSOLUTE, at 0x4a, root
   \   union <unnamed> volatile __io _A_OCR1A
   \                     _A_OCR1A:
   \   00000000                      DS8 2

   \                                 In  segment ABSOLUTE, at 0x48, root
   \   union <unnamed> volatile __io _A_OCR1B
   \                     _A_OCR1B:
   \   00000000                      DS8 2

   \                                 In  segment ABSOLUTE, at 0x46, root
   \   union <unnamed> volatile __io _A_ICR1
   \                     _A_ICR1:
   \   00000000                      DS8 2

   \                                 In  segment ABSOLUTE, at 0x45, root
   \   union <unnamed> volatile __io _A_TCCR2
   \                     _A_TCCR2:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x44, root
   \   union <unnamed> volatile __io _A_TCNT2
   \                     _A_TCNT2:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x43, root
   \   union <unnamed> volatile __io _A_OCR2
   \                     _A_OCR2:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x42, root
   \   union <unnamed> volatile __io _A_OCDR
   \                     _A_OCDR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x41, root
   \   union <unnamed> volatile __io _A_WDTCR
   \                     _A_WDTCR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x40, root
   \   union <unnamed> volatile __io _A_SFIOR
   \                     _A_SFIOR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x3e, root
   \   union <unnamed> volatile __io _A_EEAR
   \                     _A_EEAR:
   \   00000000                      DS8 2

   \                                 In  segment ABSOLUTE, at 0x3d, root
   \   union <unnamed> volatile __io _A_EEDR
   \                     _A_EEDR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x3c, root
   \   union <unnamed> volatile __io _A_EECR
   \                     _A_EECR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x3b, root
   \   union <unnamed> volatile __io _A_PORTA
   \                     _A_PORTA:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x3a, root
   \   union <unnamed> volatile __io _A_DDRA
   \                     _A_DDRA:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x39, root
   \   union <unnamed> volatile __io _A_PINA
   \                     _A_PINA:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x38, root
   \   union <unnamed> volatile __io _A_PORTB
   \                     _A_PORTB:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x37, root
   \   union <unnamed> volatile __io _A_DDRB
   \                     _A_DDRB:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x36, root
   \   union <unnamed> volatile __io _A_PINB
   \                     _A_PINB:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x35, root
   \   union <unnamed> volatile __io _A_PORTC
   \                     _A_PORTC:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x34, root
   \   union <unnamed> volatile __io _A_DDRC
   \                     _A_DDRC:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x33, root
   \   union <unnamed> volatile __io _A_PINC
   \                     _A_PINC:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x32, root
   \   union <unnamed> volatile __io _A_PORTD
   \                     _A_PORTD:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x31, root
   \   union <unnamed> volatile __io _A_DDRD
   \                     _A_DDRD:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x30, root
   \   union <unnamed> volatile __io _A_PIND
   \                     _A_PIND:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x2f, root
   \   union <unnamed> volatile __io _A_SPDR
   \                     _A_SPDR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x2e, root
   \   union <unnamed> volatile __io _A_SPSR
   \                     _A_SPSR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x2d, root
   \   union <unnamed> volatile __io _A_SPCR
   \                     _A_SPCR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x2c, root
   \   union <unnamed> volatile __io _A_UDR0
   \                     _A_UDR0:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x2b, root
   \   union <unnamed> volatile __io _A_UCSR0A
   \                     _A_UCSR0A:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x2a, root
   \   union <unnamed> volatile __io _A_UCSR0B
   \                     _A_UCSR0B:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x29, root
   \   union <unnamed> volatile __io _A_UBRR0L
   \                     _A_UBRR0L:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x28, root
   \   union <unnamed> volatile __io _A_ACSR
   \                     _A_ACSR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x27, root
   \   union <unnamed> volatile __io _A_ADMUX
   \                     _A_ADMUX:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x26, root
   \   union <unnamed> volatile __io _A_ADCSRA
   \                     _A_ADCSRA:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x24, root
   \   union <unnamed> volatile __io _A_ADC
   \                     _A_ADC:
   \   00000000                      DS8 2

   \                                 In  segment ABSOLUTE, at 0x23, root
   \   union <unnamed> volatile __io _A_PORTE
   \                     _A_PORTE:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x22, root
   \   union <unnamed> volatile __io _A_DDRE
   \                     _A_DDRE:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x21, root
   \   union <unnamed> volatile __io _A_PINE
   \                     _A_PINE:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x20, root
   \   union <unnamed> volatile __io _A_PINF
   \                     _A_PINF:
   \   00000000                      DS8 1

      static __flash TDataBase CFlash::xMainDataBase;
                               ^
"D:\Projects\CurrentProjects\CautoProjects\PSS48Color\include\Platform.h",368  Warning[Pe427]: 
          qualified name is not allowed in member declaration

      static __flash TDataBaseBlockPositionData CFlash::axDataBaseBlocksPositionData[];
                                                ^
"D:\Projects\CurrentProjects\CautoProjects\PSS48Color\include\Platform.h",369  Warning[Pe427]: 
          qualified name is not allowed in member declaration

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 void CDfaLite::SetFsmState(uint8_t)
   \                     ??SetFsmState:
   \   00000000   01F8               MOVW    R31:R30, R17:R16
   \   00000002   8320               ST      Z, R18
   \   00000004   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 uint8_t CDfaLite::GetFsmState()
   \                     ??GetFsmState:
   \   00000000   01F8               MOVW    R31:R30, R17:R16
   \   00000002   8100               LD      R16, Z
   \   00000004   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 uint16_t CModbus::HEADER_LENGTH()
   \                     ??HEADER_LENGTH:
   \   00000000   0198               MOVW    R19:R18, R17:R16
   \   00000002   E001               LDI     R16, 1
   \   00000004   E010               LDI     R17, 0
   \   00000006   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 uint16_t CModbus::CRC_LENGTH()
   \                     ??CRC_LENGTH:
   \   00000000   0198               MOVW    R19:R18, R17:R16
   \   00000002   E002               LDI     R16, 2
   \   00000004   E010               LDI     R17, 0
   \   00000006   9508               RET
     10          #include "Platform.h"
     11          #include "Pss21.h"

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 uint8_t CDataStore::GetFsmEvent()
   \                     ??GetFsmEvent:
   \   00000000   9100....           LDS     R16, ??m_uiFsmEvent
   \   00000004   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 uint8_t CDataBase::GetBlocksNumber()
   \                     ??GetBlocksNumber:
   \   00000000   E00C               LDI     R16, 12
   \   00000002   9508               RET

      virtual bool IsSolved(void) {};
                                   ^
"D:\Projects\CurrentProjects\CautoProjects\PSS48Color\include\Task.h",20  Warning[Pe940]: 
          missing return statement at end of non-void function
          "CTaskInterface::IsSolved"

      virtual bool IsSourceStateActive(void) {};
                                              ^
"D:\Projects\CurrentProjects\CautoProjects\PSS48Color\include\Task.h",23  Warning[Pe940]: 
          missing return statement at end of non-void function
          "CTaskInterface::IsSourceStateActive"

      bool IsSolved(void) {};
                           ^
"D:\Projects\CurrentProjects\CautoProjects\PSS48Color\include\Task.h",58  Warning[Pe940]: 
          missing return statement at end of non-void function
          "CIsRegularButtonPressedInterface::IsSolved"

      virtual bool IsSourceStateActive(void) {};
                                              ^
"D:\Projects\CurrentProjects\CautoProjects\PSS48Color\include\Task.h",61  Warning[Pe940]: 
          missing return statement at end of non-void function
          "CIsRegularButtonPressedInterface::IsSourceStateActive"

      virtual uint16_t KEY_PRESSED_TIME(void) {};
                                               ^
"D:\Projects\CurrentProjects\CautoProjects\PSS48Color\include\Task.h",63  Warning[Pe940]: 
          missing return statement at end of non-void function
          "CIsRegularButtonPressedInterface::KEY_PRESSED_TIME"

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 void CPss21::SetFsmState(uint8_t)
   \                     ??SetFsmState_1:
   \   00000000   9300....           STS     ??m_uiFsmState, R16
   \   00000004   9508               RET
     12          #include "DataBase.h"
     13          
     14          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
     15          CModbus::CModbus()
   \                     ??CModbus:
   \   00000000   93BA               ST      -Y, R27
   \   00000002   93AA               ST      -Y, R26
   \   00000004   01D8               MOVW    R27:R26, R17:R16
     16          {
   \   00000006   018D               MOVW    R17:R16, R27:R26
   \   00000008   ........           CALL    ??CDfa
   \   0000000C   ....               LDI     R16, LOW(??__vtbl)
   \   0000000E   ....               LDI     R17, (??__vtbl) >> 8
   \   00000010   01FD               MOVW    R31:R30, R27:R26
   \   00000012   8301               STD     Z+1, R16
   \   00000014   8312               STD     Z+2, R17
     17              //ctor
     18          }
   \   00000016   018D               MOVW    R17:R16, R27:R26
   \   00000018   91A9               LD      R26, Y+
   \   0000001A   91B9               LD      R27, Y+
   \   0000001C   9508               RET
     19          
     20          ////-----------------------------------------------------------------------------------------------------
     21          //CModbus::CModbus(CUart* pxDevice,
     22          //                 uint32_t uiBaudRate,
     23          //                 char cParity,
     24          //                 uint8_t uiDataBit,
     25          //                 uint8_t uiStopBit,
     26          //                 uint8_t *puiRxBuffer,
     27          //                 uint8_t *puiTxBuffer) :
     28          //    pxDevice(pxDevice),
     29          //    uiBaudRate(uiBaudRate),
     30          //    cParity(cParity),
     31          //    uiDataBit(uiDataBit),
     32          //    uiStopBit(uiStopBit),
     33          //    m_puiRxBuffer(puiRxBuffer),
     34          //    m_puiTxBuffer(puiTxBuffer)
     35          //{
     36          //    SetFsmState(MODBUS_IDDLE);
     37          //}
     38          
     39          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
     40          CModbus::~CModbus()
   \                     `?~CModbus`:
     41          {
   \   00000000   ........           CALL    ?PROLOGUE4_L09
   \   00000004   01C8               MOVW    R25:R24, R17:R16
   \   00000006   01D9               MOVW    R27:R26, R19:R18
   \   00000008   2F08               MOV     R16, R24
   \   0000000A   2B09               OR      R16, R25
   \   0000000C   F051               BREQ    `?~CModbus_1`
     42          
     43          }
   \   0000000E   E020               LDI     R18, 0
   \   00000010   E030               LDI     R19, 0
   \   00000012   018C               MOVW    R17:R16, R25:R24
   \   00000014   ........           CALL    `?~CDfa`
   \   00000018   FBA0               BST     R26, 0
   \   0000001A   F41E               BRTC    `?~CModbus_1`
   \   0000001C   018C               MOVW    R17:R16, R25:R24
   \   0000001E   ........           CALL    `??operator delete`
   \                     `?~CModbus_1`:
   \   00000022   E0E4               LDI     R30, 4
   \   00000024   ........           JMP     ?EPILOGUE_B4_L09
     44          
     45          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
     46          void CModbus::SlaveSet(uint8_t uiSlave)
   \                     ??SlaveSet:
     47          {
     48              m_uiOwnAddress = uiSlave;
   \   00000000   01F8               MOVW    R31:R30, R17:R16
   \   00000002   8325               STD     Z+5, R18
     49          }
   \   00000004   9508               RET
     50          
     51          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
     52          int8_t CModbus::MessengerIsReady(void)
   \                     ??MessengerIsReady:
     53          {
   \   00000000   939A               ST      -Y, R25
   \   00000002   938A               ST      -Y, R24
   \   00000004   01C8               MOVW    R25:R24, R17:R16
     54              if (GetFsmState() == IDDLE)
   \   00000006   018C               MOVW    R17:R16, R25:R24
   \   00000008   ........           CALL    ??GetFsmState
   \   0000000C   2300               TST     R16
   \   0000000E   F411               BRNE    ??MessengerIsReady_1
     55              {
     56                  return 1;
   \   00000010   E001               LDI     R16, 1
   \   00000012   C001               RJMP    ??MessengerIsReady_2
     57              }
     58              else
     59              {
     60                  return 0;
   \                     ??MessengerIsReady_1:
   \   00000014   E000               LDI     R16, 0
   \                     ??MessengerIsReady_2:
   \   00000016   9189               LD      R24, Y+
   \   00000018   9199               LD      R25, Y+
   \   0000001A   9508               RET
     61              }
     62          }
     63          
     64          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
     65          int16_t CModbus::SendMessage(uint8_t *puiMessage, uint16_t uiLength)
   \                     ??SendMessage:
     66          {
   \   00000000   ........           CALL    ?PROLOGUE6_L09
   \   00000004                      REQUIRE ?Register_R4_is_cg_reg
   \   00000004                      REQUIRE ?Register_R5_is_cg_reg
   \   00000004   0128               MOVW    R5:R4, R17:R16
   \   00000006   01C9               MOVW    R25:R24, R19:R18
   \   00000008   01DA               MOVW    R27:R26, R21:R20
     67              uiLength = Tail(puiMessage, uiLength);
   \   0000000A   01AD               MOVW    R21:R20, R27:R26
   \   0000000C   019C               MOVW    R19:R18, R25:R24
   \   0000000E   0182               MOVW    R17:R16, R5:R4
   \   00000010   01F2               MOVW    R31:R30, R5:R4
   \   00000012   8161               LDD     R22, Z+1
   \   00000014   8172               LDD     R23, Z+2
   \   00000016   01FB               MOVW    R31:R30, R23:R22
   \   00000018   9636               ADIW    R31:R30, 6
   \   0000001A   9165               LPM     R22, Z+
   \   0000001C   9174               LPM     R23, Z
   \   0000001E   9737               SBIW    R31:R30, 7
   \   00000020   01FB               MOVW    R31:R30, R23:R22
   \   00000022   9509               ICALL
   \   00000024   01D8               MOVW    R27:R26, R17:R16
     68              return Send(puiMessage, uiLength);
   \   00000026   01AD               MOVW    R21:R20, R27:R26
   \   00000028   019C               MOVW    R19:R18, R25:R24
   \   0000002A   0182               MOVW    R17:R16, R5:R4
   \   0000002C   01F2               MOVW    R31:R30, R5:R4
   \   0000002E   8161               LDD     R22, Z+1
   \   00000030   8172               LDD     R23, Z+2
   \   00000032   01FB               MOVW    R31:R30, R23:R22
   \   00000034   963C               ADIW    R31:R30, 12
   \   00000036   9165               LPM     R22, Z+
   \   00000038   9174               LPM     R23, Z
   \   0000003A   973D               SBIW    R31:R30, 13
   \   0000003C   01FB               MOVW    R31:R30, R23:R22
   \   0000003E   9509               ICALL
   \   00000040   E0E6               LDI     R30, 6
   \   00000042   ........           JMP     ?EPILOGUE_B6_L09
     69          }
     70          
     71          //-----------------------------------------------------------------------------------------------------
     72          /* Build the exception response */

   \                                 In  segment CODE, align 2, keep-with-next
     73          int16_t CModbus::ResponseException(uint8_t uiSlave, uint8_t uiFunctionCode, uint8_t uiExceptionCode, uint8_t *puiResponse)
   \                     ??ResponseException:
     74          {
   \   00000000   ........           CALL    ?PROLOGUE9_L09
   \   00000004                      REQUIRE ?Register_R4_is_cg_reg
   \   00000004                      REQUIRE ?Register_R5_is_cg_reg
   \   00000004                      REQUIRE ?Register_R6_is_cg_reg
   \   00000004                      REQUIRE ?Register_R7_is_cg_reg
   \   00000004                      REQUIRE ?Register_R8_is_cg_reg
   \   00000004   01D8               MOVW    R27:R26, R17:R16
   \   00000006   2E72               MOV     R7, R18
   \   00000008   2E63               MOV     R6, R19
   \   0000000A   2E84               MOV     R8, R20
   \   0000000C   01CB               MOVW    R25:R24, R23:R22
     75              int16_t uiLength;
     76          
     77              uiLength = ResponseBasis(uiSlave, (uiFunctionCode | 0x80), puiResponse);
   \   0000000E   01AC               MOVW    R21:R20, R25:R24
   \   00000010   2D36               MOV     R19, R6
   \   00000012   6830               ORI     R19, 0x80
   \   00000014   2D27               MOV     R18, R7
   \   00000016   018D               MOVW    R17:R16, R27:R26
   \   00000018   01FD               MOVW    R31:R30, R27:R26
   \   0000001A   8161               LDD     R22, Z+1
   \   0000001C   8172               LDD     R23, Z+2
   \   0000001E   01FB               MOVW    R31:R30, R23:R22
   \   00000020   963A               ADIW    R31:R30, 10
   \   00000022   9165               LPM     R22, Z+
   \   00000024   9174               LPM     R23, Z
   \   00000026   973B               SBIW    R31:R30, 11
   \   00000028   01FB               MOVW    R31:R30, R23:R22
   \   0000002A   9509               ICALL
   \   0000002C   0128               MOVW    R5:R4, R17:R16
     78              /* Positive exception code */
     79              puiResponse[uiLength++] = uiExceptionCode;
   \   0000002E   01FC               MOVW    R31:R30, R25:R24
   \   00000030   0DE4               ADD     R30, R4
   \   00000032   1DF5               ADC     R31, R5
   \   00000034   8280               ST      Z, R8
   \   00000036   E001               LDI     R16, 1
   \   00000038   0E40               ADD     R4, R16
   \   0000003A   E000               LDI     R16, 0
   \   0000003C   1E50               ADC     R5, R16
     80          
     81              return uiLength;
   \   0000003E   0182               MOVW    R17:R16, R5:R4
   \   00000040   E0E9               LDI     R30, 9
   \   00000042   ........           JMP     ?EPILOGUE_B9_L09
     82          }
     83          
     84          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
     85          uint8_t CModbus::ResponseIsReceived(void)
   \                     ??ResponseIsReceived:
     86          {
   \   00000000   939A               ST      -Y, R25
   \   00000002   938A               ST      -Y, R24
   \   00000004   01C8               MOVW    R25:R24, R17:R16
     87              if (GetFsmState() == IDDLE)
   \   00000006   018C               MOVW    R17:R16, R25:R24
   \   00000008   ........           CALL    ??GetFsmState
   \   0000000C   2300               TST     R16
   \   0000000E   F411               BRNE    ??ResponseIsReceived_1
     88              {
     89                  return 1;
   \   00000010   E001               LDI     R16, 1
   \   00000012   C001               RJMP    ??ResponseIsReceived_2
     90              }
     91              else
     92              {
     93                  return 0;
   \                     ??ResponseIsReceived_1:
   \   00000014   E000               LDI     R16, 0
   \                     ??ResponseIsReceived_2:
   \   00000016   9189               LD      R24, Y+
   \   00000018   9199               LD      R25, Y+
   \   0000001A   9508               RET
     94              }
     95          };
     96          
     97          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
     98          int16_t CModbus::ByteToBitPack(uint16_t uiAddress,
   \                     ??ByteToBitPack:
     99                                         uint16_t uiNumberB,
    100                                         uint8_t *m_puiCoils,
    101                                         uint8_t *puiResponse,
    102                                         uint16_t uiLength)
    103          {
   \   00000000   ........           CALL    ?PROLOGUE10_L09
   \   00000004                      REQUIRE ?Register_R4_is_cg_reg
   \   00000004                      REQUIRE ?Register_R5_is_cg_reg
   \   00000004                      REQUIRE ?Register_R6_is_cg_reg
   \   00000004                      REQUIRE ?Register_R8_is_cg_reg
   \   00000004                      REQUIRE ?Register_R9_is_cg_reg
   \   00000004   0128               MOVW    R5:R4, R17:R16
   \   00000006   010A               MOVW    R1:R0, R21:R20
   \   00000008   842A               LDD     R2, Y+10
   \   0000000A   843B               LDD     R3, Y+11
   \   0000000C   858C               LDD     R24, Y+12
   \   0000000E   859D               LDD     R25, Y+13
    104              uint8_t uiData = 0;
   \   00000010   E050               LDI     R21, 0
    105              uint8_t uiShift = 0;
   \   00000012   2466               CLR     R6
    106              for (uint16_t i = 0; i < uiNumberB; i++)
   \   00000014   E0A0               LDI     R26, 0
   \   00000016   E0B0               LDI     R27, 0
   \                     ??ByteToBitPack_1:
   \   00000018   15A0               CP      R26, R0
   \   0000001A   05B1               CPC     R27, R1
   \   0000001C   F4F0               BRCC    ??ByteToBitPack_2
    107              {
    108                  if (m_puiCoils[uiAddress++])
   \   0000001E   0149               MOVW    R9:R8, R19:R18
   \   00000020   0194               MOVW    R19:R18, R9:R8
   \   00000022   5F2F               SUBI    R18, 255
   \   00000024   4F3F               SBCI    R19, 255
   \   00000026   01FB               MOVW    R31:R30, R23:R22
   \   00000028   0DE8               ADD     R30, R8
   \   0000002A   1DF9               ADC     R31, R9
   \   0000002C   8100               LD      R16, Z
   \   0000002E   2300               TST     R16
   \   00000030   F031               BREQ    ??ByteToBitPack_3
    109                  {
    110                      uiData |= (1 << uiShift);
   \   00000032   E001               LDI     R16, 1
   \   00000034   E010               LDI     R17, 0
   \   00000036   2D46               MOV     R20, R6
   \   00000038   ........           CALL    ?S_SHL_L02
   \   0000003C   2B50               OR      R21, R16
    111                  }
    112                  // Byte is full?
    113                  if (uiShift == 7)
   \                     ??ByteToBitPack_3:
   \   0000003E   E007               LDI     R16, 7
   \   00000040   1660               CP      R6, R16
   \   00000042   F441               BRNE    ??ByteToBitPack_4
    114                  {
    115                      puiResponse[uiLength++] = uiData;
   \   00000044   01F1               MOVW    R31:R30, R3:R2
   \   00000046   0FE8               ADD     R30, R24
   \   00000048   1FF9               ADC     R31, R25
   \   0000004A   8350               ST      Z, R21
   \   0000004C   9601               ADIW    R25:R24, 1
    116                      uiData = 0;
   \   0000004E   E050               LDI     R21, 0
    117                      uiShift = 0;
   \   00000050   2466               CLR     R6
   \   00000052   C001               RJMP    ??ByteToBitPack_5
    118                  }
    119                  else
    120                  {
    121                      uiShift++;
   \                     ??ByteToBitPack_4:
   \   00000054   9463               INC     R6
    122                  }
    123              }
   \                     ??ByteToBitPack_5:
   \   00000056   9611               ADIW    R27:R26, 1
   \   00000058   CFDF               RJMP    ??ByteToBitPack_1
    124          
    125              if (uiShift != 0)
   \                     ??ByteToBitPack_2:
   \   0000005A   2066               TST     R6
   \   0000005C   F029               BREQ    ??ByteToBitPack_6
    126              {
    127                  puiResponse[uiLength++] = uiData;
   \   0000005E   01F1               MOVW    R31:R30, R3:R2
   \   00000060   0FE8               ADD     R30, R24
   \   00000062   1FF9               ADC     R31, R25
   \   00000064   8350               ST      Z, R21
   \   00000066   9601               ADIW    R25:R24, 1
    128              }
    129          
    130              return uiLength;
   \                     ??ByteToBitPack_6:
   \   00000068   018C               MOVW    R17:R16, R25:R24
   \   0000006A   E0EE               LDI     R30, 14
   \   0000006C   ........           JMP     ?EPILOGUE_B10_L09
    131          }
    132          
    133          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    134          int16_t CModbus::ReadCoils(uint8_t *puiRequest, uint8_t *puiResponse, uint16_t uiLength)
   \                     ??ReadCoils:
    135          {
   \   00000000   ........           CALL    ?PROLOGUE16_L09
   \   00000004                      REQUIRE ?Register_R4_is_cg_reg
   \   00000004                      REQUIRE ?Register_R5_is_cg_reg
   \   00000004                      REQUIRE ?Register_R6_is_cg_reg
   \   00000004                      REQUIRE ?Register_R7_is_cg_reg
   \   00000004                      REQUIRE ?Register_R8_is_cg_reg
   \   00000004                      REQUIRE ?Register_R9_is_cg_reg
   \   00000004                      REQUIRE ?Register_R10_is_cg_reg
   \   00000004                      REQUIRE ?Register_R11_is_cg_reg
   \   00000004                      REQUIRE ?Register_R12_is_cg_reg
   \   00000004                      REQUIRE ?Register_R13_is_cg_reg
   \   00000004                      REQUIRE ?Register_R14_is_cg_reg
   \   00000004                      REQUIRE ?Register_R15_is_cg_reg
   \   00000004   0128               MOVW    R5:R4, R17:R16
   \   00000006   0159               MOVW    R11:R10, R19:R18
   \   00000008   014A               MOVW    R9:R8, R21:R20
   \   0000000A   01CB               MOVW    R25:R24, R23:R22
    136              uint16_t uiOffset = HEADER_LENGTH();
   \   0000000C   0182               MOVW    R17:R16, R5:R4
   \   0000000E   01F2               MOVW    R31:R30, R5:R4
   \   00000010   8121               LDD     R18, Z+1
   \   00000012   8132               LDD     R19, Z+2
   \   00000014   01F9               MOVW    R31:R30, R19:R18
   \   00000016   963E               ADIW    R31:R30, 14
   \   00000018   9125               LPM     R18, Z+
   \   0000001A   9134               LPM     R19, Z
   \   0000001C   973F               SBIW    R31:R30, 15
   \   0000001E   01F9               MOVW    R31:R30, R19:R18
   \   00000020   9509               ICALL
   \   00000022   0138               MOVW    R7:R6, R17:R16
    137              int8_t uiSlave = puiRequest[uiOffset - 1];
   \   00000024   01F5               MOVW    R31:R30, R11:R10
   \   00000026   0DE6               ADD     R30, R6
   \   00000028   1DF7               ADC     R31, R7
   \   0000002A   9731               SBIW    R31:R30, 1
   \   0000002C   80F0               LD      R15, Z
    138              int8_t uiFunctionCode = puiRequest[uiOffset];
   \   0000002E   01F5               MOVW    R31:R30, R11:R10
   \   00000030   0DE6               ADD     R30, R6
   \   00000032   1DF7               ADC     R31, R7
   \   00000034   80E0               LD      R14, Z
    139              uint16_t uiAddress = ((static_cast<uint16_t>(puiRequest[uiOffset + 1]) << 8) |
    140                                    (static_cast<uint16_t>(puiRequest[uiOffset + 2])));
   \   00000036   01F5               MOVW    R31:R30, R11:R10
   \   00000038   0DE6               ADD     R30, R6
   \   0000003A   1DF7               ADC     R31, R7
   \   0000003C   80D1               LDD     R13, Z+1
   \   0000003E   24CC               CLR     R12
   \   00000040   01F5               MOVW    R31:R30, R11:R10
   \   00000042   0DE6               ADD     R30, R6
   \   00000044   1DF7               ADC     R31, R7
   \   00000046   8102               LDD     R16, Z+2
   \   00000048   E010               LDI     R17, 0
   \   0000004A   2AC0               OR      R12, R16
   \   0000004C   2AD1               OR      R13, R17
    141          
    142              uint16_t uiNumberB = ((static_cast<uint16_t>(puiRequest[uiOffset + 3]) << 8) |
    143                                    (static_cast<uint16_t>(puiRequest[uiOffset + 4])));
   \   0000004E   01F5               MOVW    R31:R30, R11:R10
   \   00000050   0DE6               ADD     R30, R6
   \   00000052   1DF7               ADC     R31, R7
   \   00000054   81B3               LDD     R27, Z+3
   \   00000056   E0A0               LDI     R26, 0
   \   00000058   01F5               MOVW    R31:R30, R11:R10
   \   0000005A   0DE6               ADD     R30, R6
   \   0000005C   1DF7               ADC     R31, R7
   \   0000005E   8104               LDD     R16, Z+4
   \   00000060   E010               LDI     R17, 0
   \   00000062   2BA0               OR      R26, R16
   \   00000064   2BB1               OR      R27, R17
    144          
    145              if (uiNumberB < 1 || MODBUS_MAX_READ_BITS < uiNumberB)
   \   00000066   2F0A               MOV     R16, R26
   \   00000068   2B0B               OR      R16, R27
   \   0000006A   F021               BREQ    ??ReadCoils_1
   \   0000006C   3DA1               CPI     R26, 209
   \   0000006E   E007               LDI     R16, 7
   \   00000070   07B0               CPC     R27, R16
   \   00000072   F040               BRCS    ??ReadCoils_2
    146              {
    147                  uiLength = ResponseException(uiSlave,
    148                                               uiFunctionCode,
    149                                               MODBUS_EXCEPTION_ILLEGAL_DATA_VALUE,
    150                                               puiResponse);
   \                     ??ReadCoils_1:
   \   00000074   01B4               MOVW    R23:R22, R9:R8
   \   00000076   E043               LDI     R20, 3
   \   00000078   2D3E               MOV     R19, R14
   \   0000007A   2D2F               MOV     R18, R15
   \   0000007C   0182               MOVW    R17:R16, R5:R4
   \   0000007E   ....               RCALL   ??ResponseException
   \   00000080   01C8               MOVW    R25:R24, R17:R16
   \   00000082   C044               RJMP    ??ReadCoils_3
    151              }
    152              else if ((uiAddress + uiNumberB) > m_uiCoilsNumber)
   \                     ??ReadCoils_2:
   \   00000084   01F2               MOVW    R31:R30, R5:R4
   \   00000086   8D02               LDD     R16, Z+26
   \   00000088   8D13               LDD     R17, Z+27
   \   0000008A   0196               MOVW    R19:R18, R13:R12
   \   0000008C   0F2A               ADD     R18, R26
   \   0000008E   1F3B               ADC     R19, R27
   \   00000090   1702               CP      R16, R18
   \   00000092   0713               CPC     R17, R19
   \   00000094   F440               BRCC    ??ReadCoils_4
    153              {
    154                  uiLength = ResponseException(uiSlave,
    155                                               uiFunctionCode,
    156                                               MODBUS_EXCEPTION_ILLEGAL_DATA_ADDRESS,
    157                                               puiResponse);
   \   00000096   01B4               MOVW    R23:R22, R9:R8
   \   00000098   E042               LDI     R20, 2
   \   0000009A   2D3E               MOV     R19, R14
   \   0000009C   2D2F               MOV     R18, R15
   \   0000009E   0182               MOVW    R17:R16, R5:R4
   \   000000A0   ....               RCALL   ??ResponseException
   \   000000A2   01C8               MOVW    R25:R24, R17:R16
   \   000000A4   C033               RJMP    ??ReadCoils_3
    158              }
    159              else
    160              {
    161                  uiLength = ResponseBasis(uiSlave, uiFunctionCode, puiResponse);
   \                     ??ReadCoils_4:
   \   000000A6   01A4               MOVW    R21:R20, R9:R8
   \   000000A8   2D3E               MOV     R19, R14
   \   000000AA   2D2F               MOV     R18, R15
   \   000000AC   0182               MOVW    R17:R16, R5:R4
   \   000000AE   01F2               MOVW    R31:R30, R5:R4
   \   000000B0   8161               LDD     R22, Z+1
   \   000000B2   8172               LDD     R23, Z+2
   \   000000B4   01FB               MOVW    R31:R30, R23:R22
   \   000000B6   963A               ADIW    R31:R30, 10
   \   000000B8   9165               LPM     R22, Z+
   \   000000BA   9174               LPM     R23, Z
   \   000000BC   973B               SBIW    R31:R30, 11
   \   000000BE   01FB               MOVW    R31:R30, R23:R22
   \   000000C0   9509               ICALL
   \   000000C2   01C8               MOVW    R25:R24, R17:R16
    162          
    163                  if (uiNumberB % 8)
   \   000000C4   2F0A               MOV     R16, R26
   \   000000C6   7007               ANDI    R16, 0x07
   \   000000C8   2300               TST     R16
   \   000000CA   F059               BREQ    ??ReadCoils_5
    164                  {
    165                      puiResponse[uiLength++] = ((uiNumberB / 8) + 1);
   \   000000CC   E043               LDI     R20, 3
   \   000000CE   018D               MOVW    R17:R16, R27:R26
   \   000000D0   ........           CALL    ?US_SHR_L02
   \   000000D4   9503               INC     R16
   \   000000D6   01F4               MOVW    R31:R30, R9:R8
   \   000000D8   0FE8               ADD     R30, R24
   \   000000DA   1FF9               ADC     R31, R25
   \   000000DC   8300               ST      Z, R16
   \   000000DE   9601               ADIW    R25:R24, 1
   \   000000E0   C009               RJMP    ??ReadCoils_6
    166                  }
    167                  else
    168                  {
    169                      puiResponse[uiLength++] = (uiNumberB / 8);
   \                     ??ReadCoils_5:
   \   000000E2   E043               LDI     R20, 3
   \   000000E4   018D               MOVW    R17:R16, R27:R26
   \   000000E6   ........           CALL    ?US_SHR_L02
   \   000000EA   01F4               MOVW    R31:R30, R9:R8
   \   000000EC   0FE8               ADD     R30, R24
   \   000000EE   1FF9               ADC     R31, R25
   \   000000F0   8300               ST      Z, R16
   \   000000F2   9601               ADIW    R25:R24, 1
    170                  }
    171                  uiLength = ByteToBitPack(uiAddress,
    172                                           uiNumberB,
    173                                           m_puiCoils,
    174                                           puiResponse,
    175                                           uiLength);
   \                     ??ReadCoils_6:
   \   000000F4   939A               ST      -Y, R25
   \   000000F6   938A               ST      -Y, R24
   \   000000F8   929A               ST      -Y, R9
   \   000000FA   928A               ST      -Y, R8
   \   000000FC   01F2               MOVW    R31:R30, R5:R4
   \   000000FE   8962               LDD     R22, Z+18
   \   00000100   8973               LDD     R23, Z+19
   \   00000102   01AD               MOVW    R21:R20, R27:R26
   \   00000104   0196               MOVW    R19:R18, R13:R12
   \   00000106   0182               MOVW    R17:R16, R5:R4
   \   00000108   ....               RCALL   ??ByteToBitPack
   \   0000010A   01C8               MOVW    R25:R24, R17:R16
    176              }
    177              return uiLength;
   \                     ??ReadCoils_3:
   \   0000010C   018C               MOVW    R17:R16, R25:R24
   \   0000010E   E1E0               LDI     R30, 16
   \   00000110   ........           JMP     ?EPILOGUE_B16_L09
    178          }
    179          
    180          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    181          int16_t CModbus::ReadDiscreteInputs(uint8_t *puiRequest, uint8_t *puiResponse, uint16_t uiLength)
   \                     ??ReadDiscreteInputs:
    182          {
   \   00000000   ........           CALL    ?PROLOGUE16_L09
   \   00000004                      REQUIRE ?Register_R4_is_cg_reg
   \   00000004                      REQUIRE ?Register_R5_is_cg_reg
   \   00000004                      REQUIRE ?Register_R6_is_cg_reg
   \   00000004                      REQUIRE ?Register_R7_is_cg_reg
   \   00000004                      REQUIRE ?Register_R8_is_cg_reg
   \   00000004                      REQUIRE ?Register_R9_is_cg_reg
   \   00000004                      REQUIRE ?Register_R10_is_cg_reg
   \   00000004                      REQUIRE ?Register_R11_is_cg_reg
   \   00000004                      REQUIRE ?Register_R12_is_cg_reg
   \   00000004                      REQUIRE ?Register_R13_is_cg_reg
   \   00000004                      REQUIRE ?Register_R14_is_cg_reg
   \   00000004                      REQUIRE ?Register_R15_is_cg_reg
   \   00000004   0128               MOVW    R5:R4, R17:R16
   \   00000006   0159               MOVW    R11:R10, R19:R18
   \   00000008   014A               MOVW    R9:R8, R21:R20
   \   0000000A   01CB               MOVW    R25:R24, R23:R22
    183              uint16_t uiOffset = HEADER_LENGTH();
   \   0000000C   0182               MOVW    R17:R16, R5:R4
   \   0000000E   01F2               MOVW    R31:R30, R5:R4
   \   00000010   8121               LDD     R18, Z+1
   \   00000012   8132               LDD     R19, Z+2
   \   00000014   01F9               MOVW    R31:R30, R19:R18
   \   00000016   963E               ADIW    R31:R30, 14
   \   00000018   9125               LPM     R18, Z+
   \   0000001A   9134               LPM     R19, Z
   \   0000001C   973F               SBIW    R31:R30, 15
   \   0000001E   01F9               MOVW    R31:R30, R19:R18
   \   00000020   9509               ICALL
   \   00000022   0138               MOVW    R7:R6, R17:R16
    184              int8_t uiSlave = puiRequest[uiOffset - 1];
   \   00000024   01F5               MOVW    R31:R30, R11:R10
   \   00000026   0DE6               ADD     R30, R6
   \   00000028   1DF7               ADC     R31, R7
   \   0000002A   9731               SBIW    R31:R30, 1
   \   0000002C   80F0               LD      R15, Z
    185              int8_t uiFunctionCode = puiRequest[uiOffset];
   \   0000002E   01F5               MOVW    R31:R30, R11:R10
   \   00000030   0DE6               ADD     R30, R6
   \   00000032   1DF7               ADC     R31, R7
   \   00000034   80E0               LD      R14, Z
    186              uint16_t uiAddress = ((static_cast<uint16_t>(puiRequest[uiOffset + 1]) << 8) |
    187                                    (static_cast<uint16_t>(puiRequest[uiOffset + 2])));
   \   00000036   01F5               MOVW    R31:R30, R11:R10
   \   00000038   0DE6               ADD     R30, R6
   \   0000003A   1DF7               ADC     R31, R7
   \   0000003C   80D1               LDD     R13, Z+1
   \   0000003E   24CC               CLR     R12
   \   00000040   01F5               MOVW    R31:R30, R11:R10
   \   00000042   0DE6               ADD     R30, R6
   \   00000044   1DF7               ADC     R31, R7
   \   00000046   8102               LDD     R16, Z+2
   \   00000048   E010               LDI     R17, 0
   \   0000004A   2AC0               OR      R12, R16
   \   0000004C   2AD1               OR      R13, R17
    188          
    189              uint16_t uiNumberB = ((static_cast<uint16_t>(puiRequest[uiOffset + 3]) << 8) |
    190                                    (static_cast<uint16_t>(puiRequest[uiOffset + 4])));
   \   0000004E   01F5               MOVW    R31:R30, R11:R10
   \   00000050   0DE6               ADD     R30, R6
   \   00000052   1DF7               ADC     R31, R7
   \   00000054   81B3               LDD     R27, Z+3
   \   00000056   E0A0               LDI     R26, 0
   \   00000058   01F5               MOVW    R31:R30, R11:R10
   \   0000005A   0DE6               ADD     R30, R6
   \   0000005C   1DF7               ADC     R31, R7
   \   0000005E   8104               LDD     R16, Z+4
   \   00000060   E010               LDI     R17, 0
   \   00000062   2BA0               OR      R26, R16
   \   00000064   2BB1               OR      R27, R17
    191          
    192              if (uiNumberB < 1 || MODBUS_MAX_READ_BITS < uiNumberB)
   \   00000066   2F0A               MOV     R16, R26
   \   00000068   2B0B               OR      R16, R27
   \   0000006A   F021               BREQ    ??ReadDiscreteInputs_1
   \   0000006C   3DA1               CPI     R26, 209
   \   0000006E   E007               LDI     R16, 7
   \   00000070   07B0               CPC     R27, R16
   \   00000072   F040               BRCS    ??ReadDiscreteInputs_2
    193              {
    194                  uiLength = ResponseException(uiSlave,
    195                                               uiFunctionCode,
    196                                               MODBUS_EXCEPTION_ILLEGAL_DATA_VALUE,
    197                                               puiResponse);
   \                     ??ReadDiscreteInputs_1:
   \   00000074   01B4               MOVW    R23:R22, R9:R8
   \   00000076   E043               LDI     R20, 3
   \   00000078   2D3E               MOV     R19, R14
   \   0000007A   2D2F               MOV     R18, R15
   \   0000007C   0182               MOVW    R17:R16, R5:R4
   \   0000007E   ....               RCALL   ??ResponseException
   \   00000080   01C8               MOVW    R25:R24, R17:R16
   \   00000082   C044               RJMP    ??ReadDiscreteInputs_3
    198              }
    199              else if ((uiAddress + uiNumberB) > m_uiDiscreteInputsNumber)
   \                     ??ReadDiscreteInputs_2:
   \   00000084   01F2               MOVW    R31:R30, R5:R4
   \   00000086   8D04               LDD     R16, Z+28
   \   00000088   8D15               LDD     R17, Z+29
   \   0000008A   0196               MOVW    R19:R18, R13:R12
   \   0000008C   0F2A               ADD     R18, R26
   \   0000008E   1F3B               ADC     R19, R27
   \   00000090   1702               CP      R16, R18
   \   00000092   0713               CPC     R17, R19
   \   00000094   F440               BRCC    ??ReadDiscreteInputs_4
    200              {
    201                  uiLength = ResponseException(uiSlave,
    202                                               uiFunctionCode,
    203                                               MODBUS_EXCEPTION_ILLEGAL_DATA_ADDRESS,
    204                                               puiResponse);
   \   00000096   01B4               MOVW    R23:R22, R9:R8
   \   00000098   E042               LDI     R20, 2
   \   0000009A   2D3E               MOV     R19, R14
   \   0000009C   2D2F               MOV     R18, R15
   \   0000009E   0182               MOVW    R17:R16, R5:R4
   \   000000A0   ....               RCALL   ??ResponseException
   \   000000A2   01C8               MOVW    R25:R24, R17:R16
   \   000000A4   C033               RJMP    ??ReadDiscreteInputs_3
    205              }
    206              else
    207              {
    208                  uiLength = ResponseBasis(uiSlave, uiFunctionCode, puiResponse);
   \                     ??ReadDiscreteInputs_4:
   \   000000A6   01A4               MOVW    R21:R20, R9:R8
   \   000000A8   2D3E               MOV     R19, R14
   \   000000AA   2D2F               MOV     R18, R15
   \   000000AC   0182               MOVW    R17:R16, R5:R4
   \   000000AE   01F2               MOVW    R31:R30, R5:R4
   \   000000B0   8161               LDD     R22, Z+1
   \   000000B2   8172               LDD     R23, Z+2
   \   000000B4   01FB               MOVW    R31:R30, R23:R22
   \   000000B6   963A               ADIW    R31:R30, 10
   \   000000B8   9165               LPM     R22, Z+
   \   000000BA   9174               LPM     R23, Z
   \   000000BC   973B               SBIW    R31:R30, 11
   \   000000BE   01FB               MOVW    R31:R30, R23:R22
   \   000000C0   9509               ICALL
   \   000000C2   01C8               MOVW    R25:R24, R17:R16
    209          
    210                  if (uiNumberB % 8)
   \   000000C4   2F0A               MOV     R16, R26
   \   000000C6   7007               ANDI    R16, 0x07
   \   000000C8   2300               TST     R16
   \   000000CA   F059               BREQ    ??ReadDiscreteInputs_5
    211                  {
    212                      puiResponse[uiLength++] = ((uiNumberB / 8) + 1);
   \   000000CC   E043               LDI     R20, 3
   \   000000CE   018D               MOVW    R17:R16, R27:R26
   \   000000D0   ........           CALL    ?US_SHR_L02
   \   000000D4   9503               INC     R16
   \   000000D6   01F4               MOVW    R31:R30, R9:R8
   \   000000D8   0FE8               ADD     R30, R24
   \   000000DA   1FF9               ADC     R31, R25
   \   000000DC   8300               ST      Z, R16
   \   000000DE   9601               ADIW    R25:R24, 1
   \   000000E0   C009               RJMP    ??ReadDiscreteInputs_6
    213                  }
    214                  else
    215                  {
    216                      puiResponse[uiLength++] = (uiNumberB / 8);
   \                     ??ReadDiscreteInputs_5:
   \   000000E2   E043               LDI     R20, 3
   \   000000E4   018D               MOVW    R17:R16, R27:R26
   \   000000E6   ........           CALL    ?US_SHR_L02
   \   000000EA   01F4               MOVW    R31:R30, R9:R8
   \   000000EC   0FE8               ADD     R30, R24
   \   000000EE   1FF9               ADC     R31, R25
   \   000000F0   8300               ST      Z, R16
   \   000000F2   9601               ADIW    R25:R24, 1
    217                  }
    218                  uiLength = ByteToBitPack(uiAddress,
    219                                           uiNumberB,
    220                                           m_puiDiscreteInputs,
    221                                           puiResponse,
    222                                           uiLength);
   \                     ??ReadDiscreteInputs_6:
   \   000000F4   939A               ST      -Y, R25
   \   000000F6   938A               ST      -Y, R24
   \   000000F8   929A               ST      -Y, R9
   \   000000FA   928A               ST      -Y, R8
   \   000000FC   01F2               MOVW    R31:R30, R5:R4
   \   000000FE   8964               LDD     R22, Z+20
   \   00000100   8975               LDD     R23, Z+21
   \   00000102   01AD               MOVW    R21:R20, R27:R26
   \   00000104   0196               MOVW    R19:R18, R13:R12
   \   00000106   0182               MOVW    R17:R16, R5:R4
   \   00000108   ....               RCALL   ??ByteToBitPack
   \   0000010A   01C8               MOVW    R25:R24, R17:R16
    223              }
    224              return uiLength;
   \                     ??ReadDiscreteInputs_3:
   \   0000010C   018C               MOVW    R17:R16, R25:R24
   \   0000010E   E1E0               LDI     R30, 16
   \   00000110   ........           JMP     ?EPILOGUE_B16_L09
    225          }
    226          
    227          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    228          int16_t CModbus::ReadHoldingRegisters(uint8_t *puiRequest, uint8_t *puiResponse, uint16_t uiLength)
   \                     ??ReadHoldingRegisters:
    229          {
   \   00000000   ........           CALL    ?PROLOGUE16_L09
   \   00000004                      REQUIRE ?Register_R4_is_cg_reg
   \   00000004                      REQUIRE ?Register_R5_is_cg_reg
   \   00000004                      REQUIRE ?Register_R6_is_cg_reg
   \   00000004                      REQUIRE ?Register_R7_is_cg_reg
   \   00000004                      REQUIRE ?Register_R8_is_cg_reg
   \   00000004                      REQUIRE ?Register_R9_is_cg_reg
   \   00000004                      REQUIRE ?Register_R10_is_cg_reg
   \   00000004                      REQUIRE ?Register_R11_is_cg_reg
   \   00000004                      REQUIRE ?Register_R12_is_cg_reg
   \   00000004                      REQUIRE ?Register_R13_is_cg_reg
   \   00000004                      REQUIRE ?Register_R14_is_cg_reg
   \   00000004                      REQUIRE ?Register_R15_is_cg_reg
   \   00000004   0128               MOVW    R5:R4, R17:R16
   \   00000006   0169               MOVW    R13:R12, R19:R18
   \   00000008   014A               MOVW    R9:R8, R21:R20
   \   0000000A   01CB               MOVW    R25:R24, R23:R22
    230              uint16_t uiOffset = HEADER_LENGTH();
   \   0000000C   0182               MOVW    R17:R16, R5:R4
   \   0000000E   01F2               MOVW    R31:R30, R5:R4
   \   00000010   8121               LDD     R18, Z+1
   \   00000012   8132               LDD     R19, Z+2
   \   00000014   01F9               MOVW    R31:R30, R19:R18
   \   00000016   963E               ADIW    R31:R30, 14
   \   00000018   9125               LPM     R18, Z+
   \   0000001A   9134               LPM     R19, Z
   \   0000001C   973F               SBIW    R31:R30, 15
   \   0000001E   01F9               MOVW    R31:R30, R19:R18
   \   00000020   9509               ICALL
   \   00000022   0158               MOVW    R11:R10, R17:R16
    231              int8_t uiSlave = puiRequest[uiOffset - 1];
   \   00000024   01F6               MOVW    R31:R30, R13:R12
   \   00000026   0DEA               ADD     R30, R10
   \   00000028   1DFB               ADC     R31, R11
   \   0000002A   9731               SBIW    R31:R30, 1
   \   0000002C   80F0               LD      R15, Z
    232              int8_t uiFunctionCode = puiRequest[uiOffset];
   \   0000002E   01F6               MOVW    R31:R30, R13:R12
   \   00000030   0DEA               ADD     R30, R10
   \   00000032   1DFB               ADC     R31, R11
   \   00000034   80E0               LD      R14, Z
    233              uint16_t uiAddress = ((static_cast<uint16_t>(puiRequest[uiOffset + 1]) << 8) |
    234                                    (static_cast<uint16_t>(puiRequest[uiOffset + 2])));
   \   00000036   01F6               MOVW    R31:R30, R13:R12
   \   00000038   0DEA               ADD     R30, R10
   \   0000003A   1DFB               ADC     R31, R11
   \   0000003C   81B1               LDD     R27, Z+1
   \   0000003E   E0A0               LDI     R26, 0
   \   00000040   01F6               MOVW    R31:R30, R13:R12
   \   00000042   0DEA               ADD     R30, R10
   \   00000044   1DFB               ADC     R31, R11
   \   00000046   8102               LDD     R16, Z+2
   \   00000048   E010               LDI     R17, 0
   \   0000004A   2BA0               OR      R26, R16
   \   0000004C   2BB1               OR      R27, R17
    235          
    236              uint16_t uiNumberB = ((static_cast<uint16_t>(puiRequest[uiOffset + 3]) << 8) |
    237                                    (static_cast<uint16_t>(puiRequest[uiOffset + 4])));
   \   0000004E   01F6               MOVW    R31:R30, R13:R12
   \   00000050   0DEA               ADD     R30, R10
   \   00000052   1DFB               ADC     R31, R11
   \   00000054   8073               LDD     R7, Z+3
   \   00000056   2466               CLR     R6
   \   00000058   01F6               MOVW    R31:R30, R13:R12
   \   0000005A   0DEA               ADD     R30, R10
   \   0000005C   1DFB               ADC     R31, R11
   \   0000005E   8104               LDD     R16, Z+4
   \   00000060   E010               LDI     R17, 0
   \   00000062   2A60               OR      R6, R16
   \   00000064   2A71               OR      R7, R17
    238          
    239              if (uiNumberB < 1 || MODBUS_MAX_READ_REGISTERS < uiNumberB)
   \   00000066   2D06               MOV     R16, R6
   \   00000068   2907               OR      R16, R7
   \   0000006A   F029               BREQ    ??ReadHoldingRegisters_1
   \   0000006C   E70E               LDI     R16, 126
   \   0000006E   1660               CP      R6, R16
   \   00000070   E000               LDI     R16, 0
   \   00000072   0670               CPC     R7, R16
   \   00000074   F040               BRCS    ??ReadHoldingRegisters_2
    240              {
    241                  uiLength = ResponseException(uiSlave,
    242                                               uiFunctionCode,
    243                                               MODBUS_EXCEPTION_ILLEGAL_DATA_VALUE,
    244                                               puiResponse);
   \                     ??ReadHoldingRegisters_1:
   \   00000076   01B4               MOVW    R23:R22, R9:R8
   \   00000078   E043               LDI     R20, 3
   \   0000007A   2D3E               MOV     R19, R14
   \   0000007C   2D2F               MOV     R18, R15
   \   0000007E   0182               MOVW    R17:R16, R5:R4
   \   00000080   ....               RCALL   ??ResponseException
   \   00000082   01C8               MOVW    R25:R24, R17:R16
   \   00000084   C052               RJMP    ??ReadHoldingRegisters_3
    245              }
    246              else if ((uiAddress + uiNumberB) > m_uiHoldingRegistersNumber)
   \                     ??ReadHoldingRegisters_2:
   \   00000086   01F2               MOVW    R31:R30, R5:R4
   \   00000088   8D06               LDD     R16, Z+30
   \   0000008A   8D17               LDD     R17, Z+31
   \   0000008C   019D               MOVW    R19:R18, R27:R26
   \   0000008E   0D26               ADD     R18, R6
   \   00000090   1D37               ADC     R19, R7
   \   00000092   1702               CP      R16, R18
   \   00000094   0713               CPC     R17, R19
   \   00000096   F440               BRCC    ??ReadHoldingRegisters_4
    247              {
    248                  uiLength = ResponseException(uiSlave,
    249                                               uiFunctionCode,
    250                                               MODBUS_EXCEPTION_ILLEGAL_DATA_ADDRESS,
    251                                               puiResponse);
   \   00000098   01B4               MOVW    R23:R22, R9:R8
   \   0000009A   E042               LDI     R20, 2
   \   0000009C   2D3E               MOV     R19, R14
   \   0000009E   2D2F               MOV     R18, R15
   \   000000A0   0182               MOVW    R17:R16, R5:R4
   \   000000A2   ....               RCALL   ??ResponseException
   \   000000A4   01C8               MOVW    R25:R24, R17:R16
   \   000000A6   C041               RJMP    ??ReadHoldingRegisters_3
    252              }
    253              else
    254              {
    255                  uiLength = ResponseBasis(uiSlave, uiFunctionCode, puiResponse);
   \                     ??ReadHoldingRegisters_4:
   \   000000A8   01A4               MOVW    R21:R20, R9:R8
   \   000000AA   2D3E               MOV     R19, R14
   \   000000AC   2D2F               MOV     R18, R15
   \   000000AE   0182               MOVW    R17:R16, R5:R4
   \   000000B0   01F2               MOVW    R31:R30, R5:R4
   \   000000B2   8161               LDD     R22, Z+1
   \   000000B4   8172               LDD     R23, Z+2
   \   000000B6   01FB               MOVW    R31:R30, R23:R22
   \   000000B8   963A               ADIW    R31:R30, 10
   \   000000BA   9165               LPM     R22, Z+
   \   000000BC   9174               LPM     R23, Z
   \   000000BE   973B               SBIW    R31:R30, 11
   \   000000C0   01FB               MOVW    R31:R30, R23:R22
   \   000000C2   9509               ICALL
   \   000000C4   01C8               MOVW    R25:R24, R17:R16
    256                  puiResponse[uiLength++] = (uiNumberB << 1);
   \   000000C6   2D06               MOV     R16, R6
   \   000000C8   0F00               LSL     R16
   \   000000CA   01F4               MOVW    R31:R30, R9:R8
   \   000000CC   0FE8               ADD     R30, R24
   \   000000CE   1FF9               ADC     R31, R25
   \   000000D0   8300               ST      Z, R16
   \   000000D2   9601               ADIW    R25:R24, 1
    257                  for (uint16_t i = 0; i < uiNumberB; i++)
   \   000000D4   E000               LDI     R16, 0
   \   000000D6   E010               LDI     R17, 0
   \                     ??ReadHoldingRegisters_5:
   \   000000D8   1506               CP      R16, R6
   \   000000DA   0517               CPC     R17, R7
   \   000000DC   F530               BRCC    ??ReadHoldingRegisters_3
    258                  {
    259                      puiResponse[uiLength++] = (static_cast<uint8_t>(m_pui16HoldingRegisters[uiAddress] >> 8));
   \   000000DE   01F2               MOVW    R31:R30, R5:R4
   \   000000E0   8946               LDD     R20, Z+22
   \   000000E2   8957               LDD     R21, Z+23
   \   000000E4   019D               MOVW    R19:R18, R27:R26
   \   000000E6   0F22               LSL     R18
   \   000000E8   1F33               ROL     R19
   \   000000EA   0F42               ADD     R20, R18
   \   000000EC   1F53               ADC     R21, R19
   \   000000EE   01FA               MOVW    R31:R30, R21:R20
   \   000000F0   8120               LD      R18, Z
   \   000000F2   8131               LDD     R19, Z+1
   \   000000F4   2F23               MOV     R18, R19
   \   000000F6   E030               LDI     R19, 0
   \   000000F8   01F4               MOVW    R31:R30, R9:R8
   \   000000FA   0FE8               ADD     R30, R24
   \   000000FC   1FF9               ADC     R31, R25
   \   000000FE   8320               ST      Z, R18
   \   00000100   9601               ADIW    R25:R24, 1
    260                      puiResponse[uiLength++] = (static_cast<uint8_t>(m_pui16HoldingRegisters[uiAddress] & 0x00FF));
   \   00000102   01F2               MOVW    R31:R30, R5:R4
   \   00000104   8946               LDD     R20, Z+22
   \   00000106   8957               LDD     R21, Z+23
   \   00000108   019D               MOVW    R19:R18, R27:R26
   \   0000010A   0F22               LSL     R18
   \   0000010C   1F33               ROL     R19
   \   0000010E   0F42               ADD     R20, R18
   \   00000110   1F53               ADC     R21, R19
   \   00000112   01FA               MOVW    R31:R30, R21:R20
   \   00000114   8120               LD      R18, Z
   \   00000116   8131               LDD     R19, Z+1
   \   00000118   01F4               MOVW    R31:R30, R9:R8
   \   0000011A   0FE8               ADD     R30, R24
   \   0000011C   1FF9               ADC     R31, R25
   \   0000011E   8320               ST      Z, R18
   \   00000120   9601               ADIW    R25:R24, 1
    261                      uiAddress++;
   \   00000122   9611               ADIW    R27:R26, 1
    262                  }
   \   00000124   5F0F               SUBI    R16, 255
   \   00000126   4F1F               SBCI    R17, 255
   \   00000128   CFD7               RJMP    ??ReadHoldingRegisters_5
    263              }
    264              return uiLength;
   \                     ??ReadHoldingRegisters_3:
   \   0000012A   018C               MOVW    R17:R16, R25:R24
   \   0000012C   E1E0               LDI     R30, 16
   \   0000012E   ........           JMP     ?EPILOGUE_B16_L09
    265          }
    266          
    267          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    268          int16_t CModbus::ReadInputRegisters(uint8_t *puiRequest, uint8_t *puiResponse, uint16_t uiLength)
   \                     ??ReadInputRegisters:
    269          {
   \   00000000   ........           CALL    ?PROLOGUE16_L09
   \   00000004                      REQUIRE ?Register_R4_is_cg_reg
   \   00000004                      REQUIRE ?Register_R5_is_cg_reg
   \   00000004                      REQUIRE ?Register_R6_is_cg_reg
   \   00000004                      REQUIRE ?Register_R7_is_cg_reg
   \   00000004                      REQUIRE ?Register_R8_is_cg_reg
   \   00000004                      REQUIRE ?Register_R9_is_cg_reg
   \   00000004                      REQUIRE ?Register_R10_is_cg_reg
   \   00000004                      REQUIRE ?Register_R11_is_cg_reg
   \   00000004                      REQUIRE ?Register_R12_is_cg_reg
   \   00000004                      REQUIRE ?Register_R13_is_cg_reg
   \   00000004                      REQUIRE ?Register_R14_is_cg_reg
   \   00000004                      REQUIRE ?Register_R15_is_cg_reg
   \   00000004   0128               MOVW    R5:R4, R17:R16
   \   00000006   0169               MOVW    R13:R12, R19:R18
   \   00000008   014A               MOVW    R9:R8, R21:R20
   \   0000000A   01CB               MOVW    R25:R24, R23:R22
    270              uint16_t uiOffset = HEADER_LENGTH();
   \   0000000C   0182               MOVW    R17:R16, R5:R4
   \   0000000E   01F2               MOVW    R31:R30, R5:R4
   \   00000010   8121               LDD     R18, Z+1
   \   00000012   8132               LDD     R19, Z+2
   \   00000014   01F9               MOVW    R31:R30, R19:R18
   \   00000016   963E               ADIW    R31:R30, 14
   \   00000018   9125               LPM     R18, Z+
   \   0000001A   9134               LPM     R19, Z
   \   0000001C   973F               SBIW    R31:R30, 15
   \   0000001E   01F9               MOVW    R31:R30, R19:R18
   \   00000020   9509               ICALL
   \   00000022   0158               MOVW    R11:R10, R17:R16
    271              int8_t uiSlave = puiRequest[uiOffset - 1];
   \   00000024   01F6               MOVW    R31:R30, R13:R12
   \   00000026   0DEA               ADD     R30, R10
   \   00000028   1DFB               ADC     R31, R11
   \   0000002A   9731               SBIW    R31:R30, 1
   \   0000002C   80F0               LD      R15, Z
    272              int8_t uiFunctionCode = puiRequest[uiOffset];
   \   0000002E   01F6               MOVW    R31:R30, R13:R12
   \   00000030   0DEA               ADD     R30, R10
   \   00000032   1DFB               ADC     R31, R11
   \   00000034   80E0               LD      R14, Z
    273              uint16_t uiAddress = ((static_cast<uint16_t>(puiRequest[uiOffset + 1]) << 8) |
    274                                    (static_cast<uint16_t>(puiRequest[uiOffset + 2])));
   \   00000036   01F6               MOVW    R31:R30, R13:R12
   \   00000038   0DEA               ADD     R30, R10
   \   0000003A   1DFB               ADC     R31, R11
   \   0000003C   81B1               LDD     R27, Z+1
   \   0000003E   E0A0               LDI     R26, 0
   \   00000040   01F6               MOVW    R31:R30, R13:R12
   \   00000042   0DEA               ADD     R30, R10
   \   00000044   1DFB               ADC     R31, R11
   \   00000046   8102               LDD     R16, Z+2
   \   00000048   E010               LDI     R17, 0
   \   0000004A   2BA0               OR      R26, R16
   \   0000004C   2BB1               OR      R27, R17
    275          
    276              uint16_t uiNumberB = ((static_cast<uint16_t>(puiRequest[uiOffset + 3]) << 8) |
    277                                    (static_cast<uint16_t>(puiRequest[uiOffset + 4])));
   \   0000004E   01F6               MOVW    R31:R30, R13:R12
   \   00000050   0DEA               ADD     R30, R10
   \   00000052   1DFB               ADC     R31, R11
   \   00000054   8073               LDD     R7, Z+3
   \   00000056   2466               CLR     R6
   \   00000058   01F6               MOVW    R31:R30, R13:R12
   \   0000005A   0DEA               ADD     R30, R10
   \   0000005C   1DFB               ADC     R31, R11
   \   0000005E   8104               LDD     R16, Z+4
   \   00000060   E010               LDI     R17, 0
   \   00000062   2A60               OR      R6, R16
   \   00000064   2A71               OR      R7, R17
    278          
    279              if (uiNumberB < 1 || MODBUS_MAX_READ_REGISTERS < uiNumberB)
   \   00000066   2D06               MOV     R16, R6
   \   00000068   2907               OR      R16, R7
   \   0000006A   F029               BREQ    ??ReadInputRegisters_1
   \   0000006C   E70E               LDI     R16, 126
   \   0000006E   1660               CP      R6, R16
   \   00000070   E000               LDI     R16, 0
   \   00000072   0670               CPC     R7, R16
   \   00000074   F040               BRCS    ??ReadInputRegisters_2
    280              {
    281                  uiLength = ResponseException(uiSlave,
    282                                               uiFunctionCode,
    283                                               MODBUS_EXCEPTION_ILLEGAL_DATA_VALUE,
    284                                               puiResponse);
   \                     ??ReadInputRegisters_1:
   \   00000076   01B4               MOVW    R23:R22, R9:R8
   \   00000078   E043               LDI     R20, 3
   \   0000007A   2D3E               MOV     R19, R14
   \   0000007C   2D2F               MOV     R18, R15
   \   0000007E   0182               MOVW    R17:R16, R5:R4
   \   00000080   ....               RCALL   ??ResponseException
   \   00000082   01C8               MOVW    R25:R24, R17:R16
   \   00000084   C052               RJMP    ??ReadInputRegisters_3
    285              }
    286              else if ((uiAddress + uiNumberB) > m_uiInputRegistersNumber)
   \                     ??ReadInputRegisters_2:
   \   00000086   01F2               MOVW    R31:R30, R5:R4
   \   00000088   A100               LDD     R16, Z+32
   \   0000008A   A111               LDD     R17, Z+33
   \   0000008C   019D               MOVW    R19:R18, R27:R26
   \   0000008E   0D26               ADD     R18, R6
   \   00000090   1D37               ADC     R19, R7
   \   00000092   1702               CP      R16, R18
   \   00000094   0713               CPC     R17, R19
   \   00000096   F440               BRCC    ??ReadInputRegisters_4
    287              {
    288                  uiLength = ResponseException(uiSlave,
    289                                               uiFunctionCode,
    290                                               MODBUS_EXCEPTION_ILLEGAL_DATA_ADDRESS,
    291                                               puiResponse);
   \   00000098   01B4               MOVW    R23:R22, R9:R8
   \   0000009A   E042               LDI     R20, 2
   \   0000009C   2D3E               MOV     R19, R14
   \   0000009E   2D2F               MOV     R18, R15
   \   000000A0   0182               MOVW    R17:R16, R5:R4
   \   000000A2   ....               RCALL   ??ResponseException
   \   000000A4   01C8               MOVW    R25:R24, R17:R16
   \   000000A6   C041               RJMP    ??ReadInputRegisters_3
    292              }
    293              else
    294              {
    295                  uiLength = ResponseBasis(uiSlave, uiFunctionCode, puiResponse);
   \                     ??ReadInputRegisters_4:
   \   000000A8   01A4               MOVW    R21:R20, R9:R8
   \   000000AA   2D3E               MOV     R19, R14
   \   000000AC   2D2F               MOV     R18, R15
   \   000000AE   0182               MOVW    R17:R16, R5:R4
   \   000000B0   01F2               MOVW    R31:R30, R5:R4
   \   000000B2   8161               LDD     R22, Z+1
   \   000000B4   8172               LDD     R23, Z+2
   \   000000B6   01FB               MOVW    R31:R30, R23:R22
   \   000000B8   963A               ADIW    R31:R30, 10
   \   000000BA   9165               LPM     R22, Z+
   \   000000BC   9174               LPM     R23, Z
   \   000000BE   973B               SBIW    R31:R30, 11
   \   000000C0   01FB               MOVW    R31:R30, R23:R22
   \   000000C2   9509               ICALL
   \   000000C4   01C8               MOVW    R25:R24, R17:R16
    296                  puiResponse[uiLength++] = (uiNumberB << 1);
   \   000000C6   2D06               MOV     R16, R6
   \   000000C8   0F00               LSL     R16
   \   000000CA   01F4               MOVW    R31:R30, R9:R8
   \   000000CC   0FE8               ADD     R30, R24
   \   000000CE   1FF9               ADC     R31, R25
   \   000000D0   8300               ST      Z, R16
   \   000000D2   9601               ADIW    R25:R24, 1
    297                  for (uint16_t i = 0; i < uiNumberB; i++)
   \   000000D4   E000               LDI     R16, 0
   \   000000D6   E010               LDI     R17, 0
   \                     ??ReadInputRegisters_5:
   \   000000D8   1506               CP      R16, R6
   \   000000DA   0517               CPC     R17, R7
   \   000000DC   F530               BRCC    ??ReadInputRegisters_3
    298                  {
    299                      puiResponse[uiLength++] = (static_cast<uint8_t>(m_pui16InputRegisters[uiAddress] >> 8));
   \   000000DE   01F2               MOVW    R31:R30, R5:R4
   \   000000E0   8D40               LDD     R20, Z+24
   \   000000E2   8D51               LDD     R21, Z+25
   \   000000E4   019D               MOVW    R19:R18, R27:R26
   \   000000E6   0F22               LSL     R18
   \   000000E8   1F33               ROL     R19
   \   000000EA   0F42               ADD     R20, R18
   \   000000EC   1F53               ADC     R21, R19
   \   000000EE   01FA               MOVW    R31:R30, R21:R20
   \   000000F0   8120               LD      R18, Z
   \   000000F2   8131               LDD     R19, Z+1
   \   000000F4   2F23               MOV     R18, R19
   \   000000F6   E030               LDI     R19, 0
   \   000000F8   01F4               MOVW    R31:R30, R9:R8
   \   000000FA   0FE8               ADD     R30, R24
   \   000000FC   1FF9               ADC     R31, R25
   \   000000FE   8320               ST      Z, R18
   \   00000100   9601               ADIW    R25:R24, 1
    300                      puiResponse[uiLength++] = (static_cast<uint8_t>(m_pui16InputRegisters[uiAddress] & 0x00FF));
   \   00000102   01F2               MOVW    R31:R30, R5:R4
   \   00000104   8D40               LDD     R20, Z+24
   \   00000106   8D51               LDD     R21, Z+25
   \   00000108   019D               MOVW    R19:R18, R27:R26
   \   0000010A   0F22               LSL     R18
   \   0000010C   1F33               ROL     R19
   \   0000010E   0F42               ADD     R20, R18
   \   00000110   1F53               ADC     R21, R19
   \   00000112   01FA               MOVW    R31:R30, R21:R20
   \   00000114   8120               LD      R18, Z
   \   00000116   8131               LDD     R19, Z+1
   \   00000118   01F4               MOVW    R31:R30, R9:R8
   \   0000011A   0FE8               ADD     R30, R24
   \   0000011C   1FF9               ADC     R31, R25
   \   0000011E   8320               ST      Z, R18
   \   00000120   9601               ADIW    R25:R24, 1
    301                      uiAddress++;
   \   00000122   9611               ADIW    R27:R26, 1
    302                  }
   \   00000124   5F0F               SUBI    R16, 255
   \   00000126   4F1F               SBCI    R17, 255
   \   00000128   CFD7               RJMP    ??ReadInputRegisters_5
    303              }
    304              return uiLength;
   \                     ??ReadInputRegisters_3:
   \   0000012A   018C               MOVW    R17:R16, R25:R24
   \   0000012C   E1E0               LDI     R30, 16
   \   0000012E   ........           JMP     ?EPILOGUE_B16_L09
    305          }
    306          
    307          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    308          int16_t CModbus::WriteSingleCoil(uint8_t *puiRequest, uint8_t *puiResponse, uint16_t uiLength)
   \                     ??WriteSingleCoil:
    309          {
   \   00000000   ........           CALL    ?PROLOGUE16_L09
   \   00000004                      REQUIRE ?Register_R4_is_cg_reg
   \   00000004                      REQUIRE ?Register_R5_is_cg_reg
   \   00000004                      REQUIRE ?Register_R6_is_cg_reg
   \   00000004                      REQUIRE ?Register_R7_is_cg_reg
   \   00000004                      REQUIRE ?Register_R8_is_cg_reg
   \   00000004                      REQUIRE ?Register_R9_is_cg_reg
   \   00000004                      REQUIRE ?Register_R10_is_cg_reg
   \   00000004                      REQUIRE ?Register_R11_is_cg_reg
   \   00000004                      REQUIRE ?Register_R12_is_cg_reg
   \   00000004                      REQUIRE ?Register_R13_is_cg_reg
   \   00000004                      REQUIRE ?Register_R14_is_cg_reg
   \   00000004                      REQUIRE ?Register_R15_is_cg_reg
   \   00000004   0158               MOVW    R11:R10, R17:R16
   \   00000006   0129               MOVW    R5:R4, R19:R18
   \   00000008   016A               MOVW    R13:R12, R21:R20
   \   0000000A   01CB               MOVW    R25:R24, R23:R22
    310              uint16_t uiOffset = HEADER_LENGTH();
   \   0000000C   0185               MOVW    R17:R16, R11:R10
   \   0000000E   01F5               MOVW    R31:R30, R11:R10
   \   00000010   8121               LDD     R18, Z+1
   \   00000012   8132               LDD     R19, Z+2
   \   00000014   01F9               MOVW    R31:R30, R19:R18
   \   00000016   963E               ADIW    R31:R30, 14
   \   00000018   9125               LPM     R18, Z+
   \   0000001A   9134               LPM     R19, Z
   \   0000001C   973F               SBIW    R31:R30, 15
   \   0000001E   01F9               MOVW    R31:R30, R19:R18
   \   00000020   9509               ICALL
   \   00000022   0138               MOVW    R7:R6, R17:R16
    311              int8_t uiSlave = puiRequest[uiOffset - 1];
   \   00000024   01F2               MOVW    R31:R30, R5:R4
   \   00000026   0DE6               ADD     R30, R6
   \   00000028   1DF7               ADC     R31, R7
   \   0000002A   9731               SBIW    R31:R30, 1
   \   0000002C   80F0               LD      R15, Z
    312              int8_t uiFunctionCode = puiRequest[uiOffset];
   \   0000002E   01F2               MOVW    R31:R30, R5:R4
   \   00000030   0DE6               ADD     R30, R6
   \   00000032   1DF7               ADC     R31, R7
   \   00000034   80E0               LD      R14, Z
    313              uint16_t uiAddress = ((static_cast<uint16_t>(puiRequest[uiOffset + 1]) << 8) |
    314                                    (static_cast<uint16_t>(puiRequest[uiOffset + 2])));
   \   00000036   01F2               MOVW    R31:R30, R5:R4
   \   00000038   0DE6               ADD     R30, R6
   \   0000003A   1DF7               ADC     R31, R7
   \   0000003C   8091               LDD     R9, Z+1
   \   0000003E   2488               CLR     R8
   \   00000040   01F2               MOVW    R31:R30, R5:R4
   \   00000042   0DE6               ADD     R30, R6
   \   00000044   1DF7               ADC     R31, R7
   \   00000046   8102               LDD     R16, Z+2
   \   00000048   E010               LDI     R17, 0
   \   0000004A   2A80               OR      R8, R16
   \   0000004C   2A91               OR      R9, R17
    315          
    316              if (uiAddress >= m_uiCoilsNumber)
   \   0000004E   01F5               MOVW    R31:R30, R11:R10
   \   00000050   8D02               LDD     R16, Z+26
   \   00000052   8D13               LDD     R17, Z+27
   \   00000054   1680               CP      R8, R16
   \   00000056   0691               CPC     R9, R17
   \   00000058   F040               BRCS    ??WriteSingleCoil_1
    317              {
    318                  uiLength = ResponseException(uiSlave,
    319                                               uiFunctionCode,
    320                                               MODBUS_EXCEPTION_ILLEGAL_DATA_ADDRESS,
    321                                               puiResponse);
   \   0000005A   01B6               MOVW    R23:R22, R13:R12
   \   0000005C   E042               LDI     R20, 2
   \   0000005E   2D3E               MOV     R19, R14
   \   00000060   2D2F               MOV     R18, R15
   \   00000062   0185               MOVW    R17:R16, R11:R10
   \   00000064   ....               RCALL   ??ResponseException
   \   00000066   01C8               MOVW    R25:R24, R17:R16
   \   00000068   C02E               RJMP    ??WriteSingleCoil_2
    322              }
    323              else
    324              {
    325                  uint16_t uiData = ((static_cast<uint16_t>(puiRequest[uiOffset + 3]) << 8) |
    326                                     (static_cast<uint16_t>(puiRequest[uiOffset + 4])));
   \                     ??WriteSingleCoil_1:
   \   0000006A   01F2               MOVW    R31:R30, R5:R4
   \   0000006C   0DE6               ADD     R30, R6
   \   0000006E   1DF7               ADC     R31, R7
   \   00000070   81B3               LDD     R27, Z+3
   \   00000072   E0A0               LDI     R26, 0
   \   00000074   01F2               MOVW    R31:R30, R5:R4
   \   00000076   0DE6               ADD     R30, R6
   \   00000078   1DF7               ADC     R31, R7
   \   0000007A   8104               LDD     R16, Z+4
   \   0000007C   E010               LDI     R17, 0
   \   0000007E   2BA0               OR      R26, R16
   \   00000080   2BB1               OR      R27, R17
    327          
    328                  if (uiData == 0xFF00)
   \   00000082   30A0               CPI     R26, 0
   \   00000084   EF0F               LDI     R16, 255
   \   00000086   07B0               CPC     R27, R16
   \   00000088   F451               BRNE    ??WriteSingleCoil_3
    329                  {
    330                      CPss21::ModbusDeviceControl(1, uiAddress);
   \   0000008A   0194               MOVW    R19:R18, R9:R8
   \   0000008C   E001               LDI     R16, 1
   \   0000008E   ........           CALL    ??ModbusDeviceControl
    331                      memcpy(puiResponse, puiRequest, uiLength);
   \   00000092   01AC               MOVW    R21:R20, R25:R24
   \   00000094   0192               MOVW    R19:R18, R5:R4
   \   00000096   0186               MOVW    R17:R16, R13:R12
   \   00000098   ........           CALL    memcpy
   \   0000009C   C014               RJMP    ??WriteSingleCoil_2
    332                  }
    333                  else if (uiData == 0x0000)
   \                     ??WriteSingleCoil_3:
   \   0000009E   2F0A               MOV     R16, R26
   \   000000A0   2B0B               OR      R16, R27
   \   000000A2   F451               BRNE    ??WriteSingleCoil_4
    334                  {
    335                      CPss21::ModbusDeviceControl(0, uiAddress);
   \   000000A4   0194               MOVW    R19:R18, R9:R8
   \   000000A6   E000               LDI     R16, 0
   \   000000A8   ........           CALL    ??ModbusDeviceControl
    336                      memcpy(puiResponse, puiRequest, uiLength);
   \   000000AC   01AC               MOVW    R21:R20, R25:R24
   \   000000AE   0192               MOVW    R19:R18, R5:R4
   \   000000B0   0186               MOVW    R17:R16, R13:R12
   \   000000B2   ........           CALL    memcpy
   \   000000B6   C007               RJMP    ??WriteSingleCoil_2
    337                  }
    338                  else
    339                  {
    340                      uiLength = ResponseException(uiSlave,
    341                                                   uiFunctionCode,
    342                                                   MODBUS_EXCEPTION_ILLEGAL_DATA_VALUE,
    343                                                   puiResponse);
   \                     ??WriteSingleCoil_4:
   \   000000B8   01B6               MOVW    R23:R22, R13:R12
   \   000000BA   E043               LDI     R20, 3
   \   000000BC   2D3E               MOV     R19, R14
   \   000000BE   2D2F               MOV     R18, R15
   \   000000C0   0185               MOVW    R17:R16, R11:R10
   \   000000C2   ....               RCALL   ??ResponseException
   \   000000C4   01C8               MOVW    R25:R24, R17:R16
    344                  }
    345          
    346          //        if (uiData == 0xFF00 || uiData == 0x0)
    347          //        {
    348          //            if (uiData)
    349          //            {
    350          //                m_puiCoils[uiAddress] = ON;
    351          //            }
    352          //            else
    353          //            {
    354          //                m_puiCoils[uiAddress] = OFF;
    355          //            }
    356          //            memcpy(puiResponse, puiRequest, uiLength);
    357          //        }
    358          //        else
    359          //        {
    360          //            uiLength = ResponseException(uiSlave,
    361          //                                         uiFunctionCode,
    362          //                                         MODBUS_EXCEPTION_ILLEGAL_DATA_VALUE,
    363          //                                         puiResponse);
    364          //        }
    365          
    366              }
    367              return uiLength;
   \                     ??WriteSingleCoil_2:
   \   000000C6   018C               MOVW    R17:R16, R25:R24
   \   000000C8   E1E0               LDI     R30, 16
   \   000000CA   ........           JMP     ?EPILOGUE_B16_L09
    368          }
    369          
    370          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    371          int16_t CModbus::WriteSingleRegister(uint8_t *puiRequest, uint8_t *puiResponse, uint16_t uiLength)
   \                     ??WriteSingleRegister:
    372          {
   \   00000000   ........           CALL    ?PROLOGUE14_L09
   \   00000004                      REQUIRE ?Register_R4_is_cg_reg
   \   00000004                      REQUIRE ?Register_R5_is_cg_reg
   \   00000004                      REQUIRE ?Register_R6_is_cg_reg
   \   00000004                      REQUIRE ?Register_R7_is_cg_reg
   \   00000004                      REQUIRE ?Register_R8_is_cg_reg
   \   00000004                      REQUIRE ?Register_R9_is_cg_reg
   \   00000004                      REQUIRE ?Register_R10_is_cg_reg
   \   00000004                      REQUIRE ?Register_R11_is_cg_reg
   \   00000004                      REQUIRE ?Register_R12_is_cg_reg
   \   00000004                      REQUIRE ?Register_R13_is_cg_reg
   \   00000004   0128               MOVW    R5:R4, R17:R16
   \   00000006   01C9               MOVW    R25:R24, R19:R18
   \   00000008   015A               MOVW    R11:R10, R21:R20
   \   0000000A   014B               MOVW    R9:R8, R23:R22
    373              uint16_t uiOffset = HEADER_LENGTH();
   \   0000000C   0182               MOVW    R17:R16, R5:R4
   \   0000000E   01F2               MOVW    R31:R30, R5:R4
   \   00000010   8121               LDD     R18, Z+1
   \   00000012   8132               LDD     R19, Z+2
   \   00000014   01F9               MOVW    R31:R30, R19:R18
   \   00000016   963E               ADIW    R31:R30, 14
   \   00000018   9125               LPM     R18, Z+
   \   0000001A   9134               LPM     R19, Z
   \   0000001C   973F               SBIW    R31:R30, 15
   \   0000001E   01F9               MOVW    R31:R30, R19:R18
   \   00000020   9509               ICALL
   \   00000022   01D8               MOVW    R27:R26, R17:R16
    374              int8_t uiSlave = puiRequest[uiOffset - 1];
   \   00000024   01FC               MOVW    R31:R30, R25:R24
   \   00000026   0FEA               ADD     R30, R26
   \   00000028   1FFB               ADC     R31, R27
   \   0000002A   9731               SBIW    R31:R30, 1
   \   0000002C   80D0               LD      R13, Z
    375              int8_t uiFunctionCode = puiRequest[uiOffset];
   \   0000002E   01FC               MOVW    R31:R30, R25:R24
   \   00000030   0FEA               ADD     R30, R26
   \   00000032   1FFB               ADC     R31, R27
   \   00000034   80C0               LD      R12, Z
    376              uint16_t uiAddress = ((static_cast<uint16_t>(puiRequest[uiOffset + 1]) << 8) |
    377                                    (static_cast<uint16_t>(puiRequest[uiOffset + 2])));
   \   00000036   01FC               MOVW    R31:R30, R25:R24
   \   00000038   0FEA               ADD     R30, R26
   \   0000003A   1FFB               ADC     R31, R27
   \   0000003C   8071               LDD     R7, Z+1
   \   0000003E   2466               CLR     R6
   \   00000040   01FC               MOVW    R31:R30, R25:R24
   \   00000042   0FEA               ADD     R30, R26
   \   00000044   1FFB               ADC     R31, R27
   \   00000046   8102               LDD     R16, Z+2
   \   00000048   E010               LDI     R17, 0
   \   0000004A   2A60               OR      R6, R16
   \   0000004C   2A71               OR      R7, R17
    378          
    379              if (uiAddress >= m_uiHoldingRegistersNumber)
   \   0000004E   01F2               MOVW    R31:R30, R5:R4
   \   00000050   8D06               LDD     R16, Z+30
   \   00000052   8D17               LDD     R17, Z+31
   \   00000054   1660               CP      R6, R16
   \   00000056   0671               CPC     R7, R17
   \   00000058   F040               BRCS    ??WriteSingleRegister_1
    380              {
    381                  uiLength = ResponseException(uiSlave,
    382                                               uiFunctionCode,
    383                                               MODBUS_EXCEPTION_ILLEGAL_DATA_ADDRESS,
    384                                               puiResponse);
   \   0000005A   01B5               MOVW    R23:R22, R11:R10
   \   0000005C   E042               LDI     R20, 2
   \   0000005E   2D3C               MOV     R19, R12
   \   00000060   2D2D               MOV     R18, R13
   \   00000062   0182               MOVW    R17:R16, R5:R4
   \   00000064   ....               RCALL   ??ResponseException
   \   00000066   0148               MOVW    R9:R8, R17:R16
   \   00000068   C01C               RJMP    ??WriteSingleRegister_2
    385              }
    386              else
    387              {
    388                  m_pui16HoldingRegisters[uiAddress] =
    389                      ((static_cast<uint16_t>(puiRequest[uiOffset + 3]) << 8) |
    390                       (static_cast<uint16_t>(puiRequest[uiOffset + 4])));
   \                     ??WriteSingleRegister_1:
   \   0000006A   01FC               MOVW    R31:R30, R25:R24
   \   0000006C   0FEA               ADD     R30, R26
   \   0000006E   1FFB               ADC     R31, R27
   \   00000070   8153               LDD     R21, Z+3
   \   00000072   E040               LDI     R20, 0
   \   00000074   01FC               MOVW    R31:R30, R25:R24
   \   00000076   0FEA               ADD     R30, R26
   \   00000078   1FFB               ADC     R31, R27
   \   0000007A   8104               LDD     R16, Z+4
   \   0000007C   E010               LDI     R17, 0
   \   0000007E   2B40               OR      R20, R16
   \   00000080   2B51               OR      R21, R17
   \   00000082   01F2               MOVW    R31:R30, R5:R4
   \   00000084   8926               LDD     R18, Z+22
   \   00000086   8937               LDD     R19, Z+23
   \   00000088   0183               MOVW    R17:R16, R7:R6
   \   0000008A   0F00               LSL     R16
   \   0000008C   1F11               ROL     R17
   \   0000008E   0F20               ADD     R18, R16
   \   00000090   1F31               ADC     R19, R17
   \   00000092   01F9               MOVW    R31:R30, R19:R18
   \   00000094   8340               ST      Z, R20
   \   00000096   8351               STD     Z+1, R21
    391                  memcpy(puiResponse, puiRequest, uiLength);
   \   00000098   01A4               MOVW    R21:R20, R9:R8
   \   0000009A   019C               MOVW    R19:R18, R25:R24
   \   0000009C   0185               MOVW    R17:R16, R11:R10
   \   0000009E   ........           CALL    memcpy
    392              }
    393              return uiLength;
   \                     ??WriteSingleRegister_2:
   \   000000A2   0184               MOVW    R17:R16, R9:R8
   \   000000A4   E0EE               LDI     R30, 14
   \   000000A6   ........           JMP     ?EPILOGUE_B14_L09
    394          }
    395          
    396          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    397          int16_t CModbus::WriteMultipleCoils(uint8_t *puiRequest, uint8_t *puiResponse, uint16_t uiLength)
   \                     ??WriteMultipleCoils:
    398          {
   \   00000000   ........           CALL    ?PROLOGUE16_L09
   \   00000004                      REQUIRE ?Register_R4_is_cg_reg
   \   00000004                      REQUIRE ?Register_R5_is_cg_reg
   \   00000004                      REQUIRE ?Register_R6_is_cg_reg
   \   00000004                      REQUIRE ?Register_R7_is_cg_reg
   \   00000004                      REQUIRE ?Register_R8_is_cg_reg
   \   00000004                      REQUIRE ?Register_R9_is_cg_reg
   \   00000004                      REQUIRE ?Register_R10_is_cg_reg
   \   00000004                      REQUIRE ?Register_R11_is_cg_reg
   \   00000004                      REQUIRE ?Register_R12_is_cg_reg
   \   00000004                      REQUIRE ?Register_R13_is_cg_reg
   \   00000004                      REQUIRE ?Register_R14_is_cg_reg
   \   00000004                      REQUIRE ?Register_R15_is_cg_reg
   \   00000004   0128               MOVW    R5:R4, R17:R16
   \   00000006   0139               MOVW    R7:R6, R19:R18
   \   00000008   016A               MOVW    R13:R12, R21:R20
   \   0000000A   01CB               MOVW    R25:R24, R23:R22
    399              uint16_t uiOffset = HEADER_LENGTH();
   \   0000000C   0182               MOVW    R17:R16, R5:R4
   \   0000000E   01F2               MOVW    R31:R30, R5:R4
   \   00000010   8121               LDD     R18, Z+1
   \   00000012   8132               LDD     R19, Z+2
   \   00000014   01F9               MOVW    R31:R30, R19:R18
   \   00000016   963E               ADIW    R31:R30, 14
   \   00000018   9125               LPM     R18, Z+
   \   0000001A   9134               LPM     R19, Z
   \   0000001C   973F               SBIW    R31:R30, 15
   \   0000001E   01F9               MOVW    R31:R30, R19:R18
   \   00000020   9509               ICALL
   \   00000022   0148               MOVW    R9:R8, R17:R16
    400              int8_t uiSlave = puiRequest[uiOffset - 1];
   \   00000024   01F3               MOVW    R31:R30, R7:R6
   \   00000026   0DE8               ADD     R30, R8
   \   00000028   1DF9               ADC     R31, R9
   \   0000002A   9731               SBIW    R31:R30, 1
   \   0000002C   80F0               LD      R15, Z
    401              int8_t uiFunctionCode = puiRequest[uiOffset];
   \   0000002E   01F3               MOVW    R31:R30, R7:R6
   \   00000030   0DE8               ADD     R30, R8
   \   00000032   1DF9               ADC     R31, R9
   \   00000034   80E0               LD      R14, Z
    402              uint16_t uiAddress = ((static_cast<uint16_t>(puiRequest[uiOffset + 1]) << 8) |
    403                                    (static_cast<uint16_t>(puiRequest[uiOffset + 2])));
   \   00000036   01F3               MOVW    R31:R30, R7:R6
   \   00000038   0DE8               ADD     R30, R8
   \   0000003A   1DF9               ADC     R31, R9
   \   0000003C   80B1               LDD     R11, Z+1
   \   0000003E   24AA               CLR     R10
   \   00000040   01F3               MOVW    R31:R30, R7:R6
   \   00000042   0DE8               ADD     R30, R8
   \   00000044   1DF9               ADC     R31, R9
   \   00000046   8102               LDD     R16, Z+2
   \   00000048   E010               LDI     R17, 0
   \   0000004A   2AA0               OR      R10, R16
   \   0000004C   2AB1               OR      R11, R17
    404          
    405              uint16_t uiNumberB = ((static_cast<uint16_t>(puiRequest[uiOffset + 3]) << 8) |
    406                                    (static_cast<uint16_t>(puiRequest[uiOffset + 4])));
   \   0000004E   01F3               MOVW    R31:R30, R7:R6
   \   00000050   0DE8               ADD     R30, R8
   \   00000052   1DF9               ADC     R31, R9
   \   00000054   81B3               LDD     R27, Z+3
   \   00000056   E0A0               LDI     R26, 0
   \   00000058   01F3               MOVW    R31:R30, R7:R6
   \   0000005A   0DE8               ADD     R30, R8
   \   0000005C   1DF9               ADC     R31, R9
   \   0000005E   8104               LDD     R16, Z+4
   \   00000060   E010               LDI     R17, 0
   \   00000062   2BA0               OR      R26, R16
   \   00000064   2BB1               OR      R27, R17
    407          
    408              if (uiNumberB < 1 || MODBUS_MAX_WRITE_BITS < uiNumberB)
   \   00000066   2F0A               MOV     R16, R26
   \   00000068   2B0B               OR      R16, R27
   \   0000006A   F021               BREQ    ??WriteMultipleCoils_1
   \   0000006C   3BA1               CPI     R26, 177
   \   0000006E   E007               LDI     R16, 7
   \   00000070   07B0               CPC     R27, R16
   \   00000072   F040               BRCS    ??WriteMultipleCoils_2
    409              {
    410                  uiLength = ResponseException(uiSlave,
    411                                               uiFunctionCode,
    412                                               MODBUS_EXCEPTION_ILLEGAL_DATA_VALUE,
    413                                               puiResponse);
   \                     ??WriteMultipleCoils_1:
   \   00000074   01B6               MOVW    R23:R22, R13:R12
   \   00000076   E043               LDI     R20, 3
   \   00000078   2D3E               MOV     R19, R14
   \   0000007A   2D2F               MOV     R18, R15
   \   0000007C   0182               MOVW    R17:R16, R5:R4
   \   0000007E   ....               RCALL   ??ResponseException
   \   00000080   01C8               MOVW    R25:R24, R17:R16
   \   00000082   C034               RJMP    ??WriteMultipleCoils_3
    414              }
    415              else if ((uiAddress + uiNumberB) > m_uiCoilsNumber)
   \                     ??WriteMultipleCoils_2:
   \   00000084   01F2               MOVW    R31:R30, R5:R4
   \   00000086   8D02               LDD     R16, Z+26
   \   00000088   8D13               LDD     R17, Z+27
   \   0000008A   0195               MOVW    R19:R18, R11:R10
   \   0000008C   0F2A               ADD     R18, R26
   \   0000008E   1F3B               ADC     R19, R27
   \   00000090   1702               CP      R16, R18
   \   00000092   0713               CPC     R17, R19
   \   00000094   F440               BRCC    ??WriteMultipleCoils_4
    416              {
    417                  uiLength = ResponseException(uiSlave,
    418                                               uiFunctionCode,
    419                                               MODBUS_EXCEPTION_ILLEGAL_DATA_ADDRESS,
    420                                               puiResponse);
   \   00000096   01B6               MOVW    R23:R22, R13:R12
   \   00000098   E042               LDI     R20, 2
   \   0000009A   2D3E               MOV     R19, R14
   \   0000009C   2D2F               MOV     R18, R15
   \   0000009E   0182               MOVW    R17:R16, R5:R4
   \   000000A0   ....               RCALL   ??ResponseException
   \   000000A2   01C8               MOVW    R25:R24, R17:R16
   \   000000A4   C023               RJMP    ??WriteMultipleCoils_3
    421              }
    422              else
    423              {
    424          
    425          
    426                  CPss21::ModbusDeviceControl(&puiRequest[uiOffset + 6], uiNumberB, uiAddress);
   \                     ??WriteMultipleCoils_4:
   \   000000A6   01A5               MOVW    R21:R20, R11:R10
   \   000000A8   019D               MOVW    R19:R18, R27:R26
   \   000000AA   0183               MOVW    R17:R16, R7:R6
   \   000000AC   0D08               ADD     R16, R8
   \   000000AE   1D19               ADC     R17, R9
   \   000000B0   5F0A               SUBI    R16, 250
   \   000000B2   4F1F               SBCI    R17, 255
   \   000000B4   ........           CALL    ??ModbusDeviceControl_1
    427          //        SetBytesFromBits(m_puiCoils, uiAddress, uiNumberB, &puiRequest[uiOffset + 6]);
    428          
    429                  uiLength = ResponseBasis(uiSlave, uiFunctionCode, puiResponse);
   \   000000B8   01A6               MOVW    R21:R20, R13:R12
   \   000000BA   2D3E               MOV     R19, R14
   \   000000BC   2D2F               MOV     R18, R15
   \   000000BE   0182               MOVW    R17:R16, R5:R4
   \   000000C0   01F2               MOVW    R31:R30, R5:R4
   \   000000C2   8161               LDD     R22, Z+1
   \   000000C4   8172               LDD     R23, Z+2
   \   000000C6   01FB               MOVW    R31:R30, R23:R22
   \   000000C8   963A               ADIW    R31:R30, 10
   \   000000CA   9165               LPM     R22, Z+
   \   000000CC   9174               LPM     R23, Z
   \   000000CE   973B               SBIW    R31:R30, 11
   \   000000D0   01FB               MOVW    R31:R30, R23:R22
   \   000000D2   9509               ICALL
   \   000000D4   01C8               MOVW    R25:R24, R17:R16
    430                  /* 4 to copy the bit address (2) and the quantity of bits */
    431                  memcpy(puiResponse + uiLength, puiRequest + uiLength, 4);
   \   000000D6   E044               LDI     R20, 4
   \   000000D8   E050               LDI     R21, 0
   \   000000DA   0193               MOVW    R19:R18, R7:R6
   \   000000DC   0F28               ADD     R18, R24
   \   000000DE   1F39               ADC     R19, R25
   \   000000E0   0186               MOVW    R17:R16, R13:R12
   \   000000E2   0F08               ADD     R16, R24
   \   000000E4   1F19               ADC     R17, R25
   \   000000E6   ........           CALL    memcpy
    432                  uiLength += 4;
   \   000000EA   9604               ADIW    R25:R24, 4
    433              }
    434              return uiLength;
   \                     ??WriteMultipleCoils_3:
   \   000000EC   018C               MOVW    R17:R16, R25:R24
   \   000000EE   E1E0               LDI     R30, 16
   \   000000F0   ........           JMP     ?EPILOGUE_B16_L09
    435          }
    436          
    437          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    438          int16_t CModbus::WriteMultipleRegisters(uint8_t *puiRequest, uint8_t *puiResponse, uint16_t uiLength)
   \                     ??WriteMultipleRegisters:
    439          {
   \   00000000   ........           CALL    ?PROLOGUE16_L09
   \   00000004                      REQUIRE ?Register_R4_is_cg_reg
   \   00000004                      REQUIRE ?Register_R5_is_cg_reg
   \   00000004                      REQUIRE ?Register_R6_is_cg_reg
   \   00000004                      REQUIRE ?Register_R7_is_cg_reg
   \   00000004                      REQUIRE ?Register_R8_is_cg_reg
   \   00000004                      REQUIRE ?Register_R9_is_cg_reg
   \   00000004                      REQUIRE ?Register_R10_is_cg_reg
   \   00000004                      REQUIRE ?Register_R11_is_cg_reg
   \   00000004                      REQUIRE ?Register_R12_is_cg_reg
   \   00000004                      REQUIRE ?Register_R13_is_cg_reg
   \   00000004                      REQUIRE ?Register_R14_is_cg_reg
   \   00000004                      REQUIRE ?Register_R15_is_cg_reg
   \   00000004   0148               MOVW    R9:R8, R17:R16
   \   00000006   0129               MOVW    R5:R4, R19:R18
   \   00000008   016A               MOVW    R13:R12, R21:R20
   \   0000000A   013B               MOVW    R7:R6, R23:R22
    440              uint16_t uiOffset = HEADER_LENGTH();
   \   0000000C   0184               MOVW    R17:R16, R9:R8
   \   0000000E   01F4               MOVW    R31:R30, R9:R8
   \   00000010   8121               LDD     R18, Z+1
   \   00000012   8132               LDD     R19, Z+2
   \   00000014   01F9               MOVW    R31:R30, R19:R18
   \   00000016   963E               ADIW    R31:R30, 14
   \   00000018   9125               LPM     R18, Z+
   \   0000001A   9134               LPM     R19, Z
   \   0000001C   973F               SBIW    R31:R30, 15
   \   0000001E   01F9               MOVW    R31:R30, R19:R18
   \   00000020   9509               ICALL
   \   00000022   01C8               MOVW    R25:R24, R17:R16
    441              int8_t uiSlave = puiRequest[uiOffset - 1];
   \   00000024   01F2               MOVW    R31:R30, R5:R4
   \   00000026   0FE8               ADD     R30, R24
   \   00000028   1FF9               ADC     R31, R25
   \   0000002A   9731               SBIW    R31:R30, 1
   \   0000002C   80F0               LD      R15, Z
    442              int8_t uiFunctionCode = puiRequest[uiOffset];
   \   0000002E   01F2               MOVW    R31:R30, R5:R4
   \   00000030   0FE8               ADD     R30, R24
   \   00000032   1FF9               ADC     R31, R25
   \   00000034   80E0               LD      R14, Z
    443              uint16_t uiAddress = ((static_cast<uint16_t>(puiRequest[uiOffset + 1]) << 8) |
    444                                    (static_cast<uint16_t>(puiRequest[uiOffset + 2])));
   \   00000036   01F2               MOVW    R31:R30, R5:R4
   \   00000038   0FE8               ADD     R30, R24
   \   0000003A   1FF9               ADC     R31, R25
   \   0000003C   81B1               LDD     R27, Z+1
   \   0000003E   E0A0               LDI     R26, 0
   \   00000040   01F2               MOVW    R31:R30, R5:R4
   \   00000042   0FE8               ADD     R30, R24
   \   00000044   1FF9               ADC     R31, R25
   \   00000046   8102               LDD     R16, Z+2
   \   00000048   E010               LDI     R17, 0
   \   0000004A   2BA0               OR      R26, R16
   \   0000004C   2BB1               OR      R27, R17
    445          
    446              uint16_t uiNumberB = ((static_cast<uint16_t>(puiRequest[uiOffset + 3]) << 8) |
    447                                    (static_cast<uint16_t>(puiRequest[uiOffset + 4])));
   \   0000004E   01F2               MOVW    R31:R30, R5:R4
   \   00000050   0FE8               ADD     R30, R24
   \   00000052   1FF9               ADC     R31, R25
   \   00000054   80B3               LDD     R11, Z+3
   \   00000056   24AA               CLR     R10
   \   00000058   01F2               MOVW    R31:R30, R5:R4
   \   0000005A   0FE8               ADD     R30, R24
   \   0000005C   1FF9               ADC     R31, R25
   \   0000005E   8104               LDD     R16, Z+4
   \   00000060   E010               LDI     R17, 0
   \   00000062   2AA0               OR      R10, R16
   \   00000064   2AB1               OR      R11, R17
    448          
    449              if (uiNumberB < 1 || MODBUS_MAX_WRITE_REGISTERS < uiNumberB)
   \   00000066   2D0A               MOV     R16, R10
   \   00000068   290B               OR      R16, R11
   \   0000006A   F029               BREQ    ??WriteMultipleRegisters_1
   \   0000006C   E70C               LDI     R16, 124
   \   0000006E   16A0               CP      R10, R16
   \   00000070   E000               LDI     R16, 0
   \   00000072   06B0               CPC     R11, R16
   \   00000074   F040               BRCS    ??WriteMultipleRegisters_2
    450              {
    451                  uiLength = ResponseException(uiSlave,
    452                                               uiFunctionCode,
    453                                               MODBUS_EXCEPTION_ILLEGAL_DATA_VALUE,
    454                                               puiResponse);
   \                     ??WriteMultipleRegisters_1:
   \   00000076   01B6               MOVW    R23:R22, R13:R12
   \   00000078   E043               LDI     R20, 3
   \   0000007A   2D3E               MOV     R19, R14
   \   0000007C   2D2F               MOV     R18, R15
   \   0000007E   0184               MOVW    R17:R16, R9:R8
   \   00000080   ....               RCALL   ??ResponseException
   \   00000082   0138               MOVW    R7:R6, R17:R16
   \   00000084   C04F               RJMP    ??WriteMultipleRegisters_3
    455              }
    456              else if ((uiAddress + uiNumberB) > m_uiHoldingRegistersNumber)
   \                     ??WriteMultipleRegisters_2:
   \   00000086   01F4               MOVW    R31:R30, R9:R8
   \   00000088   8D06               LDD     R16, Z+30
   \   0000008A   8D17               LDD     R17, Z+31
   \   0000008C   019D               MOVW    R19:R18, R27:R26
   \   0000008E   0D2A               ADD     R18, R10
   \   00000090   1D3B               ADC     R19, R11
   \   00000092   1702               CP      R16, R18
   \   00000094   0713               CPC     R17, R19
   \   00000096   F440               BRCC    ??WriteMultipleRegisters_4
    457              {
    458                  uiLength = ResponseException(uiSlave,
    459                                               uiFunctionCode,
    460                                               MODBUS_EXCEPTION_ILLEGAL_DATA_ADDRESS,
    461                                               puiResponse);
   \   00000098   01B6               MOVW    R23:R22, R13:R12
   \   0000009A   E042               LDI     R20, 2
   \   0000009C   2D3E               MOV     R19, R14
   \   0000009E   2D2F               MOV     R18, R15
   \   000000A0   0184               MOVW    R17:R16, R9:R8
   \   000000A2   ....               RCALL   ??ResponseException
   \   000000A4   0138               MOVW    R7:R6, R17:R16
   \   000000A6   C03E               RJMP    ??WriteMultipleRegisters_3
    462              }
    463              else
    464              {
    465                  for (uint16_t i = 0; i < uiNumberB; i++)
   \                     ??WriteMultipleRegisters_4:
   \   000000A8   E020               LDI     R18, 0
   \   000000AA   E030               LDI     R19, 0
   \                     ??WriteMultipleRegisters_5:
   \   000000AC   152A               CP      R18, R10
   \   000000AE   053B               CPC     R19, R11
   \   000000B0   F4E0               BRCC    ??WriteMultipleRegisters_6
    466                  {
    467                      m_pui16HoldingRegisters[uiAddress++] = ((static_cast<uint16_t>(puiRequest[uiOffset + 6]) << 8) |
    468                                                              (static_cast<uint16_t>(puiRequest[uiOffset + 6 + 1])));
   \   000000B2   01F2               MOVW    R31:R30, R5:R4
   \   000000B4   0FE8               ADD     R30, R24
   \   000000B6   1FF9               ADC     R31, R25
   \   000000B8   8156               LDD     R21, Z+6
   \   000000BA   E040               LDI     R20, 0
   \   000000BC   01F2               MOVW    R31:R30, R5:R4
   \   000000BE   0FE8               ADD     R30, R24
   \   000000C0   1FF9               ADC     R31, R25
   \   000000C2   8107               LDD     R16, Z+7
   \   000000C4   E010               LDI     R17, 0
   \   000000C6   2B40               OR      R20, R16
   \   000000C8   2B51               OR      R21, R17
   \   000000CA   01F4               MOVW    R31:R30, R9:R8
   \   000000CC   8966               LDD     R22, Z+22
   \   000000CE   8977               LDD     R23, Z+23
   \   000000D0   018D               MOVW    R17:R16, R27:R26
   \   000000D2   0F00               LSL     R16
   \   000000D4   1F11               ROL     R17
   \   000000D6   0F60               ADD     R22, R16
   \   000000D8   1F71               ADC     R23, R17
   \   000000DA   01FB               MOVW    R31:R30, R23:R22
   \   000000DC   8340               ST      Z, R20
   \   000000DE   8351               STD     Z+1, R21
   \   000000E0   9611               ADIW    R27:R26, 1
    469                      uiOffset += 2;
   \   000000E2   9602               ADIW    R25:R24, 2
    470                  }
   \   000000E4   5F2F               SUBI    R18, 255
   \   000000E6   4F3F               SBCI    R19, 255
   \   000000E8   CFE1               RJMP    ??WriteMultipleRegisters_5
    471          
    472                  uiLength = ResponseBasis(uiSlave, uiFunctionCode, puiResponse);
   \                     ??WriteMultipleRegisters_6:
   \   000000EA   01A6               MOVW    R21:R20, R13:R12
   \   000000EC   2D3E               MOV     R19, R14
   \   000000EE   2D2F               MOV     R18, R15
   \   000000F0   0184               MOVW    R17:R16, R9:R8
   \   000000F2   01F4               MOVW    R31:R30, R9:R8
   \   000000F4   8161               LDD     R22, Z+1
   \   000000F6   8172               LDD     R23, Z+2
   \   000000F8   01FB               MOVW    R31:R30, R23:R22
   \   000000FA   963A               ADIW    R31:R30, 10
   \   000000FC   9165               LPM     R22, Z+
   \   000000FE   9174               LPM     R23, Z
   \   00000100   973B               SBIW    R31:R30, 11
   \   00000102   01FB               MOVW    R31:R30, R23:R22
   \   00000104   9509               ICALL
   \   00000106   0138               MOVW    R7:R6, R17:R16
    473                  /* 4 to copy the bit address (2) and the quantity of bits */
    474                  memcpy(puiResponse + uiLength, puiRequest + uiLength, 4);
   \   00000108   E044               LDI     R20, 4
   \   0000010A   E050               LDI     R21, 0
   \   0000010C   0192               MOVW    R19:R18, R5:R4
   \   0000010E   0D26               ADD     R18, R6
   \   00000110   1D37               ADC     R19, R7
   \   00000112   0186               MOVW    R17:R16, R13:R12
   \   00000114   0D06               ADD     R16, R6
   \   00000116   1D17               ADC     R17, R7
   \   00000118   ........           CALL    memcpy
    475                  uiLength += 4;
   \   0000011C   E004               LDI     R16, 4
   \   0000011E   0E60               ADD     R6, R16
   \   00000120   E000               LDI     R16, 0
   \   00000122   1E70               ADC     R7, R16
    476          
    477              }
    478              return uiLength;
   \                     ??WriteMultipleRegisters_3:
   \   00000124   0183               MOVW    R17:R16, R7:R6
   \   00000126   E1E0               LDI     R30, 16
   \   00000128   ........           JMP     ?EPILOGUE_B16_L09
    479          }
    480          
    481          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    482          int16_t CModbus::ReadExceptionStatus(uint8_t *puiRequest, uint8_t *puiResponse, uint16_t uiLength)
   \                     ??ReadExceptionStatus:
    483          {
   \   00000000   0108               MOVW    R1:R0, R17:R16
    484          //    errno = ENOPROTOOPT;
    485              return -1;
   \   00000002   EF0F               LDI     R16, 255
   \   00000004   EF1F               LDI     R17, 255
   \   00000006   9508               RET
    486          }
    487          
    488          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    489          int16_t CModbus::WriteAndReadRegisters(uint8_t *puiRequest, uint8_t *puiResponse, uint16_t uiLength)
   \                     ??WriteAndReadRegisters:
    490          {
   \   00000000   0108               MOVW    R1:R0, R17:R16
    491          
    492              return 0;
   \   00000002   E000               LDI     R16, 0
   \   00000004   E010               LDI     R17, 0
   \   00000006   9508               RET
    493          }
    494          
    495          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    496          int16_t CModbus::ReportSlaveID(uint8_t *puiRequest, uint8_t *puiResponse, uint16_t uiLength)
   \                     ??ReportSlaveID:
    497          {
   \   00000000   ........           CALL    ?PROLOGUE12_L09
   \   00000004                      REQUIRE ?Register_R4_is_cg_reg
   \   00000004                      REQUIRE ?Register_R5_is_cg_reg
   \   00000004                      REQUIRE ?Register_R6_is_cg_reg
   \   00000004                      REQUIRE ?Register_R7_is_cg_reg
   \   00000004                      REQUIRE ?Register_R8_is_cg_reg
   \   00000004                      REQUIRE ?Register_R9_is_cg_reg
   \   00000004                      REQUIRE ?Register_R10_is_cg_reg
   \   00000004                      REQUIRE ?Register_R11_is_cg_reg
   \   00000004   0128               MOVW    R5:R4, R17:R16
   \   00000006   0149               MOVW    R9:R8, R19:R18
   \   00000008   01DA               MOVW    R27:R26, R21:R20
   \   0000000A   01CB               MOVW    R25:R24, R23:R22
    498              uint16_t uiOffset = HEADER_LENGTH();
   \   0000000C   0182               MOVW    R17:R16, R5:R4
   \   0000000E   01F2               MOVW    R31:R30, R5:R4
   \   00000010   8121               LDD     R18, Z+1
   \   00000012   8132               LDD     R19, Z+2
   \   00000014   01F9               MOVW    R31:R30, R19:R18
   \   00000016   963E               ADIW    R31:R30, 14
   \   00000018   9125               LPM     R18, Z+
   \   0000001A   9134               LPM     R19, Z
   \   0000001C   973F               SBIW    R31:R30, 15
   \   0000001E   01F9               MOVW    R31:R30, R19:R18
   \   00000020   9509               ICALL
   \   00000022   0138               MOVW    R7:R6, R17:R16
    499              int8_t uiSlave = puiRequest[uiOffset - 1];
   \   00000024   01F4               MOVW    R31:R30, R9:R8
   \   00000026   0DE6               ADD     R30, R6
   \   00000028   1DF7               ADC     R31, R7
   \   0000002A   9731               SBIW    R31:R30, 1
   \   0000002C   80B0               LD      R11, Z
    500              int8_t uiFunctionCode = puiRequest[uiOffset];
   \   0000002E   01F4               MOVW    R31:R30, R9:R8
   \   00000030   0DE6               ADD     R30, R6
   \   00000032   1DF7               ADC     R31, R7
   \   00000034   80A0               LD      R10, Z
    501          
    502              uiLength = ResponseBasis(uiSlave, uiFunctionCode, puiResponse);
   \   00000036   01AD               MOVW    R21:R20, R27:R26
   \   00000038   2D3A               MOV     R19, R10
   \   0000003A   2D2B               MOV     R18, R11
   \   0000003C   0182               MOVW    R17:R16, R5:R4
   \   0000003E   01F2               MOVW    R31:R30, R5:R4
   \   00000040   8161               LDD     R22, Z+1
   \   00000042   8172               LDD     R23, Z+2
   \   00000044   01FB               MOVW    R31:R30, R23:R22
   \   00000046   963A               ADIW    R31:R30, 10
   \   00000048   9165               LPM     R22, Z+
   \   0000004A   9174               LPM     R23, Z
   \   0000004C   973B               SBIW    R31:R30, 11
   \   0000004E   01FB               MOVW    R31:R30, R23:R22
   \   00000050   9509               ICALL
   \   00000052   01C8               MOVW    R25:R24, R17:R16
    503              puiResponse[uiLength++] = 3;			//   
   \   00000054   01FD               MOVW    R31:R30, R27:R26
   \   00000056   0FE8               ADD     R30, R24
   \   00000058   1FF9               ADC     R31, R25
   \   0000005A   E003               LDI     R16, 3
   \   0000005C   8300               ST      Z, R16
   \   0000005E   9601               ADIW    R25:R24, 1
    504              puiResponse[uiLength++] = 32;			//   
   \   00000060   01FD               MOVW    R31:R30, R27:R26
   \   00000062   0FE8               ADD     R30, R24
   \   00000064   1FF9               ADC     R31, R25
   \   00000066   E200               LDI     R16, 32
   \   00000068   8300               ST      Z, R16
   \   0000006A   9601               ADIW    R25:R24, 1
    505              puiResponse[uiLength++] = 7;			//  
   \   0000006C   01FD               MOVW    R31:R30, R27:R26
   \   0000006E   0FE8               ADD     R30, R24
   \   00000070   1FF9               ADC     R31, R25
   \   00000072   E007               LDI     R16, 7
   \   00000074   8300               ST      Z, R16
   \   00000076   9601               ADIW    R25:R24, 1
    506              puiResponse[uiLength++] = 50;			//  
   \   00000078   01FD               MOVW    R31:R30, R27:R26
   \   0000007A   0FE8               ADD     R30, R24
   \   0000007C   1FF9               ADC     R31, R25
   \   0000007E   E302               LDI     R16, 50
   \   00000080   8300               ST      Z, R16
   \   00000082   9601               ADIW    R25:R24, 1
    507          
    508              return uiLength;
   \   00000084   018C               MOVW    R17:R16, R25:R24
   \   00000086   E0EC               LDI     R30, 12
   \   00000088   ........           JMP     ?EPILOGUE_B12_L09
    509          }
    510          
    511          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    512          int16_t CModbus::Programming(uint8_t *puiRequest, uint8_t *puiResponse, uint16_t uiLength)
   \                     ??Programming:
    513          {
   \   00000000   ........           CALL    ?PROLOGUE16_L09
   \   00000004                      REQUIRE ?Register_R4_is_cg_reg
   \   00000004                      REQUIRE ?Register_R5_is_cg_reg
   \   00000004                      REQUIRE ?Register_R6_is_cg_reg
   \   00000004                      REQUIRE ?Register_R7_is_cg_reg
   \   00000004                      REQUIRE ?Register_R8_is_cg_reg
   \   00000004                      REQUIRE ?Register_R9_is_cg_reg
   \   00000004                      REQUIRE ?Register_R10_is_cg_reg
   \   00000004                      REQUIRE ?Register_R11_is_cg_reg
   \   00000004                      REQUIRE ?Register_R12_is_cg_reg
   \   00000004                      REQUIRE ?Register_R14_is_cg_reg
   \   00000004                      REQUIRE ?Register_R15_is_cg_reg
   \   00000004   0138               MOVW    R7:R6, R17:R16
   \   00000006   0149               MOVW    R9:R8, R19:R18
   \   00000008   01DA               MOVW    R27:R26, R21:R20
   \   0000000A   01CB               MOVW    R25:R24, R23:R22
    514          //  0x46 "".   :
    515          // Buff[0] -  Slave.
    516          // Buff[1] -  .
    517          // Buff[2] -       .
    518          // Buff[3] -       .
    519          // Buff[4] -  (0 -   , 1 -  , 2 -  ).
    520          // Buff[5] -   .
    521          
    522              //    .
    523              enum
    524              {
    525                  REQUEST_LENGTH = 2,
    526                  REQUEST_COMMAND = 3,
    527                  BLOCK_NUMBER = 4,
    528                  DATA_BEGIN = 5,
    529              };
    530          
    531              uint16_t uiOffset = HEADER_LENGTH();
   \   0000000C   0183               MOVW    R17:R16, R7:R6
   \   0000000E   01F3               MOVW    R31:R30, R7:R6
   \   00000010   8121               LDD     R18, Z+1
   \   00000012   8132               LDD     R19, Z+2
   \   00000014   01F9               MOVW    R31:R30, R19:R18
   \   00000016   963E               ADIW    R31:R30, 14
   \   00000018   9125               LPM     R18, Z+
   \   0000001A   9134               LPM     R19, Z
   \   0000001C   973F               SBIW    R31:R30, 15
   \   0000001E   01F9               MOVW    R31:R30, R19:R18
   \   00000020   9509               ICALL
   \   00000022   0128               MOVW    R5:R4, R17:R16
    532              int8_t uiSlave = puiRequest[uiOffset - 1];
   \   00000024   01F4               MOVW    R31:R30, R9:R8
   \   00000026   0DE4               ADD     R30, R4
   \   00000028   1DF5               ADC     R31, R5
   \   0000002A   9731               SBIW    R31:R30, 1
   \   0000002C   80B0               LD      R11, Z
    533              int8_t uiFunctionCode = puiRequest[uiOffset];
   \   0000002E   01F4               MOVW    R31:R30, R9:R8
   \   00000030   0DE4               ADD     R30, R4
   \   00000032   1DF5               ADC     R31, R5
   \   00000034   80A0               LD      R10, Z
    534          
    535              uint16_t uiNumberB = (static_cast<uint16_t>(puiRequest[uiOffset + REQUEST_LENGTH]));
   \   00000036   01F4               MOVW    R31:R30, R9:R8
   \   00000038   0DE4               ADD     R30, R4
   \   0000003A   1DF5               ADC     R31, R5
   \   0000003C   80E2               LDD     R14, Z+2
   \   0000003E   24FF               CLR     R15
    536          
    537              if (uiNumberB != (uiLength - 6))
   \   00000040   018C               MOVW    R17:R16, R25:R24
   \   00000042   5006               SUBI    R16, 6
   \   00000044   4010               SBCI    R17, 0
   \   00000046   16E0               CP      R14, R16
   \   00000048   06F1               CPC     R15, R17
   \   0000004A   F041               BREQ    ??Programming_1
    538              {
    539                  uiLength = ResponseException(uiSlave,
    540                                               uiFunctionCode,
    541                                               MODBUS_EXCEPTION_ILLEGAL_DATA_ADDRESS,
    542                                               puiResponse);
   \   0000004C   01BD               MOVW    R23:R22, R27:R26
   \   0000004E   E042               LDI     R20, 2
   \   00000050   2D3A               MOV     R19, R10
   \   00000052   2D2B               MOV     R18, R11
   \   00000054   0183               MOVW    R17:R16, R7:R6
   \   00000056   ....               RCALL   ??ResponseException
   \   00000058   01C8               MOVW    R25:R24, R17:R16
   \   0000005A   C12C               RJMP    ??Programming_2
    543              }
    544              else
    545              {
    546                  uint8_t uiBlockNumber;
    547                  uiLength = ResponseBasis(uiSlave, uiFunctionCode, puiResponse);
   \                     ??Programming_1:
   \   0000005C   01AD               MOVW    R21:R20, R27:R26
   \   0000005E   2D3A               MOV     R19, R10
   \   00000060   2D2B               MOV     R18, R11
   \   00000062   0183               MOVW    R17:R16, R7:R6
   \   00000064   01F3               MOVW    R31:R30, R7:R6
   \   00000066   8161               LDD     R22, Z+1
   \   00000068   8172               LDD     R23, Z+2
   \   0000006A   01FB               MOVW    R31:R30, R23:R22
   \   0000006C   963A               ADIW    R31:R30, 10
   \   0000006E   9165               LPM     R22, Z+
   \   00000070   9174               LPM     R23, Z
   \   00000072   973B               SBIW    R31:R30, 11
   \   00000074   01FB               MOVW    R31:R30, R23:R22
   \   00000076   9509               ICALL
   \   00000078   01C8               MOVW    R25:R24, R17:R16
    548                  //   ?
    549                  switch(puiRequest[uiOffset + REQUEST_COMMAND])
   \   0000007A   01F4               MOVW    R31:R30, R9:R8
   \   0000007C   0DE4               ADD     R30, R4
   \   0000007E   1DF5               ADC     R31, R5
   \   00000080   8103               LDD     R16, Z+3
   \   00000082   5000               SUBI    R16, 0
   \   00000084   F049               BREQ    ??Programming_3
   \   00000086   950A               DEC     R16
   \   00000088   F179               BREQ    ??Programming_4
   \   0000008A   950A               DEC     R16
   \   0000008C   F409               BRNE    $+2+2
   \   0000008E   C09D               RJMP    ??Programming_5
   \   00000090   950A               DEC     R16
   \   00000092   F409               BRNE    $+2+2
   \   00000094   C0E0               RJMP    ??Programming_6
   \   00000096   C107               RJMP    ??Programming_7
    550                  {
    551                  case 0x00:
    552                      //   .
    553                      puiResponse[uiLength++] = 0;
   \                     ??Programming_3:
   \   00000098   01FD               MOVW    R31:R30, R27:R26
   \   0000009A   0FE8               ADD     R30, R24
   \   0000009C   1FF9               ADC     R31, R25
   \   0000009E   E000               LDI     R16, 0
   \   000000A0   8300               ST      Z, R16
   \   000000A2   9601               ADIW    R25:R24, 1
    554                      puiResponse[uiLength++] = 4;
   \   000000A4   01FD               MOVW    R31:R30, R27:R26
   \   000000A6   0FE8               ADD     R30, R24
   \   000000A8   1FF9               ADC     R31, R25
   \   000000AA   E004               LDI     R16, 4
   \   000000AC   8300               ST      Z, R16
   \   000000AE   9601               ADIW    R25:R24, 1
    555                      puiResponse[uiLength++] = puiRequest[uiOffset + REQUEST_COMMAND];
   \   000000B0   01F4               MOVW    R31:R30, R9:R8
   \   000000B2   0DE4               ADD     R30, R4
   \   000000B4   1DF5               ADC     R31, R5
   \   000000B6   8103               LDD     R16, Z+3
   \   000000B8   01FD               MOVW    R31:R30, R27:R26
   \   000000BA   0FE8               ADD     R30, R24
   \   000000BC   1FF9               ADC     R31, R25
   \   000000BE   8300               ST      Z, R16
   \   000000C0   9601               ADIW    R25:R24, 1
    556                      puiResponse[uiLength++] = 2; // 1.7.01
   \   000000C2   01FD               MOVW    R31:R30, R27:R26
   \   000000C4   0FE8               ADD     R30, R24
   \   000000C6   1FF9               ADC     R31, R25
   \   000000C8   E002               LDI     R16, 2
   \   000000CA   8300               ST      Z, R16
   \   000000CC   9601               ADIW    R25:R24, 1
    557                      puiResponse[uiLength++] = 0;
   \   000000CE   01FD               MOVW    R31:R30, R27:R26
   \   000000D0   0FE8               ADD     R30, R24
   \   000000D2   1FF9               ADC     R31, R25
   \   000000D4   E000               LDI     R16, 0
   \   000000D6   8300               ST      Z, R16
   \   000000D8   9601               ADIW    R25:R24, 1
    558                      puiResponse[uiLength++] = 0x02;
   \   000000DA   01FD               MOVW    R31:R30, R27:R26
   \   000000DC   0FE8               ADD     R30, R24
   \   000000DE   1FF9               ADC     R31, R25
   \   000000E0   E002               LDI     R16, 2
   \   000000E2   8300               ST      Z, R16
   \   000000E4   9601               ADIW    R25:R24, 1
    559                      break;
   \   000000E6   C0E6               RJMP    ??Programming_2
    560          
    561                  case 0x01:
    562                      //   .
    563                      uiBlockNumber = puiRequest[uiOffset + BLOCK_NUMBER];
   \                     ??Programming_4:
   \   000000E8   01F4               MOVW    R31:R30, R9:R8
   \   000000EA   0DE4               ADD     R30, R4
   \   000000EC   1DF5               ADC     R31, R5
   \   000000EE   8104               LDD     R16, Z+4
   \   000000F0   2EC0               MOV     R12, R16
    564                      //   ?
    565                      if (uiBlockNumber > CDataBase::GetBlocksNumber())
   \   000000F2   ........           CALL    ??GetBlocksNumber
   \   000000F6   150C               CP      R16, R12
   \   000000F8   F440               BRCC    ??Programming_8
    566                      {
    567                          uiLength = ResponseException(uiSlave,
    568                                                       uiFunctionCode,
    569                                                       MODBUS_EXCEPTION_ILLEGAL_DATA_ADDRESS,
    570                                                       puiResponse);
   \   000000FA   01BD               MOVW    R23:R22, R27:R26
   \   000000FC   E042               LDI     R20, 2
   \   000000FE   2D3A               MOV     R19, R10
   \   00000100   2D2B               MOV     R18, R11
   \   00000102   0183               MOVW    R17:R16, R7:R6
   \   00000104   ....               RCALL   ??ResponseException
   \   00000106   01C8               MOVW    R25:R24, R17:R16
   \   00000108   C0D5               RJMP    ??Programming_2
    571                      }
    572                      else
    573                      {
    574                          if (uiBlockNumber == TDataBase::DEV_CONFIG)
   \                     ??Programming_8:
   \   0000010A   20CC               TST     R12
   \   0000010C   F5B9               BRNE    ??Programming_9
    575                          {
    576                              //   .
    577                              uint16_t uiLengthLocal = CDataBase::ReadBlock(&puiResponse[uiOffset + DATA_BEGIN], uiBlockNumber);
   \   0000010E   2D2C               MOV     R18, R12
   \   00000110   018D               MOVW    R17:R16, R27:R26
   \   00000112   0D04               ADD     R16, R4
   \   00000114   1D15               ADC     R17, R5
   \   00000116   5F0B               SUBI    R16, 251
   \   00000118   4F1F               SBCI    R17, 255
   \   0000011A   ........           CALL    ??ReadBlock
    578                              //   .   ,     .
    579                              puiResponse[(uiOffset + DATA_BEGIN)] = CPss21::m_xDeviceConfigSearch.uiDiscreteInputQuantity;
   \   0000011E   9120....           LDS     R18, (??m_xDeviceConfigSearch + 8)
   \   00000122   01FD               MOVW    R31:R30, R27:R26
   \   00000124   0DE4               ADD     R30, R4
   \   00000126   1DF5               ADC     R31, R5
   \   00000128   8325               STD     Z+5, R18
    580                              puiResponse[(uiOffset + DATA_BEGIN) + 1] = CPss21::m_xDeviceConfigSearch.uiDiscreteOutputQuantity;
   \   0000012A   9120....           LDS     R18, (??m_xDeviceConfigSearch + 7)
   \   0000012E   01FD               MOVW    R31:R30, R27:R26
   \   00000130   0DE4               ADD     R30, R4
   \   00000132   1DF5               ADC     R31, R5
   \   00000134   8326               STD     Z+6, R18
    581                              puiResponse[(uiOffset + DATA_BEGIN) + 2] = ALARM_WINDOWS_NUMBER;
   \   00000136   01FD               MOVW    R31:R30, R27:R26
   \   00000138   0DE4               ADD     R30, R4
   \   0000013A   1DF5               ADC     R31, R5
   \   0000013C   E320               LDI     R18, 48
   \   0000013E   8327               STD     Z+7, R18
    582          
    583                              puiResponse[uiLength++] = 0;
   \   00000140   01FD               MOVW    R31:R30, R27:R26
   \   00000142   0FE8               ADD     R30, R24
   \   00000144   1FF9               ADC     R31, R25
   \   00000146   E020               LDI     R18, 0
   \   00000148   8320               ST      Z, R18
   \   0000014A   9601               ADIW    R25:R24, 1
    584                              puiResponse[uiLength++] = uiLengthLocal + 2;
   \   0000014C   2F20               MOV     R18, R16
   \   0000014E   5F2E               SUBI    R18, 254
   \   00000150   01FD               MOVW    R31:R30, R27:R26
   \   00000152   0FE8               ADD     R30, R24
   \   00000154   1FF9               ADC     R31, R25
   \   00000156   8320               ST      Z, R18
   \   00000158   9601               ADIW    R25:R24, 1
    585                              puiResponse[uiLength++] = puiRequest[uiOffset + REQUEST_COMMAND];
   \   0000015A   01F4               MOVW    R31:R30, R9:R8
   \   0000015C   0DE4               ADD     R30, R4
   \   0000015E   1DF5               ADC     R31, R5
   \   00000160   8123               LDD     R18, Z+3
   \   00000162   01FD               MOVW    R31:R30, R27:R26
   \   00000164   0FE8               ADD     R30, R24
   \   00000166   1FF9               ADC     R31, R25
   \   00000168   8320               ST      Z, R18
   \   0000016A   9601               ADIW    R25:R24, 1
    586                              puiResponse[uiLength++] = uiBlockNumber;
   \   0000016C   01FD               MOVW    R31:R30, R27:R26
   \   0000016E   0FE8               ADD     R30, R24
   \   00000170   1FF9               ADC     R31, R25
   \   00000172   82C0               ST      Z, R12
   \   00000174   9601               ADIW    R25:R24, 1
    587                              uiLength += uiLengthLocal;
   \   00000176   0F80               ADD     R24, R16
   \   00000178   1F91               ADC     R25, R17
   \   0000017A   C09C               RJMP    ??Programming_2
    588                          }
    589                          else
    590                          {
    591                              //   .
    592                              uint16_t uiLengthLocal = CDataBase::ReadBlock(&puiResponse[uiOffset + DATA_BEGIN], uiBlockNumber);
   \                     ??Programming_9:
   \   0000017C   2D2C               MOV     R18, R12
   \   0000017E   018D               MOVW    R17:R16, R27:R26
   \   00000180   0D04               ADD     R16, R4
   \   00000182   1D15               ADC     R17, R5
   \   00000184   5F0B               SUBI    R16, 251
   \   00000186   4F1F               SBCI    R17, 255
   \   00000188   ........           CALL    ??ReadBlock
   \   0000018C   0198               MOVW    R19:R18, R17:R16
    593                              puiResponse[uiLength++] = 0;
   \   0000018E   01FD               MOVW    R31:R30, R27:R26
   \   00000190   0FE8               ADD     R30, R24
   \   00000192   1FF9               ADC     R31, R25
   \   00000194   E000               LDI     R16, 0
   \   00000196   8300               ST      Z, R16
   \   00000198   9601               ADIW    R25:R24, 1
    594                              puiResponse[uiLength++] = uiLengthLocal + 2;
   \   0000019A   2F02               MOV     R16, R18
   \   0000019C   5F0E               SUBI    R16, 254
   \   0000019E   01FD               MOVW    R31:R30, R27:R26
   \   000001A0   0FE8               ADD     R30, R24
   \   000001A2   1FF9               ADC     R31, R25
   \   000001A4   8300               ST      Z, R16
   \   000001A6   9601               ADIW    R25:R24, 1
    595                              puiResponse[uiLength++] = puiRequest[uiOffset + REQUEST_COMMAND];
   \   000001A8   01F4               MOVW    R31:R30, R9:R8
   \   000001AA   0DE4               ADD     R30, R4
   \   000001AC   1DF5               ADC     R31, R5
   \   000001AE   8103               LDD     R16, Z+3
   \   000001B0   01FD               MOVW    R31:R30, R27:R26
   \   000001B2   0FE8               ADD     R30, R24
   \   000001B4   1FF9               ADC     R31, R25
   \   000001B6   8300               ST      Z, R16
   \   000001B8   9601               ADIW    R25:R24, 1
    596                              puiResponse[uiLength++] = uiBlockNumber;
   \   000001BA   01FD               MOVW    R31:R30, R27:R26
   \   000001BC   0FE8               ADD     R30, R24
   \   000001BE   1FF9               ADC     R31, R25
   \   000001C0   82C0               ST      Z, R12
   \   000001C2   9601               ADIW    R25:R24, 1
    597                              uiLength += uiLengthLocal;
   \   000001C4   0F82               ADD     R24, R18
   \   000001C6   1F93               ADC     R25, R19
    598                          }
    599                      }
    600                      break;
   \   000001C8   C075               RJMP    ??Programming_2
    601          
    602                  case 0x02:
    603                      //   .
    604                      uiBlockNumber = puiRequest[uiOffset + BLOCK_NUMBER];
   \                     ??Programming_5:
   \   000001CA   01F4               MOVW    R31:R30, R9:R8
   \   000001CC   0DE4               ADD     R30, R4
   \   000001CE   1DF5               ADC     R31, R5
   \   000001D0   8104               LDD     R16, Z+4
   \   000001D2   2EC0               MOV     R12, R16
    605                      //   ?
    606                      if (uiBlockNumber > CDataBase::GetBlocksNumber())
   \   000001D4   ........           CALL    ??GetBlocksNumber
   \   000001D8   150C               CP      R16, R12
   \   000001DA   F440               BRCC    ??Programming_10
    607                      {
    608                          uiLength = ResponseException(uiSlave,
    609                                                       uiFunctionCode,
    610                                                       MODBUS_EXCEPTION_ILLEGAL_DATA_ADDRESS,
    611                                                       puiResponse);
   \   000001DC   01BD               MOVW    R23:R22, R27:R26
   \   000001DE   E042               LDI     R20, 2
   \   000001E0   2D3A               MOV     R19, R10
   \   000001E2   2D2B               MOV     R18, R11
   \   000001E4   0183               MOVW    R17:R16, R7:R6
   \   000001E6   ....               RCALL   ??ResponseException
   \   000001E8   01C8               MOVW    R25:R24, R17:R16
   \   000001EA   C064               RJMP    ??Programming_2
    612                      }
    613                      //    ?
    614                      else if ((puiRequest[uiOffset + REQUEST_LENGTH] - 2) != CDataBase::GetBlockLength(uiBlockNumber))
   \                     ??Programming_10:
   \   000001EC   2D0C               MOV     R16, R12
   \   000001EE   ........           CALL    ??GetBlockLength
   \   000001F2   0198               MOVW    R19:R18, R17:R16
   \   000001F4   01F4               MOVW    R31:R30, R9:R8
   \   000001F6   0DE4               ADD     R30, R4
   \   000001F8   1DF5               ADC     R31, R5
   \   000001FA   8102               LDD     R16, Z+2
   \   000001FC   E010               LDI     R17, 0
   \   000001FE   5002               SUBI    R16, 2
   \   00000200   4010               SBCI    R17, 0
   \   00000202   1702               CP      R16, R18
   \   00000204   0713               CPC     R17, R19
   \   00000206   F041               BREQ    ??Programming_11
    615                      {
    616                          uiLength = ResponseException(uiSlave,
    617                                                       uiFunctionCode,
    618                                                       MODBUS_EXCEPTION_ILLEGAL_DATA_VALUE,
    619                                                       puiResponse);
   \   00000208   01BD               MOVW    R23:R22, R27:R26
   \   0000020A   E043               LDI     R20, 3
   \   0000020C   2D3A               MOV     R19, R10
   \   0000020E   2D2B               MOV     R18, R11
   \   00000210   0183               MOVW    R17:R16, R7:R6
   \   00000212   ....               RCALL   ??ResponseException
   \   00000214   01C8               MOVW    R25:R24, R17:R16
   \   00000216   C04E               RJMP    ??Programming_2
    620                      }
    621                      else
    622                      {
    623                          //   .
    624                          // ?
    625                          if (CDataBase::WriteBlock(&puiRequest[uiOffset + DATA_BEGIN], uiBlockNumber))
   \                     ??Programming_11:
   \   00000218   2D2C               MOV     R18, R12
   \   0000021A   0184               MOVW    R17:R16, R9:R8
   \   0000021C   0D04               ADD     R16, R4
   \   0000021E   1D15               ADC     R17, R5
   \   00000220   5F0B               SUBI    R16, 251
   \   00000222   4F1F               SBCI    R17, 255
   \   00000224   ........           CALL    ??WriteBlock
   \   00000228   2B01               OR      R16, R17
   \   0000022A   F069               BREQ    ??Programming_12
    626                          {
    627                              //         .
    628                              //   .
    629                              CDataBase::SignatureCreate();
   \   0000022C   ........           CALL    ??SignatureCreate
    630                              //        
    631                              //  "PROGRAMMING_TIME + WDTO_2S",    .
    632                              CPss21::SetFsmState(CPss21::PROGRAMMING_START);
   \   00000230   E103               LDI     R16, 19
   \   00000232   ........           CALL    ??SetFsmState_1
    633          
    634                              uiLength = ResponseException(uiSlave,
    635                                                           uiFunctionCode,
    636                                                           MODBUS_EXCEPTION_ACKNOWLEDGE,
    637                                                           puiResponse);
   \   00000236   01BD               MOVW    R23:R22, R27:R26
   \   00000238   E045               LDI     R20, 5
   \   0000023A   2D3A               MOV     R19, R10
   \   0000023C   2D2B               MOV     R18, R11
   \   0000023E   0183               MOVW    R17:R16, R7:R6
   \   00000240   ....               RCALL   ??ResponseException
   \   00000242   01C8               MOVW    R25:R24, R17:R16
   \   00000244   C037               RJMP    ??Programming_2
    638                          }
    639                          else
    640                          {
    641                              uiLength = ResponseException(uiSlave,
    642                                                           uiFunctionCode,
    643                                                           MODBUS_EXCEPTION_NEGATIVE_ACKNOWLEDGE,
    644                                                           puiResponse);
   \                     ??Programming_12:
   \   00000246   01BD               MOVW    R23:R22, R27:R26
   \   00000248   E047               LDI     R20, 7
   \   0000024A   2D3A               MOV     R19, R10
   \   0000024C   2D2B               MOV     R18, R11
   \   0000024E   0183               MOVW    R17:R16, R7:R6
   \   00000250   ....               RCALL   ??ResponseException
   \   00000252   01C8               MOVW    R25:R24, R17:R16
    645                          }
    646                      }
    647                      break;
   \   00000254   C02F               RJMP    ??Programming_2
    648          
    649                  case 0x03:
    650                      if (CDataStore::GetFsmEvent() == CDataStore::WRITE_OK_FSM_EVENT)
   \                     ??Programming_6:
   \   00000256   ........           CALL    ??GetFsmEvent
   \   0000025A   3003               CPI     R16, 3
   \   0000025C   F481               BRNE    ??Programming_13
    651                      {
    652                          uiLength = ResponseBasis(uiSlave, uiFunctionCode, puiResponse);
   \   0000025E   01AD               MOVW    R21:R20, R27:R26
   \   00000260   2D3A               MOV     R19, R10
   \   00000262   2D2B               MOV     R18, R11
   \   00000264   0183               MOVW    R17:R16, R7:R6
   \   00000266   01F3               MOVW    R31:R30, R7:R6
   \   00000268   8161               LDD     R22, Z+1
   \   0000026A   8172               LDD     R23, Z+2
   \   0000026C   01FB               MOVW    R31:R30, R23:R22
   \   0000026E   963A               ADIW    R31:R30, 10
   \   00000270   9165               LPM     R22, Z+
   \   00000272   9174               LPM     R23, Z
   \   00000274   973B               SBIW    R31:R30, 11
   \   00000276   01FB               MOVW    R31:R30, R23:R22
   \   00000278   9509               ICALL
   \   0000027A   01C8               MOVW    R25:R24, R17:R16
   \   0000027C   C01B               RJMP    ??Programming_2
    653                      }
    654                      else if (CDataStore::GetFsmEvent() == CDataStore::WRITE_IN_PROGRESS_FSM_EVENT)
   \                     ??Programming_13:
   \   0000027E   ........           CALL    ??GetFsmEvent
   \   00000282   3001               CPI     R16, 1
   \   00000284   F441               BRNE    ??Programming_14
    655                      {
    656                          uiLength = ResponseException(uiSlave,
    657                                                       uiFunctionCode,
    658                                                       MODBUS_EXCEPTION_SLAVE_OR_SERVER_BUSY,
    659                                                       puiResponse);
   \   00000286   01BD               MOVW    R23:R22, R27:R26
   \   00000288   E046               LDI     R20, 6
   \   0000028A   2D3A               MOV     R19, R10
   \   0000028C   2D2B               MOV     R18, R11
   \   0000028E   0183               MOVW    R17:R16, R7:R6
   \   00000290   ....               RCALL   ??ResponseException
   \   00000292   01C8               MOVW    R25:R24, R17:R16
   \   00000294   C00F               RJMP    ??Programming_2
    660                      }
    661                      else
    662                      {
    663                          uiLength = ResponseException(uiSlave,
    664                                                       uiFunctionCode,
    665                                                       MODBUS_EXCEPTION_ILLEGAL_FUNCTION,
    666                                                       puiResponse);
   \                     ??Programming_14:
   \   00000296   01BD               MOVW    R23:R22, R27:R26
   \   00000298   E041               LDI     R20, 1
   \   0000029A   2D3A               MOV     R19, R10
   \   0000029C   2D2B               MOV     R18, R11
   \   0000029E   0183               MOVW    R17:R16, R7:R6
   \   000002A0   ....               RCALL   ??ResponseException
   \   000002A2   01C8               MOVW    R25:R24, R17:R16
    667                      }
    668                      break;
   \   000002A4   C007               RJMP    ??Programming_2
    669          
    670                  default:
    671                      uiLength = ResponseException(uiSlave,
    672                                                   uiFunctionCode,
    673                                                   MODBUS_EXCEPTION_ILLEGAL_FUNCTION,
    674                                                   puiResponse);
   \                     ??Programming_7:
   \   000002A6   01BD               MOVW    R23:R22, R27:R26
   \   000002A8   E041               LDI     R20, 1
   \   000002AA   2D3A               MOV     R19, R10
   \   000002AC   2D2B               MOV     R18, R11
   \   000002AE   0183               MOVW    R17:R16, R7:R6
   \   000002B0   ....               RCALL   ??ResponseException
   \   000002B2   01C8               MOVW    R25:R24, R17:R16
    675                      break;
    676                  };
    677              }
    678          
    679              return uiLength;
   \                     ??Programming_2:
   \   000002B4   018C               MOVW    R17:R16, R25:R24
   \   000002B6   E1E0               LDI     R30, 16
   \   000002B8   ........           JMP     ?EPILOGUE_B16_L09
    680          }
    681          
    682          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    683          int16_t CModbus::PollProgramming(uint8_t *puiRequest, uint8_t *puiResponse, uint16_t uiLength)
   \                     ??PollProgramming:
    684          
    685          {
   \   00000000   ........           CALL    ?PROLOGUE12_L09
   \   00000004                      REQUIRE ?Register_R4_is_cg_reg
   \   00000004                      REQUIRE ?Register_R5_is_cg_reg
   \   00000004                      REQUIRE ?Register_R6_is_cg_reg
   \   00000004                      REQUIRE ?Register_R7_is_cg_reg
   \   00000004                      REQUIRE ?Register_R8_is_cg_reg
   \   00000004                      REQUIRE ?Register_R9_is_cg_reg
   \   00000004                      REQUIRE ?Register_R10_is_cg_reg
   \   00000004                      REQUIRE ?Register_R11_is_cg_reg
   \   00000004   01D8               MOVW    R27:R26, R17:R16
   \   00000006   0149               MOVW    R9:R8, R19:R18
   \   00000008   012A               MOVW    R5:R4, R21:R20
   \   0000000A   01CB               MOVW    R25:R24, R23:R22
    686              uint16_t uiOffset = HEADER_LENGTH();
   \   0000000C   018D               MOVW    R17:R16, R27:R26
   \   0000000E   01FD               MOVW    R31:R30, R27:R26
   \   00000010   8121               LDD     R18, Z+1
   \   00000012   8132               LDD     R19, Z+2
   \   00000014   01F9               MOVW    R31:R30, R19:R18
   \   00000016   963E               ADIW    R31:R30, 14
   \   00000018   9125               LPM     R18, Z+
   \   0000001A   9134               LPM     R19, Z
   \   0000001C   973F               SBIW    R31:R30, 15
   \   0000001E   01F9               MOVW    R31:R30, R19:R18
   \   00000020   9509               ICALL
   \   00000022   0138               MOVW    R7:R6, R17:R16
    687              int8_t uiSlave = puiRequest[uiOffset - 1];
   \   00000024   01F4               MOVW    R31:R30, R9:R8
   \   00000026   0DE6               ADD     R30, R6
   \   00000028   1DF7               ADC     R31, R7
   \   0000002A   9731               SBIW    R31:R30, 1
   \   0000002C   80B0               LD      R11, Z
    688              int8_t uiFunctionCode = puiRequest[uiOffset];
   \   0000002E   01F4               MOVW    R31:R30, R9:R8
   \   00000030   0DE6               ADD     R30, R6
   \   00000032   1DF7               ADC     R31, R7
   \   00000034   80A0               LD      R10, Z
    689          
    690              if (CDataStore::GetFsmEvent() == CDataStore::WRITE_OK_FSM_EVENT)
   \   00000036   ........           CALL    ??GetFsmEvent
   \   0000003A   3003               CPI     R16, 3
   \   0000003C   F481               BRNE    ??PollProgramming_1
    691              {
    692                  uiLength = ResponseBasis(uiSlave, uiFunctionCode, puiResponse);
   \   0000003E   01A2               MOVW    R21:R20, R5:R4
   \   00000040   2D3A               MOV     R19, R10
   \   00000042   2D2B               MOV     R18, R11
   \   00000044   018D               MOVW    R17:R16, R27:R26
   \   00000046   01FD               MOVW    R31:R30, R27:R26
   \   00000048   8161               LDD     R22, Z+1
   \   0000004A   8172               LDD     R23, Z+2
   \   0000004C   01FB               MOVW    R31:R30, R23:R22
   \   0000004E   963A               ADIW    R31:R30, 10
   \   00000050   9165               LPM     R22, Z+
   \   00000052   9174               LPM     R23, Z
   \   00000054   973B               SBIW    R31:R30, 11
   \   00000056   01FB               MOVW    R31:R30, R23:R22
   \   00000058   9509               ICALL
   \   0000005A   01C8               MOVW    R25:R24, R17:R16
   \   0000005C   C013               RJMP    ??PollProgramming_2
    693              }
    694              else if (CDataStore::GetFsmEvent() == CDataStore::WRITE_IN_PROGRESS_FSM_EVENT)
   \                     ??PollProgramming_1:
   \   0000005E   ........           CALL    ??GetFsmEvent
   \   00000062   3001               CPI     R16, 1
   \   00000064   F441               BRNE    ??PollProgramming_3
    695              {
    696                  uiLength = ResponseException(uiSlave,
    697                                               uiFunctionCode,
    698                                               MODBUS_EXCEPTION_SLAVE_OR_SERVER_BUSY,
    699                                               puiResponse);
   \   00000066   01B2               MOVW    R23:R22, R5:R4
   \   00000068   E046               LDI     R20, 6
   \   0000006A   2D3A               MOV     R19, R10
   \   0000006C   2D2B               MOV     R18, R11
   \   0000006E   018D               MOVW    R17:R16, R27:R26
   \   00000070   ....               RCALL   ??ResponseException
   \   00000072   01C8               MOVW    R25:R24, R17:R16
   \   00000074   C007               RJMP    ??PollProgramming_2
    700              }
    701              else
    702              {
    703                  uiLength = ResponseException(uiSlave,
    704                                               uiFunctionCode,
    705                                               MODBUS_EXCEPTION_ILLEGAL_FUNCTION,
    706                                               puiResponse);
   \                     ??PollProgramming_3:
   \   00000076   01B2               MOVW    R23:R22, R5:R4
   \   00000078   E041               LDI     R20, 1
   \   0000007A   2D3A               MOV     R19, R10
   \   0000007C   2D2B               MOV     R18, R11
   \   0000007E   018D               MOVW    R17:R16, R27:R26
   \   00000080   ....               RCALL   ??ResponseException
   \   00000082   01C8               MOVW    R25:R24, R17:R16
    707              }
    708          
    709              return uiLength;
   \                     ??PollProgramming_2:
   \   00000084   018C               MOVW    R17:R16, R25:R24
   \   00000086   E0EC               LDI     R30, 12
   \   00000088   ........           JMP     ?EPILOGUE_B12_L09
    710          }
    711          
    712          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    713          int16_t CModbus::Reply(uint8_t *puiRequest, uint8_t *puiResponse, uint16_t uiFrameLength)
   \                     ??Reply:
    714          {
   \   00000000   ........           CALL    ?PROLOGUE15_L09
   \   00000004                      REQUIRE ?Register_R4_is_cg_reg
   \   00000004                      REQUIRE ?Register_R5_is_cg_reg
   \   00000004                      REQUIRE ?Register_R6_is_cg_reg
   \   00000004                      REQUIRE ?Register_R7_is_cg_reg
   \   00000004                      REQUIRE ?Register_R8_is_cg_reg
   \   00000004                      REQUIRE ?Register_R9_is_cg_reg
   \   00000004                      REQUIRE ?Register_R10_is_cg_reg
   \   00000004                      REQUIRE ?Register_R11_is_cg_reg
   \   00000004                      REQUIRE ?Register_R12_is_cg_reg
   \   00000004                      REQUIRE ?Register_R13_is_cg_reg
   \   00000004                      REQUIRE ?Register_R14_is_cg_reg
   \   00000004   01D8               MOVW    R27:R26, R17:R16
   \   00000006   0129               MOVW    R5:R4, R19:R18
   \   00000008   013A               MOVW    R7:R6, R21:R20
   \   0000000A   015B               MOVW    R11:R10, R23:R22
    715              uint16_t uiOffset = HEADER_LENGTH();
   \   0000000C   018D               MOVW    R17:R16, R27:R26
   \   0000000E   01FD               MOVW    R31:R30, R27:R26
   \   00000010   8121               LDD     R18, Z+1
   \   00000012   8132               LDD     R19, Z+2
   \   00000014   01F9               MOVW    R31:R30, R19:R18
   \   00000016   963E               ADIW    R31:R30, 14
   \   00000018   9125               LPM     R18, Z+
   \   0000001A   9134               LPM     R19, Z
   \   0000001C   973F               SBIW    R31:R30, 15
   \   0000001E   01F9               MOVW    R31:R30, R19:R18
   \   00000020   9509               ICALL
   \   00000022   0148               MOVW    R9:R8, R17:R16
    716              int8_t uiSlave = puiRequest[uiOffset - 1];
   \   00000024   01F2               MOVW    R31:R30, R5:R4
   \   00000026   0DE8               ADD     R30, R8
   \   00000028   1DF9               ADC     R31, R9
   \   0000002A   9731               SBIW    R31:R30, 1
   \   0000002C   80C0               LD      R12, Z
    717              int8_t uiFunctionCode = puiRequest[uiOffset];
   \   0000002E   01F2               MOVW    R31:R30, R5:R4
   \   00000030   0DE8               ADD     R30, R8
   \   00000032   1DF9               ADC     R31, R9
   \   00000034   80E0               LD      R14, Z
    718              uint16_t uiLength = uiFrameLength;
   \   00000036   01C5               MOVW    R25:R24, R11:R10
    719          
    720              /* Filter on the Modbus unit identifier (slave) in RTU mode */
    721              if (uiSlave != m_uiOwnAddress && uiSlave != MODBUS_BROADCAST_ADDRESS)
   \   00000038   2CDC               MOV     R13, R12
   \   0000003A   0CDD               LSL     R13
   \   0000003C   08DD               SBC     R13, R13
   \   0000003E   01FD               MOVW    R31:R30, R27:R26
   \   00000040   8105               LDD     R16, Z+5
   \   00000042   E010               LDI     R17, 0
   \   00000044   16C0               CP      R12, R16
   \   00000046   06D1               CPC     R13, R17
   \   00000048   F029               BREQ    ??Reply_1
   \   0000004A   20CC               TST     R12
   \   0000004C   F019               BREQ    ??Reply_1
    722              {
    723                  return 0;
   \   0000004E   E000               LDI     R16, 0
   \   00000050   E010               LDI     R17, 0
   \   00000052   C070               RJMP    ??Reply_2
    724              }
    725          
    726              switch (uiFunctionCode)
   \                     ??Reply_1:
   \   00000054   2D0E               MOV     R16, R14
   \   00000056   2F10               MOV     R17, R16
   \   00000058   0F11               LSL     R17
   \   0000005A   0B11               SBC     R17, R17
   \   0000005C   ....               LDI     R30, LOW(`?<Jumptable for Reply>_0`)
   \   0000005E   ....               LDI     R31, (`?<Jumptable for Reply>_0`) >> 16
   \   00000060   BFFB               OUT     0x3B, R31
   \   00000062   ....               LDI     R31, HIGH(`?<Jumptable for Reply>_0`)
   \   00000064   ........           JMP     ?CV_SWITCH_L06
    727              {
    728              case _FC_READ_COILS:
    729                  uiLength = ReadCoils(puiRequest, puiResponse, uiLength);
   \                     ??Reply_3:
   \   00000068   01BC               MOVW    R23:R22, R25:R24
   \   0000006A   01A3               MOVW    R21:R20, R7:R6
   \   0000006C   0192               MOVW    R19:R18, R5:R4
   \   0000006E   018D               MOVW    R17:R16, R27:R26
   \   00000070   ....               RCALL   ??ReadCoils
   \   00000072   01C8               MOVW    R25:R24, R17:R16
    730                  break;
   \   00000074   C05B               RJMP    ??Reply_4
    731          
    732              case _FC_READ_DISCRETE_INPUTS:
    733                  uiLength = ReadDiscreteInputs(puiRequest, puiResponse, uiLength);
   \                     ??Reply_5:
   \   00000076   01BC               MOVW    R23:R22, R25:R24
   \   00000078   01A3               MOVW    R21:R20, R7:R6
   \   0000007A   0192               MOVW    R19:R18, R5:R4
   \   0000007C   018D               MOVW    R17:R16, R27:R26
   \   0000007E   ....               RCALL   ??ReadDiscreteInputs
   \   00000080   01C8               MOVW    R25:R24, R17:R16
    734                  break;
   \   00000082   C054               RJMP    ??Reply_4
    735          
    736              case _FC_READ_HOLDING_REGISTERS:
    737                  uiLength = ReadHoldingRegisters(puiRequest, puiResponse, uiLength);
   \                     ??Reply_6:
   \   00000084   01BC               MOVW    R23:R22, R25:R24
   \   00000086   01A3               MOVW    R21:R20, R7:R6
   \   00000088   0192               MOVW    R19:R18, R5:R4
   \   0000008A   018D               MOVW    R17:R16, R27:R26
   \   0000008C   ....               RCALL   ??ReadHoldingRegisters
   \   0000008E   01C8               MOVW    R25:R24, R17:R16
    738                  break;
   \   00000090   C04D               RJMP    ??Reply_4
    739          
    740              case _FC_READ_INPUT_REGISTERS:
    741                  uiLength = ReadInputRegisters(puiRequest, puiResponse, uiLength);
   \                     ??Reply_7:
   \   00000092   01BC               MOVW    R23:R22, R25:R24
   \   00000094   01A3               MOVW    R21:R20, R7:R6
   \   00000096   0192               MOVW    R19:R18, R5:R4
   \   00000098   018D               MOVW    R17:R16, R27:R26
   \   0000009A   ....               RCALL   ??ReadInputRegisters
   \   0000009C   01C8               MOVW    R25:R24, R17:R16
    742                  break;
   \   0000009E   C046               RJMP    ??Reply_4
    743          
    744              case _FC_WRITE_SINGLE_COIL:
    745                  uiLength = WriteSingleCoil(puiRequest, puiResponse, uiLength);
   \                     ??Reply_8:
   \   000000A0   01BC               MOVW    R23:R22, R25:R24
   \   000000A2   01A3               MOVW    R21:R20, R7:R6
   \   000000A4   0192               MOVW    R19:R18, R5:R4
   \   000000A6   018D               MOVW    R17:R16, R27:R26
   \   000000A8   ....               RCALL   ??WriteSingleCoil
   \   000000AA   01C8               MOVW    R25:R24, R17:R16
    746                  break;
   \   000000AC   C03F               RJMP    ??Reply_4
    747          
    748              case _FC_WRITE_SINGLE_REGISTER:
    749                  uiLength = WriteSingleRegister(puiRequest, puiResponse, uiLength);
   \                     ??Reply_9:
   \   000000AE   01BC               MOVW    R23:R22, R25:R24
   \   000000B0   01A3               MOVW    R21:R20, R7:R6
   \   000000B2   0192               MOVW    R19:R18, R5:R4
   \   000000B4   018D               MOVW    R17:R16, R27:R26
   \   000000B6   ....               RCALL   ??WriteSingleRegister
   \   000000B8   01C8               MOVW    R25:R24, R17:R16
    750                  break;
   \   000000BA   C038               RJMP    ??Reply_4
    751          
    752              case _FC_READ_EXCEPTION_STATUS:
    753                  uiLength = ReadExceptionStatus(puiRequest, puiResponse, uiLength);
   \                     ??Reply_10:
   \   000000BC   01BC               MOVW    R23:R22, R25:R24
   \   000000BE   01A3               MOVW    R21:R20, R7:R6
   \   000000C0   0192               MOVW    R19:R18, R5:R4
   \   000000C2   018D               MOVW    R17:R16, R27:R26
   \   000000C4   ....               RCALL   ??ReadExceptionStatus
   \   000000C6   01C8               MOVW    R25:R24, R17:R16
    754                  break;
   \   000000C8   C031               RJMP    ??Reply_4
    755          
    756              case _FC_WRITE_MULTIPLE_COILS:
    757                  uiLength = WriteMultipleCoils(puiRequest, puiResponse, uiLength);
   \                     ??Reply_11:
   \   000000CA   01BC               MOVW    R23:R22, R25:R24
   \   000000CC   01A3               MOVW    R21:R20, R7:R6
   \   000000CE   0192               MOVW    R19:R18, R5:R4
   \   000000D0   018D               MOVW    R17:R16, R27:R26
   \   000000D2   ....               RCALL   ??WriteMultipleCoils
   \   000000D4   01C8               MOVW    R25:R24, R17:R16
    758                  break;
   \   000000D6   C02A               RJMP    ??Reply_4
    759          
    760              case _FC_PROGRAMMING_COMPLETION_REQUEST:
    761                  uiLength = PollProgramming(puiRequest, puiResponse, uiLength);
   \                     ??Reply_12:
   \   000000D8   01BC               MOVW    R23:R22, R25:R24
   \   000000DA   01A3               MOVW    R21:R20, R7:R6
   \   000000DC   0192               MOVW    R19:R18, R5:R4
   \   000000DE   018D               MOVW    R17:R16, R27:R26
   \   000000E0   ....               RCALL   ??PollProgramming
   \   000000E2   01C8               MOVW    R25:R24, R17:R16
    762                  break;
   \   000000E4   C023               RJMP    ??Reply_4
    763          
    764              case _FC_WRITE_MULTIPLE_REGISTERS:
    765                  uiLength = WriteMultipleRegisters(puiRequest, puiResponse, uiLength);
   \                     ??Reply_13:
   \   000000E6   01BC               MOVW    R23:R22, R25:R24
   \   000000E8   01A3               MOVW    R21:R20, R7:R6
   \   000000EA   0192               MOVW    R19:R18, R5:R4
   \   000000EC   018D               MOVW    R17:R16, R27:R26
   \   000000EE   ....               RCALL   ??WriteMultipleRegisters
   \   000000F0   01C8               MOVW    R25:R24, R17:R16
    766                  break;
   \   000000F2   C01C               RJMP    ??Reply_4
    767          
    768              case _FC_REPORT_SLAVE_ID:
    769                  uiLength = ReportSlaveID(puiRequest, puiResponse, uiLength);
   \                     ??Reply_14:
   \   000000F4   01BC               MOVW    R23:R22, R25:R24
   \   000000F6   01A3               MOVW    R21:R20, R7:R6
   \   000000F8   0192               MOVW    R19:R18, R5:R4
   \   000000FA   018D               MOVW    R17:R16, R27:R26
   \   000000FC   ....               RCALL   ??ReportSlaveID
   \   000000FE   01C8               MOVW    R25:R24, R17:R16
    770                  break;
   \   00000100   C015               RJMP    ??Reply_4
    771          
    772              case _FC_WRITE_AND_READ_REGISTERS:
    773                  uiLength = WriteAndReadRegisters(puiRequest, puiResponse, uiLength);
   \                     ??Reply_15:
   \   00000102   01BC               MOVW    R23:R22, R25:R24
   \   00000104   01A3               MOVW    R21:R20, R7:R6
   \   00000106   0192               MOVW    R19:R18, R5:R4
   \   00000108   018D               MOVW    R17:R16, R27:R26
   \   0000010A   ....               RCALL   ??WriteAndReadRegisters
   \   0000010C   01C8               MOVW    R25:R24, R17:R16
    774                  break;
   \   0000010E   C00E               RJMP    ??Reply_4
    775          
    776              case _FC_DATA_EXCHANGE:
    777                  break;
    778          
    779              case _FC_DATA_BASE_READ:
    780                  break;
    781          
    782              case _FC_DATA_BASE_WRITE:
    783                  break;
    784          
    785              case _FC_PROGRAMMING:
    786                  uiLength = Programming(puiRequest, puiResponse, uiLength);
   \                     ??Reply_16:
   \   00000110   01BC               MOVW    R23:R22, R25:R24
   \   00000112   01A3               MOVW    R21:R20, R7:R6
   \   00000114   0192               MOVW    R19:R18, R5:R4
   \   00000116   018D               MOVW    R17:R16, R27:R26
   \   00000118   ....               RCALL   ??Programming
   \   0000011A   01C8               MOVW    R25:R24, R17:R16
    787                  break;
   \   0000011C   C007               RJMP    ??Reply_4
    788          
    789              default:
    790                  uiLength = ResponseException(uiSlave,
    791                                               uiFunctionCode,
    792                                               MODBUS_EXCEPTION_ILLEGAL_FUNCTION,
    793                                               puiResponse);
   \                     ??Reply_17:
   \   0000011E   01B3               MOVW    R23:R22, R7:R6
   \   00000120   E041               LDI     R20, 1
   \   00000122   2D3E               MOV     R19, R14
   \   00000124   2D2C               MOV     R18, R12
   \   00000126   018D               MOVW    R17:R16, R27:R26
   \   00000128   ....               RCALL   ??ResponseException
   \   0000012A   01C8               MOVW    R25:R24, R17:R16
    794                  break;
    795              }
    796          
    797              m_uiMessageLength = uiLength;
   \                     ??Reply_4:
   \   0000012C   01FD               MOVW    R31:R30, R27:R26
   \   0000012E   8784               STD     Z+12, R24
   \   00000130   8795               STD     Z+13, R25
    798              return uiLength;
   \   00000132   018C               MOVW    R17:R16, R25:R24
   \                     ??Reply_2:
   \   00000134   E0EF               LDI     R30, 15
   \   00000136   ........           JMP     ?EPILOGUE_B15_L09
    799          //    return SendMessage(puiResponse, uiLength);
    800          }
    801          
    802          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    803          void CModbus::SetByteFromBits(uint8_t *dest, int16_t index, const uint8_t value)
   \                     ??SetByteFromBits:
    804          {
   \   00000000   939A               ST      -Y, R25
   \   00000002   938A               ST      -Y, R24
   \   00000004   0118               MOVW    R3:R2, R17:R16
   \   00000006   010A               MOVW    R1:R0, R21:R20
    805              int16_t i;
    806          
    807              for (i=0; i<8; i++)
   \   00000008   E080               LDI     R24, 0
   \   0000000A   E090               LDI     R25, 0
   \                     ??SetByteFromBits_1:
   \   0000000C   3088               CPI     R24, 8
   \   0000000E   E000               LDI     R16, 0
   \   00000010   0790               CPC     R25, R16
   \   00000012   F4AC               BRGE    ??SetByteFromBits_2
    808              {
    809                  dest[index+i] = (value & (1 << i)) ? 1 : 0;
   \   00000014   2F48               MOV     R20, R24
   \   00000016   E001               LDI     R16, 1
   \   00000018   E010               LDI     R17, 0
   \   0000001A   ........           CALL    ?S_SHL_L02
   \   0000001E   2F16               MOV     R17, R22
   \   00000020   2310               AND     R17, R16
   \   00000022   2311               TST     R17
   \   00000024   F011               BREQ    ??SetByteFromBits_3
   \   00000026   E001               LDI     R16, 1
   \   00000028   C001               RJMP    ??SetByteFromBits_4
   \                     ??SetByteFromBits_3:
   \   0000002A   E000               LDI     R16, 0
   \                     ??SetByteFromBits_4:
   \   0000002C   01A0               MOVW    R21:R20, R1:R0
   \   0000002E   0F48               ADD     R20, R24
   \   00000030   1F59               ADC     R21, R25
   \   00000032   01F9               MOVW    R31:R30, R19:R18
   \   00000034   0FE4               ADD     R30, R20
   \   00000036   1FF5               ADC     R31, R21
   \   00000038   8300               ST      Z, R16
    810              }
   \   0000003A   9601               ADIW    R25:R24, 1
   \   0000003C   CFE7               RJMP    ??SetByteFromBits_1
    811          }
   \                     ??SetByteFromBits_2:
   \   0000003E   9189               LD      R24, Y+
   \   00000040   9199               LD      R25, Y+
   \   00000042   9508               RET
    812          
    813          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    814          void CModbus::SetBytesFromBits(uint8_t *dest, int16_t index, uint16_t nb_bits,
   \                     ??SetBytesFromBits:
    815                                         const uint8_t *tab_byte)
    816          {
   \   00000000   ........           CALL    ?PROLOGUE8_L09
   \   00000004                      REQUIRE ?Register_R4_is_cg_reg
   \   00000004                      REQUIRE ?Register_R5_is_cg_reg
   \   00000004                      REQUIRE ?Register_R6_is_cg_reg
   \   00000004                      REQUIRE ?Register_R7_is_cg_reg
   \   00000004   0138               MOVW    R7:R6, R17:R16
   \   00000006   011A               MOVW    R3:R2, R21:R20
   \   00000008   8448               LDD     R4, Y+8
   \   0000000A   8459               LDD     R5, Y+9
    817              int16_t i;
    818              int16_t shift = 0;
   \   0000000C   E080               LDI     R24, 0
   \   0000000E   E090               LDI     R25, 0
    819          
    820              for (i = index; i < index + nb_bits; i++)
   \   00000010   01D1               MOVW    R27:R26, R3:R2
   \                     ??SetBytesFromBits_1:
   \   00000012   0181               MOVW    R17:R16, R3:R2
   \   00000014   0F06               ADD     R16, R22
   \   00000016   1F17               ADC     R17, R23
   \   00000018   17A0               CP      R26, R16
   \   0000001A   07B1               CPC     R27, R17
   \   0000001C   F520               BRCC    ??SetBytesFromBits_2
    821              {
    822                  dest[i] = tab_byte[(i - index) / 8] & (1 << shift) ? 1 : 0;
   \   0000001E   010D               MOVW    R1:R0, R27:R26
   \   00000020   1802               SUB     R0, R2
   \   00000022   0813               SBC     R1, R3
   \   00000024   E048               LDI     R20, 8
   \   00000026   E050               LDI     R21, 0
   \   00000028   0180               MOVW    R17:R16, R1:R0
   \   0000002A   ........           CALL    ?SS_DIVMOD_L02
   \   0000002E   01F2               MOVW    R31:R30, R5:R4
   \   00000030   0FE0               ADD     R30, R16
   \   00000032   1FF1               ADC     R31, R17
   \   00000034   8150               LD      R21, Z
   \   00000036   2F48               MOV     R20, R24
   \   00000038   E001               LDI     R16, 1
   \   0000003A   E010               LDI     R17, 0
   \   0000003C   ........           CALL    ?S_SHL_L02
   \   00000040   2350               AND     R21, R16
   \   00000042   2355               TST     R21
   \   00000044   F011               BREQ    ??SetBytesFromBits_3
   \   00000046   E001               LDI     R16, 1
   \   00000048   C001               RJMP    ??SetBytesFromBits_4
   \                     ??SetBytesFromBits_3:
   \   0000004A   E000               LDI     R16, 0
   \                     ??SetBytesFromBits_4:
   \   0000004C   01F9               MOVW    R31:R30, R19:R18
   \   0000004E   0FEA               ADD     R30, R26
   \   00000050   1FFB               ADC     R31, R27
   \   00000052   8300               ST      Z, R16
    823                  /* gcc doesn't like: shift = (++shift) % 8; */
    824                  shift++;
   \   00000054   9601               ADIW    R25:R24, 1
    825                  shift %= 8;
   \   00000056   E048               LDI     R20, 8
   \   00000058   E050               LDI     R21, 0
   \   0000005A   018C               MOVW    R17:R16, R25:R24
   \   0000005C   ........           CALL    ?SS_DIVMOD_L02
   \   00000060   01CA               MOVW    R25:R24, R21:R20
    826              }
   \   00000062   9611               ADIW    R27:R26, 1
   \   00000064   CFD6               RJMP    ??SetBytesFromBits_1
    827          }
   \                     ??SetBytesFromBits_2:
   \   00000066   E0EA               LDI     R30, 10
   \   00000068   ........           JMP     ?EPILOGUE_B8_L09
    828          
    829          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    830          uint8_t CModbus::GetByteFromBits(const uint8_t *src, int16_t index,
   \                     ??GetByteFromBits:
    831                                           uint16_t nb_bits)
    832          {
   \   00000000   939A               ST      -Y, R25
   \   00000002   938A               ST      -Y, R24
   \   00000004   0118               MOVW    R3:R2, R17:R16
   \   00000006   010A               MOVW    R1:R0, R21:R20
    833              int16_t i;
    834              uint8_t value = 0;
   \   00000008   E050               LDI     R21, 0
    835          
    836              if (nb_bits > 8)
   \   0000000A   3069               CPI     R22, 9
   \   0000000C   E000               LDI     R16, 0
   \   0000000E   0770               CPC     R23, R16
   \   00000010   F010               BRCS    ??GetByteFromBits_1
    837              {
    838                  /* Assert is ignored if NDEBUG is set */
    839          //        assert(nb_bits < 8); //?
    840                  nb_bits = 8;
   \   00000012   E068               LDI     R22, 8
   \   00000014   E070               LDI     R23, 0
    841              }
    842          
    843              for (i=0; i < nb_bits; i++)
   \                     ??GetByteFromBits_1:
   \   00000016   E080               LDI     R24, 0
   \   00000018   E090               LDI     R25, 0
   \                     ??GetByteFromBits_2:
   \   0000001A   1786               CP      R24, R22
   \   0000001C   0797               CPC     R25, R23
   \   0000001E   F470               BRCC    ??GetByteFromBits_3
    844              {
    845                  value |= (src[index+i] << i);
   \   00000020   0180               MOVW    R17:R16, R1:R0
   \   00000022   0F08               ADD     R16, R24
   \   00000024   1F19               ADC     R17, R25
   \   00000026   01F9               MOVW    R31:R30, R19:R18
   \   00000028   0FE0               ADD     R30, R16
   \   0000002A   1FF1               ADC     R31, R17
   \   0000002C   8100               LD      R16, Z
   \   0000002E   E010               LDI     R17, 0
   \   00000030   2F48               MOV     R20, R24
   \   00000032   ........           CALL    ?S_SHL_L02
   \   00000036   2B50               OR      R21, R16
    846              }
   \   00000038   9601               ADIW    R25:R24, 1
   \   0000003A   CFEF               RJMP    ??GetByteFromBits_2
    847          
    848              return value;
   \                     ??GetByteFromBits_3:
   \   0000003C   2F05               MOV     R16, R21
   \   0000003E   9189               LD      R24, Y+
   \   00000040   9199               LD      R25, Y+
   \   00000042   9508               RET
    849          }
    850          
    851          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    852          float CModbus::GetFloat(const uint16_t *src)
   \                     ??GetFloat:
    853          {
   \   00000000   01BD               MOVW    R23:R22, R27:R26
   \   00000002   9728               SBIW    R29:R28, 8
   \   00000004   01A8               MOVW    R21:R20, R17:R16
   \   00000006   01D9               MOVW    R27:R26, R19:R18
    854              float f = 0.0f;
   \   00000008   E000               LDI     R16, 0
   \   0000000A   8308               ST      Y, R16
   \   0000000C   E000               LDI     R16, 0
   \   0000000E   8309               STD     Y+1, R16
   \   00000010   E000               LDI     R16, 0
   \   00000012   830A               STD     Y+2, R16
   \   00000014   E000               LDI     R16, 0
   \   00000016   830B               STD     Y+3, R16
    855              uint32_t i;
    856          
    857              i = (((uint32_t)src[1]) << 16) + src[0];
   \   00000018   9612               ADIW    R27:R26, 2
   \   0000001A   902D               LD      R2, X+
   \   0000001C   903C               LD      R3, X
   \   0000001E   9713               SBIW    R27:R26, 3
   \   00000020   2400               CLR     R0
   \   00000022   2411               CLR     R1
   \   00000024   910D               LD      R16, X+
   \   00000026   911C               LD      R17, X
   \   00000028   9711               SBIW    R27:R26, 1
   \   0000002A   E020               LDI     R18, 0
   \   0000002C   E030               LDI     R19, 0
   \   0000002E   0E00               ADD     R0, R16
   \   00000030   1E11               ADC     R1, R17
   \   00000032   1E22               ADC     R2, R18
   \   00000034   1E33               ADC     R3, R19
   \   00000036   820C               STD     Y+4, R0
   \   00000038   821D               STD     Y+5, R1
   \   0000003A   822E               STD     Y+6, R2
   \   0000003C   823F               STD     Y+7, R3
    858              memcpy(&f, &i, sizeof(float));
   \   0000003E   810C               LDD     R16, Y+4
   \   00000040   811D               LDD     R17, Y+5
   \   00000042   812E               LDD     R18, Y+6
   \   00000044   813F               LDD     R19, Y+7
   \   00000046   8308               ST      Y, R16
   \   00000048   8319               STD     Y+1, R17
   \   0000004A   832A               STD     Y+2, R18
   \   0000004C   833B               STD     Y+3, R19
    859          
    860              return f;
   \   0000004E   8108               LD      R16, Y
   \   00000050   8119               LDD     R17, Y+1
   \   00000052   812A               LDD     R18, Y+2
   \   00000054   813B               LDD     R19, Y+3
   \   00000056   9628               ADIW    R29:R28, 8
   \   00000058   01DB               MOVW    R27:R26, R23:R22
   \   0000005A   9508               RET
    861          }
    862          
    863          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    864          void CModbus::SetFloat(float f, uint16_t *dest)
   \                     ??SetFloat:
    865          {
   \   00000000   9728               SBIW    R29:R28, 8
   \   00000002   834C               STD     Y+4, R20
   \   00000004   835D               STD     Y+5, R21
   \   00000006   836E               STD     Y+6, R22
   \   00000008   837F               STD     Y+7, R23
    866              uint32_t i = 0;
   \   0000000A   E040               LDI     R20, 0
   \   0000000C   8348               ST      Y, R20
   \   0000000E   E040               LDI     R20, 0
   \   00000010   8349               STD     Y+1, R20
   \   00000012   E040               LDI     R20, 0
   \   00000014   834A               STD     Y+2, R20
   \   00000016   E040               LDI     R20, 0
   \   00000018   834B               STD     Y+3, R20
    867          
    868              memcpy(&i, &f, sizeof(uint32_t));
   \   0000001A   814C               LDD     R20, Y+4
   \   0000001C   815D               LDD     R21, Y+5
   \   0000001E   816E               LDD     R22, Y+6
   \   00000020   817F               LDD     R23, Y+7
   \   00000022   8348               ST      Y, R20
   \   00000024   8359               STD     Y+1, R21
   \   00000026   836A               STD     Y+2, R22
   \   00000028   837B               STD     Y+3, R23
    869              dest[0] = (uint16_t)i;
   \   0000002A   8148               LD      R20, Y
   \   0000002C   8159               LDD     R21, Y+1
   \   0000002E   816A               LDD     R22, Y+2
   \   00000030   817B               LDD     R23, Y+3
   \   00000032   01F9               MOVW    R31:R30, R19:R18
   \   00000034   8340               ST      Z, R20
   \   00000036   8351               STD     Z+1, R21
    870              dest[1] = (uint16_t)(i >> 16);
   \   00000038   8148               LD      R20, Y
   \   0000003A   8159               LDD     R21, Y+1
   \   0000003C   816A               LDD     R22, Y+2
   \   0000003E   817B               LDD     R23, Y+3
   \   00000040   2F46               MOV     R20, R22
   \   00000042   2F57               MOV     R21, R23
   \   00000044   E060               LDI     R22, 0
   \   00000046   E070               LDI     R23, 0
   \   00000048   01F9               MOVW    R31:R30, R19:R18
   \   0000004A   8342               STD     Z+2, R20
   \   0000004C   8353               STD     Z+3, R21
    871          }
   \   0000004E   9628               ADIW    R29:R28, 8
   \   00000050   9508               RET
    872          
    873          //-----------------------------------------------------------------------------------------------------
    874          
    875          
    876          
    877          
    878          
    879          
    880          ////-----------------------------------------------------------------------------------------------------
    881          //int8_t CModbus::ReadCoilsRequest(uint16_t uiAddress,
    882          //                                  uint16_t uiBitNumber)
    883          //{
    884          //    if (uiBitNumber > MODBUS_MAX_READ_BITS)
    885          //    {
    886          //        return EMBMDATA;
    887          //    }
    888          //
    889          //    if (MessengerIsReady())
    890          //    {
    891          //        m_uiFunctionCode = _FC_READ_COILS;
    892          //        m_uiMessageLength = RequestBasis(m_uiOwnAddress,
    893          //                                         m_uiFunctionCode,
    894          //                                         uiAddress,
    895          //                                         uiBitNumber,
    896          //                                         m_puiTxBuffer);
    897          //        SetFsmState(FRAME_TRANSMIT_REQUEST);
    898          //        return 1;
    899          //    }
    900          //    else
    901          //    {
    902          //        return 0;
    903          //    }
    904          //}
    905          //
    906          ////-----------------------------------------------------------------------------------------------------
    907          //int16_t CModbus::ReadCoilsReply(uint8_t *puiDestination)
    908          //{
    909          //
    910          //    if (MessengerIsReady())
    911          //    {
    912          //
    913          //        SetFsmState(FRAME_TRANSMIT_REQUEST);
    914          //        return 1;
    915          //    }
    916          //    else
    917          //    {
    918          //        return 0;
    919          //    }
    920          //}
    921          
    922          
    923          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    924          int8_t CModbus::ReadDiscreteInputsRequest(uint8_t uiSlaveAddress,
   \                     ??ReadDiscreteInputsRequest:
    925                  uint16_t uiAddress,
    926                  uint16_t uiBitNumber)
    927          {
   \   00000000   ........           CALL    ?PROLOGUE7_L09
   \   00000004                      REQUIRE ?Register_R4_is_cg_reg
   \   00000004                      REQUIRE ?Register_R5_is_cg_reg
   \   00000004                      REQUIRE ?Register_R6_is_cg_reg
   \   00000004   01D8               MOVW    R27:R26, R17:R16
   \   00000006   2E62               MOV     R6, R18
   \   00000008   012A               MOVW    R5:R4, R21:R20
   \   0000000A   01CB               MOVW    R25:R24, R23:R22
    928              if (uiBitNumber > MODBUS_MAX_READ_BITS)
   \   0000000C   3D81               CPI     R24, 209
   \   0000000E   E007               LDI     R16, 7
   \   00000010   0790               CPC     R25, R16
   \   00000012   F010               BRCS    ??ReadDiscreteInputsRequest_1
    929              {
    930                  return EMBMDATA;
   \   00000014   E100               LDI     R16, 16
   \   00000016   C037               RJMP    ??ReadDiscreteInputsRequest_2
    931              }
    932          
    933              if (MessengerIsReady() == 1)
   \                     ??ReadDiscreteInputsRequest_1:
   \   00000018   018D               MOVW    R17:R16, R27:R26
   \   0000001A   01FD               MOVW    R31:R30, R27:R26
   \   0000001C   8121               LDD     R18, Z+1
   \   0000001E   8132               LDD     R19, Z+2
   \   00000020   01F9               MOVW    R31:R30, R19:R18
   \   00000022   9634               ADIW    R31:R30, 4
   \   00000024   9125               LPM     R18, Z+
   \   00000026   9134               LPM     R19, Z
   \   00000028   9735               SBIW    R31:R30, 5
   \   0000002A   01F9               MOVW    R31:R30, R19:R18
   \   0000002C   9509               ICALL
   \   0000002E   3001               CPI     R16, 1
   \   00000030   F411               BRNE    ??ReadDiscreteInputsRequest_3
   \   00000032   E001               LDI     R16, 1
   \   00000034   C001               RJMP    ??ReadDiscreteInputsRequest_4
   \                     ??ReadDiscreteInputsRequest_3:
   \   00000036   E000               LDI     R16, 0
   \                     ??ReadDiscreteInputsRequest_4:
   \   00000038   2300               TST     R16
   \   0000003A   F121               BREQ    ??ReadDiscreteInputsRequest_5
    934              {
    935                  m_uiFunctionCode = _FC_READ_DISCRETE_INPUTS;
   \   0000003C   01FD               MOVW    R31:R30, R27:R26
   \   0000003E   E002               LDI     R16, 2
   \   00000040   8307               STD     Z+7, R16
    936                  m_uiQuantity = uiBitNumber;
   \   00000042   01FD               MOVW    R31:R30, R27:R26
   \   00000044   8780               STD     Z+8, R24
   \   00000046   8791               STD     Z+9, R25
    937                  m_uiMessageLength = RequestBasis(uiSlaveAddress,
    938                                                   m_uiFunctionCode,
    939                                                   uiAddress,
    940                                                   uiBitNumber,
    941                                                   m_puiTxBuffer);
   \   00000048   01FD               MOVW    R31:R30, R27:R26
   \   0000004A   8900               LDD     R16, Z+16
   \   0000004C   8911               LDD     R17, Z+17
   \   0000004E   931A               ST      -Y, R17
   \   00000050   930A               ST      -Y, R16
   \   00000052   01BC               MOVW    R23:R22, R25:R24
   \   00000054   01A2               MOVW    R21:R20, R5:R4
   \   00000056   01FD               MOVW    R31:R30, R27:R26
   \   00000058   8137               LDD     R19, Z+7
   \   0000005A   2D26               MOV     R18, R6
   \   0000005C   018D               MOVW    R17:R16, R27:R26
   \   0000005E   01FD               MOVW    R31:R30, R27:R26
   \   00000060   8001               LDD     R0, Z+1
   \   00000062   8012               LDD     R1, Z+2
   \   00000064   01F0               MOVW    R31:R30, R1:R0
   \   00000066   9638               ADIW    R31:R30, 8
   \   00000068   9005               LPM     R0, Z+
   \   0000006A   9014               LPM     R1, Z
   \   0000006C   9739               SBIW    R31:R30, 9
   \   0000006E   01F0               MOVW    R31:R30, R1:R0
   \   00000070   9509               ICALL
   \   00000072   01FD               MOVW    R31:R30, R27:R26
   \   00000074   8704               STD     Z+12, R16
   \   00000076   8715               STD     Z+13, R17
    942                  SetFsmState(FRAME_TRANSMIT_REQUEST);
   \   00000078   E120               LDI     R18, 16
   \   0000007A   018D               MOVW    R17:R16, R27:R26
   \   0000007C   ........           CALL    ??SetFsmState
    943                  return 1;
   \   00000080   E001               LDI     R16, 1
   \   00000082   C001               RJMP    ??ReadDiscreteInputsRequest_2
    944              }
    945              else
    946              {
    947                  return 0;
   \                     ??ReadDiscreteInputsRequest_5:
   \   00000084   E000               LDI     R16, 0
   \                     ??ReadDiscreteInputsRequest_2:
   \   00000086   E0E7               LDI     R30, 7
   \   00000088   ........           JMP     ?EPILOGUE_B7_L09
    948              }
    949          }
    950          
    951          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    952          int16_t CModbus::ReadDiscreteInputsReceive(uint8_t *puiMessage, uint16_t uiLength)
   \                     ??ReadDiscreteInputsReceive:
    953          {
   \   00000000   01B8               MOVW    R23:R22, R17:R16
    954          //    uint8_t uiByteCounter = 0;
    955          //    for (int8_t i = 0; i < (m_uiQuantity / 2); )
    956          //    {
    957          //        uint8_t uiData = puiMessage[uiByteCounter];
    958          //        for (uint8_t j = 0; j < CHANNELS_IN_BYTE; j++)
    959          //        {
    960          //            uint8_t uiState = 0;
    961          //            for (uint8_t k = 0; k < MEASURE_CHANNEL_STATE_BIT_NUMBER; k++)
    962          //            {
    963          //                if (uiData & 0x01)
    964          //                {
    965          //                    uiState |= (0x01 << k);
    966          //                }
    967          //                uiData >>= 1;
    968          //            }
    969          //
    970          //            CMvsn21::axChipsChannelsData[m_uiSlaveAddress - 1].axMeasurementChannels[i].uiState = uiState;
    971          //            //   .
    972          //            i++;
    973          //            //      ?
    974          //            if (i >= m_uiQuantity)
    975          //            {
    976          //                //      .
    977          //                return 1;
    978          //            }
    979          //        }
    980          //        uiByteCounter += 1;
    981          //    }
    982              return 1;
   \   00000002   E001               LDI     R16, 1
   \   00000004   E010               LDI     R17, 0
   \   00000006   9508               RET
    983          }
    984          
    985          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    986          int16_t CModbus::ReceiveMessage(uint8_t *puiResponse, uint16_t uiFrameLength)
   \                     ??ReceiveMessage:
    987          {
   \   00000000   ........           CALL    ?PROLOGUE12_L09
   \   00000004                      REQUIRE ?Register_R4_is_cg_reg
   \   00000004                      REQUIRE ?Register_R5_is_cg_reg
   \   00000004                      REQUIRE ?Register_R6_is_cg_reg
   \   00000004                      REQUIRE ?Register_R7_is_cg_reg
   \   00000004                      REQUIRE ?Register_R8_is_cg_reg
   \   00000004                      REQUIRE ?Register_R9_is_cg_reg
   \   00000004                      REQUIRE ?Register_R10_is_cg_reg
   \   00000004                      REQUIRE ?Register_R11_is_cg_reg
   \   00000004   01D8               MOVW    R27:R26, R17:R16
   \   00000006   0129               MOVW    R5:R4, R19:R18
   \   00000008   013A               MOVW    R7:R6, R21:R20
    988              uint16_t uiOffset = HEADER_LENGTH();
   \   0000000A   018D               MOVW    R17:R16, R27:R26
   \   0000000C   01FD               MOVW    R31:R30, R27:R26
   \   0000000E   8121               LDD     R18, Z+1
   \   00000010   8132               LDD     R19, Z+2
   \   00000012   01F9               MOVW    R31:R30, R19:R18
   \   00000014   963E               ADIW    R31:R30, 14
   \   00000016   9125               LPM     R18, Z+
   \   00000018   9134               LPM     R19, Z
   \   0000001A   973F               SBIW    R31:R30, 15
   \   0000001C   01F9               MOVW    R31:R30, R19:R18
   \   0000001E   9509               ICALL
   \   00000020   01C8               MOVW    R25:R24, R17:R16
    989              uint8_t uiSlave = puiResponse[uiOffset - 1];
   \   00000022   01F2               MOVW    R31:R30, R5:R4
   \   00000024   0FE8               ADD     R30, R24
   \   00000026   1FF9               ADC     R31, R25
   \   00000028   9731               SBIW    R31:R30, 1
   \   0000002A   8090               LD      R9, Z
    990              uint8_t uiFunctionCode = puiResponse[uiOffset];
   \   0000002C   01F2               MOVW    R31:R30, R5:R4
   \   0000002E   0FE8               ADD     R30, R24
   \   00000030   1FF9               ADC     R31, R25
   \   00000032   8080               LD      R8, Z
    991              uint16_t uiLength = uiFrameLength;
   \   00000034   0153               MOVW    R11:R10, R7:R6
    992          
    993              if ((m_uiSlaveAddress == uiSlave) &&
    994                      (m_uiFunctionCode == uiFunctionCode))
   \   00000036   01FD               MOVW    R31:R30, R27:R26
   \   00000038   8106               LDD     R16, Z+6
   \   0000003A   1509               CP      R16, R9
   \   0000003C   F491               BRNE    ??ReceiveMessage_1
   \   0000003E   01FD               MOVW    R31:R30, R27:R26
   \   00000040   8107               LDD     R16, Z+7
   \   00000042   1508               CP      R16, R8
   \   00000044   F471               BRNE    ??ReceiveMessage_1
    995              {
    996                  switch (uiFunctionCode)
   \   00000046   E002               LDI     R16, 2
   \   00000048   1680               CP      R8, R16
   \   0000004A   F441               BRNE    ??ReceiveMessage_2
    997                  {
    998          //    case _FC_READ_COILS:
    999          //        break;
   1000          //
   1001                  case _FC_READ_DISCRETE_INPUTS:
   1002                      ReadDiscreteInputsReceive(&puiResponse[uiOffset + 2], uiLength);
   \   0000004C   01A5               MOVW    R21:R20, R11:R10
   \   0000004E   0192               MOVW    R19:R18, R5:R4
   \   00000050   0F28               ADD     R18, R24
   \   00000052   1F39               ADC     R19, R25
   \   00000054   5F2E               SUBI    R18, 254
   \   00000056   4F3F               SBCI    R19, 255
   \   00000058   018D               MOVW    R17:R16, R27:R26
   \   0000005A   ....               RCALL   ??ReadDiscreteInputsReceive
   1003                      break;
   1004          
   1005          //    case _FC_READ_HOLDING_REGISTERS:
   1006          //        break;
   1007          //
   1008          //    case _FC_READ_INPUT_REGISTERS:
   1009          //        break;
   1010          //
   1011          //    case _FC_WRITE_SINGLE_COIL:
   1012          //        break;
   1013          //
   1014          //    case _FC_WRITE_SINGLE_REGISTER:
   1015          //        break;
   1016          //
   1017          //    case _FC_READ_EXCEPTION_STATUS:
   1018          //        break;
   1019          //
   1020          //    case _FC_WRITE_MULTIPLE_COILS:
   1021          //        break;
   1022          //
   1023          //    case _FC_PROGRAMMING_COMPLETION_REQUEST:
   1024          //        break;
   1025          //
   1026          //    case _FC_WRITE_MULTIPLE_REGISTERS:
   1027          //        break;
   1028          //
   1029          //    case _FC_REPORT_SLAVE_ID:
   1030          //        break;
   1031          //
   1032          //    case _FC_WRITE_AND_READ_REGISTERS:
   1033          //        break;
   1034          //
   1035          //    case _FC_DATA_EXCHANGE:
   1036          //        break;
   1037          //
   1038          //    case _FC_DATA_BASE_READ:
   1039          //        break;
   1040          //
   1041          //    case _FC_DATA_BASE_WRITE:
   1042          //        break;
   1043          //
   1044          //    case _FC_PROGRAMMING:
   1045          //        break;
   1046          
   1047                  default:
   1048                      break;
   1049                  }
   1050                  return 1;
   \                     ??ReceiveMessage_2:
   \   0000005C   E001               LDI     R16, 1
   \   0000005E   E010               LDI     R17, 0
   \   00000060   C02D               RJMP    ??ReceiveMessage_3
   1051              }
   1052              else if (uiLength == (uiOffset + 2 + CRC_LENGTH()) &&
   1053                       (uiFunctionCode & 0x80))
   \                     ??ReceiveMessage_1:
   \   00000062   018D               MOVW    R17:R16, R27:R26
   \   00000064   01FD               MOVW    R31:R30, R27:R26
   \   00000066   8121               LDD     R18, Z+1
   \   00000068   8132               LDD     R19, Z+2
   \   0000006A   01F9               MOVW    R31:R30, R19:R18
   \   0000006C   9670               ADIW    R31:R30, 16
   \   0000006E   9125               LPM     R18, Z+
   \   00000070   9134               LPM     R19, Z
   \   00000072   9771               SBIW    R31:R30, 17
   \   00000074   01F9               MOVW    R31:R30, R19:R18
   \   00000076   9509               ICALL
   \   00000078   0198               MOVW    R19:R18, R17:R16
   \   0000007A   018C               MOVW    R17:R16, R25:R24
   \   0000007C   0F02               ADD     R16, R18
   \   0000007E   1F13               ADC     R17, R19
   \   00000080   5F0E               SUBI    R16, 254
   \   00000082   4F1F               SBCI    R17, 255
   \   00000084   16A0               CP      R10, R16
   \   00000086   06B1               CPC     R11, R17
   \   00000088   F431               BRNE    ??ReceiveMessage_4
   \   0000008A   FA87               BST     R8, 7
   \   0000008C   F416               BRTC    ??ReceiveMessage_5
   \   0000008E   E001               LDI     R16, 1
   \   00000090   C003               RJMP    ??ReceiveMessage_6
   \                     ??ReceiveMessage_5:
   \   00000092   E000               LDI     R16, 0
   \   00000094   C001               RJMP    ??ReceiveMessage_6
   \                     ??ReceiveMessage_4:
   \   00000096   E000               LDI     R16, 0
   \                     ??ReceiveMessage_6:
   \   00000098   2300               TST     R16
   \   0000009A   F071               BREQ    ??ReceiveMessage_7
   1054              {
   1055                  /* EXCEPTION CODE RECEIVED */
   1056                  int8_t uiExceptionCode =
   1057                      puiResponse[uiOffset + MODBUS_EXCEPTION_CODE_OFFSET];
   \   0000009C   01F2               MOVW    R31:R30, R5:R4
   \   0000009E   0FE8               ADD     R30, R24
   \   000000A0   1FF9               ADC     R31, R25
   \   000000A2   8121               LDD     R18, Z+1
   1058                  if (uiExceptionCode < MODBUS_EXCEPTION_MAX)
   \   000000A4   302C               CPI     R18, 12
   \   000000A6   F42C               BRGE    ??ReceiveMessage_8
   1059                  {
   1060                      return MODBUS_ENOBASE + uiExceptionCode;
   \   000000A8   2F02               MOV     R16, R18
   \   000000AA   2F10               MOV     R17, R16
   \   000000AC   0F11               LSL     R17
   \   000000AE   0B11               SBC     R17, R17
   \   000000B0   C005               RJMP    ??ReceiveMessage_3
   1061                  }
   1062                  else
   1063                  {
   1064                      return EMBBADEXC;
   \                     ??ReceiveMessage_8:
   \   000000B2   E00E               LDI     R16, 14
   \   000000B4   E010               LDI     R17, 0
   \   000000B6   C002               RJMP    ??ReceiveMessage_3
   1065                  }
   1066              }
   1067          
   1068              return 1;
   \                     ??ReceiveMessage_7:
   \   000000B8   E001               LDI     R16, 1
   \   000000BA   E010               LDI     R17, 0
   \                     ??ReceiveMessage_3:
   \   000000BC   E0EC               LDI     R30, 12
   \   000000BE   ........           JMP     ?EPILOGUE_B12_L09
   1069          }

   \                                 In  segment SWITCH, align 2, keep-with-next
   \                     `?<Jumptable for Reply>_0`:
   \   00000000   01                 DB      1
   \   00000001   01                 DB      1
   \   00000002   ....               DW      (??Reply_17) /2
   \   00000004   ....               DW      (??Reply_3) /2
   \   00000006   01                 DB      0x1
   \   00000007   ....               DW      (??Reply_5) /2
   \   00000009   01                 DB      0x1
   \   0000000A   ....               DW      (??Reply_6) /2
   \   0000000C   01                 DB      0x1
   \   0000000D   ....               DW      (??Reply_7) /2
   \   0000000F   01                 DB      0x1
   \   00000010   ....               DW      (??Reply_8) /2
   \   00000012   01                 DB      0x1
   \   00000013   ....               DW      (??Reply_9) /2
   \   00000015   01                 DB      0x1
   \   00000016   ....               DW      (??Reply_10) /2
   \   00000018   07                 DB      0x7
   \   00000019   ....               DW      (??Reply_12) /2
   \   0000001B   01                 DB      0x1
   \   0000001C   ....               DW      (??Reply_11) /2
   \   0000001E   01                 DB      0x1
   \   0000001F   ....               DW      (??Reply_13) /2
   \   00000021   01                 DB      0x1
   \   00000022   ....               DW      (??Reply_14) /2
   \   00000024   06                 DB      0x6
   \   00000025   ....               DW      (??Reply_15) /2
   \   00000027   2A                 DB      0x2a
   \   00000028   ....               DW      (??Reply_4) /2
   \   0000002A   03                 DB      0x3
   \   0000002B   ....               DW      (??Reply_4) /2
   \   0000002D   01                 DB      0x1
   \   0000002E   ....               DW      (??Reply_4) /2
   \   00000030   01                 DB      0x1
   \   00000031   ....               DW      (??Reply_16) /2
   \   00000033   FB                 DB      251

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 CModbus &CModbus::new CModbus()
   \                     `??new CModbus`:
   \   00000000   E202               LDI     R16, 34
   \   00000002   E010               LDI     R17, 0
   \   00000004   ........           CALL    `??operator new`
   \   00000008   2F20               MOV     R18, R16
   \   0000000A   2B21               OR      R18, R17
   \   0000000C   F011               BREQ    `??new CModbus_1`
   \   0000000E   ....               RCALL   ??CModbus
   \   00000010   9508               RET
   \                     `??new CModbus_1`:
   \   00000012   E000               LDI     R16, 0
   \   00000014   E010               LDI     R17, 0
   \   00000016   9508               RET

   Maximum stack usage in bytes:

   CSTACK RSTACK Function
   ------ ------ --------
      0      2   CDataBase::GetBlocksNumber()
      0      2   CDataStore::GetFsmEvent()
      0      2   CDfaLite::GetFsmState()
      0      2   CDfaLite::SetFsmState(uint8_t)
     14      2   CModbus::ByteToBitPack(uint16_t, uint16_t, uint8_t *, uint8_t *, uint16_t)
       14      2 ?S_SHL_L02
      2      2   CModbus::CModbus()
        2      2   -> CDfa::CDfa()
      0      2   CModbus::CRC_LENGTH()
      2      2   CModbus::GetByteFromBits(uint8_t const *, int16_t, uint16_t)
        2      2 ?S_SHL_L02
      8      2   CModbus::GetFloat(uint16_t const *)
      0      2   CModbus::HEADER_LENGTH()
      2      2   CModbus::MessengerIsReady()
        2      2   -> CDfaLite::GetFsmState()
     12      2   CModbus::PollProgramming(uint8_t *, uint8_t *, uint16_t)
       12      2   -- Indirect call
       12      2   -> CDataStore::GetFsmEvent()
       12      2   -> CModbus::ResponseException(uint8_t, uint8_t, uint8_t, uint8_t *)
     16      2   CModbus::Programming(uint8_t *, uint8_t *, uint16_t)
       16      2   -- Indirect call
       16      2   -> CDataBase::GetBlockLength(uint8_t)
       16      2   -> CDataBase::GetBlocksNumber()
       16      2   -> CDataBase::ReadBlock(uint8_t *, uint8_t)
       16      2   -> CDataBase::SignatureCreate()
       16      2   -> CDataBase::WriteBlock(uint8_t *, uint8_t)
       16      2   -> CDataStore::GetFsmEvent()
       16      2   -> CModbus::ResponseException(uint8_t, uint8_t, uint8_t, uint8_t *)
       16      2   -> CPss21::SetFsmState(uint8_t)
     20      2   CModbus::ReadCoils(uint8_t *, uint8_t *, uint16_t)
       16      2   -- Indirect call
       16      2   -> CModbus::ByteToBitPack(uint16_t, uint16_t, uint8_t *, uint8_t *, uint16_t)
       16      2   -> CModbus::ResponseException(uint8_t, uint8_t, uint8_t, uint8_t *)
       16      2 ?US_SHR_L02
     20      2   CModbus::ReadDiscreteInputs(uint8_t *, uint8_t *, uint16_t)
       16      2   -- Indirect call
       16      2   -> CModbus::ByteToBitPack(uint16_t, uint16_t, uint8_t *, uint8_t *, uint16_t)
       16      2   -> CModbus::ResponseException(uint8_t, uint8_t, uint8_t, uint8_t *)
       16      2 ?US_SHR_L02
      0      2   CModbus::ReadDiscreteInputsReceive(uint8_t *, uint16_t)
      9      2   CModbus::ReadDiscreteInputsRequest(uint8_t, uint16_t, uint16_t)
        7      2   -- Indirect call
        7      2   -> CDfaLite::SetFsmState(uint8_t)
      0      2   CModbus::ReadExceptionStatus(uint8_t *, uint8_t *, uint16_t)
     16      2   CModbus::ReadHoldingRegisters(uint8_t *, uint8_t *, uint16_t)
       16      2   -- Indirect call
       16      2   -> CModbus::ResponseException(uint8_t, uint8_t, uint8_t, uint8_t *)
     16      2   CModbus::ReadInputRegisters(uint8_t *, uint8_t *, uint16_t)
       16      2   -- Indirect call
       16      2   -> CModbus::ResponseException(uint8_t, uint8_t, uint8_t, uint8_t *)
     12      2   CModbus::ReceiveMessage(uint8_t *, uint16_t)
       12      2   -- Indirect call
       12      2   -> CModbus::ReadDiscreteInputsReceive(uint8_t *, uint16_t)
     15      2   CModbus::Reply(uint8_t *, uint8_t *, uint16_t)
       15      2   -- Indirect call
       15      2   -> CModbus::PollProgramming(uint8_t *, uint8_t *, uint16_t)
       15      2   -> CModbus::Programming(uint8_t *, uint8_t *, uint16_t)
       15      2   -> CModbus::ReadCoils(uint8_t *, uint8_t *, uint16_t)
       15      2   -> CModbus::ReadDiscreteInputs(uint8_t *, uint8_t *, uint16_t)
       15      2   -> CModbus::ReadExceptionStatus(uint8_t *, uint8_t *, uint16_t)
       15      2   -> CModbus::ReadHoldingRegisters(uint8_t *, uint8_t *, uint16_t)
       15      2   -> CModbus::ReadInputRegisters(uint8_t *, uint8_t *, uint16_t)
       15      2   -> CModbus::ReportSlaveID(uint8_t *, uint8_t *, uint16_t)
       15      2   -> CModbus::ResponseException(uint8_t, uint8_t, uint8_t, uint8_t *)
       15      2   -> CModbus::WriteAndReadRegisters(uint8_t *, uint8_t *, uint16_t)
       15      2   -> CModbus::WriteMultipleCoils(uint8_t *, uint8_t *, uint16_t)
       15      2   -> CModbus::WriteMultipleRegisters(uint8_t *, uint8_t *, uint16_t)
       15      2   -> CModbus::WriteSingleCoil(uint8_t *, uint8_t *, uint16_t)
       15      2   -> CModbus::WriteSingleRegister(uint8_t *, uint8_t *, uint16_t)
       15      2 ?CV_SWITCH_L06
     12      2   CModbus::ReportSlaveID(uint8_t *, uint8_t *, uint16_t)
       12      2   -- Indirect call
      9      2   CModbus::ResponseException(uint8_t, uint8_t, uint8_t, uint8_t *)
        9      2   -- Indirect call
      2      2   CModbus::ResponseIsReceived()
        2      2   -> CDfaLite::GetFsmState()
      6      2   CModbus::SendMessage(uint8_t *, uint16_t)
        6      2   -- Indirect call
      2      2   CModbus::SetByteFromBits(uint8_t *, int16_t, uint8_t)
        2      2 ?S_SHL_L02
     10      2   CModbus::SetBytesFromBits(uint8_t *, int16_t, uint16_t, uint8_t const *)
       10      2 ?SS_DIVMOD_L02
       10      2 ?S_SHL_L02
      8      2   CModbus::SetFloat(float, uint16_t *)
      0      2   CModbus::SlaveSet(uint8_t)
      0      2   CModbus::WriteAndReadRegisters(uint8_t *, uint8_t *, uint16_t)
     16      2   CModbus::WriteMultipleCoils(uint8_t *, uint8_t *, uint16_t)
       16      2   -- Indirect call
       16      2   -> CModbus::ResponseException(uint8_t, uint8_t, uint8_t, uint8_t *)
       16      2   -> CPss21::ModbusDeviceControl(uint8_t *, uint16_t, uint16_t)
       16      2   -> memcpy
     16      2   CModbus::WriteMultipleRegisters(uint8_t *, uint8_t *, uint16_t)
       16      2   -- Indirect call
       16      2   -> CModbus::ResponseException(uint8_t, uint8_t, uint8_t, uint8_t *)
       16      2   -> memcpy
     16      2   CModbus::WriteSingleCoil(uint8_t *, uint8_t *, uint16_t)
       16      2   -- Indirect call
       16      2   -> CModbus::ResponseException(uint8_t, uint8_t, uint8_t, uint8_t *)
       16      2   -> CPss21::ModbusDeviceControl(uint8_t, uint16_t)
       16      2   -> memcpy
     14      2   CModbus::WriteSingleRegister(uint8_t *, uint8_t *, uint16_t)
       14      2   -- Indirect call
       14      2   -> CModbus::ResponseException(uint8_t, uint8_t, uint8_t, uint8_t *)
       14      2   -> memcpy
      0      2   CModbus::new CModbus()
        0      2   -> CModbus::CModbus()
        0      2   -> operator new(unsigned int)
      4      2   CModbus::~CModbus()
        4      2   -> CDfa::~CDfa()
        4      2   -> operator delete(void *)
      0      2   CPss21::SetFsmState(uint8_t)


   Segment part sizes:

   Bytes  Function/Label
   -----  --------------
      52  ?<Jumptable for Reply>_0
       4  CDataBase::GetBlocksNumber()
       6  CDataStore::GetFsmEvent()
       6  CDfaLite::GetFsmState()
       6  CDfaLite::SetFsmState(uint8_t)
     112  CModbus::ByteToBitPack(uint16_t, uint16_t, uint8_t *, uint8_t *, uint16_t)
      30  CModbus::CModbus()
       8  CModbus::CRC_LENGTH()
      68  CModbus::GetByteFromBits(uint8_t const *, int16_t, uint16_t)
      92  CModbus::GetFloat(uint16_t const *)
       8  CModbus::HEADER_LENGTH()
      28  CModbus::MessengerIsReady()
     140  CModbus::PollProgramming(uint8_t *, uint8_t *, uint16_t)
     700  CModbus::Programming(uint8_t *, uint8_t *, uint16_t)
     276  CModbus::ReadCoils(uint8_t *, uint8_t *, uint16_t)
     276  CModbus::ReadDiscreteInputs(uint8_t *, uint8_t *, uint16_t)
       8  CModbus::ReadDiscreteInputsReceive(uint8_t *, uint16_t)
     140  CModbus::ReadDiscreteInputsRequest(uint8_t, uint16_t, uint16_t)
       8  CModbus::ReadExceptionStatus(uint8_t *, uint8_t *, uint16_t)
     306  CModbus::ReadHoldingRegisters(uint8_t *, uint8_t *, uint16_t)
     306  CModbus::ReadInputRegisters(uint8_t *, uint8_t *, uint16_t)
     194  CModbus::ReceiveMessage(uint8_t *, uint16_t)
     314  CModbus::Reply(uint8_t *, uint8_t *, uint16_t)
     140  CModbus::ReportSlaveID(uint8_t *, uint8_t *, uint16_t)
      70  CModbus::ResponseException(uint8_t, uint8_t, uint8_t, uint8_t *)
      28  CModbus::ResponseIsReceived()
      70  CModbus::SendMessage(uint8_t *, uint16_t)
      68  CModbus::SetByteFromBits(uint8_t *, int16_t, uint8_t)
     108  CModbus::SetBytesFromBits(uint8_t *, int16_t, uint16_t, uint8_t const *)
      82  CModbus::SetFloat(float, uint16_t *)
       6  CModbus::SlaveSet(uint8_t)
       8  CModbus::WriteAndReadRegisters(uint8_t *, uint8_t *, uint16_t)
     244  CModbus::WriteMultipleCoils(uint8_t *, uint8_t *, uint16_t)
     300  CModbus::WriteMultipleRegisters(uint8_t *, uint8_t *, uint16_t)
     206  CModbus::WriteSingleCoil(uint8_t *, uint8_t *, uint16_t)
     170  CModbus::WriteSingleRegister(uint8_t *, uint8_t *, uint16_t)
      24  CModbus::new CModbus()
      40  CModbus::~CModbus()
       6  CPss21::SetFsmState(uint8_t)
       1  _A_ACSR
       2  _A_ADC
       1  _A_ADCSRA
       1  _A_ADMUX
       1  _A_ASSR
       1  _A_DDRA
       1  _A_DDRB
       1  _A_DDRC
       1  _A_DDRD
       1  _A_DDRE
       1  _A_DDRF
       1  _A_DDRG
       2  _A_EEAR
       1  _A_EECR
       1  _A_EEDR
       1  _A_EICRA
       1  _A_EICRB
       1  _A_EIFR
       1  _A_EIMSK
       1  _A_ETIFR
       1  _A_ETIMSK
       2  _A_ICR1
       2  _A_ICR3
       1  _A_MCUCR
       1  _A_MCUCSR
       1  _A_OCDR
       1  _A_OCR0
       2  _A_OCR1A
       2  _A_OCR1B
       2  _A_OCR1C
       1  _A_OCR2
       2  _A_OCR3A
       2  _A_OCR3B
       2  _A_OCR3C
       1  _A_OSCCAL
       1  _A_PINA
       1  _A_PINB
       1  _A_PINC
       1  _A_PIND
       1  _A_PINE
       1  _A_PINF
       1  _A_PING
       1  _A_PORTA
       1  _A_PORTB
       1  _A_PORTC
       1  _A_PORTD
       1  _A_PORTE
       1  _A_PORTF
       1  _A_PORTG
       1  _A_RAMPZ
       1  _A_SFIOR
       2  _A_SP
       1  _A_SPCR
       1  _A_SPDR
       1  _A_SPMCSR
       1  _A_SPSR
       1  _A_SREG
       1  _A_TCCR0
       1  _A_TCCR1A
       1  _A_TCCR1B
       1  _A_TCCR1C
       1  _A_TCCR2
       1  _A_TCCR3A
       1  _A_TCCR3B
       1  _A_TCCR3C
       1  _A_TCNT0
       2  _A_TCNT1
       1  _A_TCNT2
       2  _A_TCNT3
       1  _A_TIFR
       1  _A_TIMSK
       1  _A_TWAR
       1  _A_TWBR
       1  _A_TWCR
       1  _A_TWDR
       1  _A_TWSR
       1  _A_UBRR0H
       1  _A_UBRR0L
       1  _A_UBRR1H
       1  _A_UBRR1L
       1  _A_UCSR0A
       1  _A_UCSR0B
       1  _A_UCSR0C
       1  _A_UCSR1A
       1  _A_UCSR1B
       1  _A_UCSR1C
       1  _A_UDR0
       1  _A_UDR1
       1  _A_WDTCR
       1  _A_XDIV
       1  _A_XMCRA
       1  _A_XMCRB
      40  -- Other

 
   105 bytes in segment ABSOLUTE
 4 606 bytes in segment CODE
    40 bytes in segment NEAR_F
    52 bytes in segment SWITCH
 
 4 636 bytes of CODE memory (+  62 bytes shared)
     0 bytes of DATA memory (+ 105 bytes shared)

Errors: none
Warnings: 7

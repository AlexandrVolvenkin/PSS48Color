###############################################################################
#
# IAR C/C++ Compiler V7.10.6.1378 for Atmel AVR           30/May/2023  15:39:51
# Copyright 1996-2018 IAR Systems AB.
#
#    Source file  =  
#        D:\Projects\CurrentProjects\CautoProjects\PSS48Color\src\ModuleMrXX.cpp
#    Command line =  
#        -f C:\Users\ghost\AppData\Local\Temp\EW3B57.tmp
#        (--string_literals_in_flash
#        D:\Projects\CurrentProjects\CautoProjects\PSS48Color\src\ModuleMrXX.cpp
#        --cpu=m128a -ms -o
#        D:\Projects\CurrentProjects\CautoProjects\PSS48Color\Debug\Obj -lC
#        D:\Projects\CurrentProjects\CautoProjects\PSS48Color\Debug\List -lB
#        D:\Projects\CurrentProjects\CautoProjects\PSS48Color\Debug\List -y
#        --initializers_in_flash --root_variables --debug
#        -DENABLE_BIT_DEFINITIONS -e -I
#        D:\Projects\CurrentProjects\CautoProjects\PSS48Color\Modbus\ -I
#        D:\Projects\CurrentProjects\CautoProjects\PSS48Color\include\
#        --eeprom_size 4096 --dlib --dlib_config "C:\Program Files (x86)\IAR
#        Systems\Embedded Workbench 8.0\avr\LIB\DLIB\dlAVR-3s-ec_mul-n.h" -Ohz
#        --eec++)
#    Locale       =  Russian_RUS.1251
#    List file    =  
#        D:\Projects\CurrentProjects\CautoProjects\PSS48Color\Debug\List\ModuleMrXX.lst
#    Object file  =  
#        D:\Projects\CurrentProjects\CautoProjects\PSS48Color\Debug\Obj\ModuleMrXX.r90
#
###############################################################################

D:\Projects\CurrentProjects\CautoProjects\PSS48Color\src\ModuleMrXX.cpp
      1          //-----------------------------------------------------------------------------------------------------
      2          //  Source      : FileName.cpp
      3          //  Created     : 01.06.2022
      4          //  Author      : Alexandr Volvenkin
      5          //  email       : aav-36@mail.ru
      6          //  GitHub      : https://github.com/AlexandrVolvenkin
      7          //-----------------------------------------------------------------------------------------------------
      8          #include "ModuleMrXX.h"
      9          #include "Platform.h"

   \                                 In  segment ABSOLUTE, at 0x9d, root
   \   union <unnamed> volatile __io _A_UCSR1C
   \                     _A_UCSR1C:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x9c, root
   \   union <unnamed> volatile __io _A_UDR1
   \                     _A_UDR1:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x9b, root
   \   union <unnamed> volatile __io _A_UCSR1A
   \                     _A_UCSR1A:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x9a, root
   \   union <unnamed> volatile __io _A_UCSR1B
   \                     _A_UCSR1B:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x99, root
   \   union <unnamed> volatile __io _A_UBRR1L
   \                     _A_UBRR1L:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x98, root
   \   union <unnamed> volatile __io _A_UBRR1H
   \                     _A_UBRR1H:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x95, root
   \   union <unnamed> volatile __io _A_UCSR0C
   \                     _A_UCSR0C:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x90, root
   \   union <unnamed> volatile __io _A_UBRR0H
   \                     _A_UBRR0H:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x8c, root
   \   union <unnamed> volatile __io _A_TCCR3C
   \                     _A_TCCR3C:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x8b, root
   \   union <unnamed> volatile __io _A_TCCR3A
   \                     _A_TCCR3A:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x8a, root
   \   union <unnamed> volatile __io _A_TCCR3B
   \                     _A_TCCR3B:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x88, root
   \   union <unnamed> volatile __io _A_TCNT3
   \                     _A_TCNT3:
   \   00000000                      DS8 2

   \                                 In  segment ABSOLUTE, at 0x86, root
   \   union <unnamed> volatile __io _A_OCR3A
   \                     _A_OCR3A:
   \   00000000                      DS8 2

   \                                 In  segment ABSOLUTE, at 0x84, root
   \   union <unnamed> volatile __io _A_OCR3B
   \                     _A_OCR3B:
   \   00000000                      DS8 2

   \                                 In  segment ABSOLUTE, at 0x82, root
   \   union <unnamed> volatile __io _A_OCR3C
   \                     _A_OCR3C:
   \   00000000                      DS8 2

   \                                 In  segment ABSOLUTE, at 0x80, root
   \   union <unnamed> volatile __io _A_ICR3
   \                     _A_ICR3:
   \   00000000                      DS8 2

   \                                 In  segment ABSOLUTE, at 0x7d, root
   \   union <unnamed> volatile __io _A_ETIMSK
   \                     _A_ETIMSK:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x7c, root
   \   union <unnamed> volatile __io _A_ETIFR
   \                     _A_ETIFR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x7a, root
   \   union <unnamed> volatile __io _A_TCCR1C
   \                     _A_TCCR1C:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x78, root
   \   union <unnamed> volatile __io _A_OCR1C
   \                     _A_OCR1C:
   \   00000000                      DS8 2

   \                                 In  segment ABSOLUTE, at 0x74, root
   \   union <unnamed> volatile __io _A_TWCR
   \                     _A_TWCR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x73, root
   \   union <unnamed> volatile __io _A_TWDR
   \                     _A_TWDR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x72, root
   \   union <unnamed> volatile __io _A_TWAR
   \                     _A_TWAR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x71, root
   \   union <unnamed> volatile __io _A_TWSR
   \                     _A_TWSR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x70, root
   \   union <unnamed> volatile __io _A_TWBR
   \                     _A_TWBR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x6f, root
   \   union <unnamed> volatile __io _A_OSCCAL
   \                     _A_OSCCAL:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x6d, root
   \   union <unnamed> volatile __io _A_XMCRA
   \                     _A_XMCRA:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x6c, root
   \   union <unnamed> volatile __io _A_XMCRB
   \                     _A_XMCRB:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x6a, root
   \   union <unnamed> volatile __io _A_EICRA
   \                     _A_EICRA:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x68, root
   \   union <unnamed> volatile __io _A_SPMCSR
   \                     _A_SPMCSR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x65, root
   \   union <unnamed> volatile __io _A_PORTG
   \                     _A_PORTG:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x64, root
   \   union <unnamed> volatile __io _A_DDRG
   \                     _A_DDRG:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x63, root
   \   union <unnamed> volatile __io _A_PING
   \                     _A_PING:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x62, root
   \   union <unnamed> volatile __io _A_PORTF
   \                     _A_PORTF:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x61, root
   \   union <unnamed> volatile __io _A_DDRF
   \                     _A_DDRF:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x5f, root
   \   union <unnamed> volatile __io _A_SREG
   \                     _A_SREG:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x5d, root
   \   union <unnamed> volatile __io _A_SP
   \                     _A_SP:
   \   00000000                      DS8 2

   \                                 In  segment ABSOLUTE, at 0x5c, root
   \   union <unnamed> volatile __io _A_XDIV
   \                     _A_XDIV:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x5b, root
   \   union <unnamed> volatile __io _A_RAMPZ
   \                     _A_RAMPZ:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x5a, root
   \   union <unnamed> volatile __io _A_EICRB
   \                     _A_EICRB:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x59, root
   \   union <unnamed> volatile __io _A_EIMSK
   \                     _A_EIMSK:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x58, root
   \   union <unnamed> volatile __io _A_EIFR
   \                     _A_EIFR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x57, root
   \   union <unnamed> volatile __io _A_TIMSK
   \                     _A_TIMSK:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x56, root
   \   union <unnamed> volatile __io _A_TIFR
   \                     _A_TIFR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x55, root
   \   union <unnamed> volatile __io _A_MCUCR
   \                     _A_MCUCR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x54, root
   \   union <unnamed> volatile __io _A_MCUCSR
   \                     _A_MCUCSR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x53, root
   \   union <unnamed> volatile __io _A_TCCR0
   \                     _A_TCCR0:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x52, root
   \   union <unnamed> volatile __io _A_TCNT0
   \                     _A_TCNT0:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x51, root
   \   union <unnamed> volatile __io _A_OCR0
   \                     _A_OCR0:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x50, root
   \   union <unnamed> volatile __io _A_ASSR
   \                     _A_ASSR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x4f, root
   \   union <unnamed> volatile __io _A_TCCR1A
   \                     _A_TCCR1A:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x4e, root
   \   union <unnamed> volatile __io _A_TCCR1B
   \                     _A_TCCR1B:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x4c, root
   \   union <unnamed> volatile __io _A_TCNT1
   \                     _A_TCNT1:
   \   00000000                      DS8 2

   \                                 In  segment ABSOLUTE, at 0x4a, root
   \   union <unnamed> volatile __io _A_OCR1A
   \                     _A_OCR1A:
   \   00000000                      DS8 2

   \                                 In  segment ABSOLUTE, at 0x48, root
   \   union <unnamed> volatile __io _A_OCR1B
   \                     _A_OCR1B:
   \   00000000                      DS8 2

   \                                 In  segment ABSOLUTE, at 0x46, root
   \   union <unnamed> volatile __io _A_ICR1
   \                     _A_ICR1:
   \   00000000                      DS8 2

   \                                 In  segment ABSOLUTE, at 0x45, root
   \   union <unnamed> volatile __io _A_TCCR2
   \                     _A_TCCR2:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x44, root
   \   union <unnamed> volatile __io _A_TCNT2
   \                     _A_TCNT2:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x43, root
   \   union <unnamed> volatile __io _A_OCR2
   \                     _A_OCR2:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x42, root
   \   union <unnamed> volatile __io _A_OCDR
   \                     _A_OCDR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x41, root
   \   union <unnamed> volatile __io _A_WDTCR
   \                     _A_WDTCR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x40, root
   \   union <unnamed> volatile __io _A_SFIOR
   \                     _A_SFIOR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x3e, root
   \   union <unnamed> volatile __io _A_EEAR
   \                     _A_EEAR:
   \   00000000                      DS8 2

   \                                 In  segment ABSOLUTE, at 0x3d, root
   \   union <unnamed> volatile __io _A_EEDR
   \                     _A_EEDR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x3c, root
   \   union <unnamed> volatile __io _A_EECR
   \                     _A_EECR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x3b, root
   \   union <unnamed> volatile __io _A_PORTA
   \                     _A_PORTA:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x3a, root
   \   union <unnamed> volatile __io _A_DDRA
   \                     _A_DDRA:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x39, root
   \   union <unnamed> volatile __io _A_PINA
   \                     _A_PINA:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x38, root
   \   union <unnamed> volatile __io _A_PORTB
   \                     _A_PORTB:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x37, root
   \   union <unnamed> volatile __io _A_DDRB
   \                     _A_DDRB:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x36, root
   \   union <unnamed> volatile __io _A_PINB
   \                     _A_PINB:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x35, root
   \   union <unnamed> volatile __io _A_PORTC
   \                     _A_PORTC:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x34, root
   \   union <unnamed> volatile __io _A_DDRC
   \                     _A_DDRC:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x33, root
   \   union <unnamed> volatile __io _A_PINC
   \                     _A_PINC:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x32, root
   \   union <unnamed> volatile __io _A_PORTD
   \                     _A_PORTD:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x31, root
   \   union <unnamed> volatile __io _A_DDRD
   \                     _A_DDRD:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x30, root
   \   union <unnamed> volatile __io _A_PIND
   \                     _A_PIND:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x2f, root
   \   union <unnamed> volatile __io _A_SPDR
   \                     _A_SPDR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x2e, root
   \   union <unnamed> volatile __io _A_SPSR
   \                     _A_SPSR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x2d, root
   \   union <unnamed> volatile __io _A_SPCR
   \                     _A_SPCR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x2c, root
   \   union <unnamed> volatile __io _A_UDR0
   \                     _A_UDR0:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x2b, root
   \   union <unnamed> volatile __io _A_UCSR0A
   \                     _A_UCSR0A:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x2a, root
   \   union <unnamed> volatile __io _A_UCSR0B
   \                     _A_UCSR0B:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x29, root
   \   union <unnamed> volatile __io _A_UBRR0L
   \                     _A_UBRR0L:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x28, root
   \   union <unnamed> volatile __io _A_ACSR
   \                     _A_ACSR:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x27, root
   \   union <unnamed> volatile __io _A_ADMUX
   \                     _A_ADMUX:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x26, root
   \   union <unnamed> volatile __io _A_ADCSRA
   \                     _A_ADCSRA:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x24, root
   \   union <unnamed> volatile __io _A_ADC
   \                     _A_ADC:
   \   00000000                      DS8 2

   \                                 In  segment ABSOLUTE, at 0x23, root
   \   union <unnamed> volatile __io _A_PORTE
   \                     _A_PORTE:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x22, root
   \   union <unnamed> volatile __io _A_DDRE
   \                     _A_DDRE:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x21, root
   \   union <unnamed> volatile __io _A_PINE
   \                     _A_PINE:
   \   00000000                      DS8 1

   \                                 In  segment ABSOLUTE, at 0x20, root
   \   union <unnamed> volatile __io _A_PINF
   \                     _A_PINF:
   \   00000000                      DS8 1

      static __flash TDataBase CFlash::xMainDataBase;
                               ^
"D:\Projects\CurrentProjects\CautoProjects\PSS48Color\include\Platform.h",368  Warning[Pe427]: 
          qualified name is not allowed in member declaration

      static __flash TDataBaseBlockPositionData CFlash::axDataBaseBlocksPositionData[];
                                                ^
"D:\Projects\CurrentProjects\CautoProjects\PSS48Color\include\Platform.h",369  Warning[Pe427]: 
          qualified name is not allowed in member declaration
     10          #include "Pss21.h"

      virtual bool IsSolved(void) {};
                                   ^
"D:\Projects\CurrentProjects\CautoProjects\PSS48Color\include\Task.h",20  Warning[Pe940]: 
          missing return statement at end of non-void function
          "CTaskInterface::IsSolved"

      virtual bool IsSourceStateActive(void) {};
                                              ^
"D:\Projects\CurrentProjects\CautoProjects\PSS48Color\include\Task.h",23  Warning[Pe940]: 
          missing return statement at end of non-void function
          "CTaskInterface::IsSourceStateActive"

      bool IsSolved(void) {};
                           ^
"D:\Projects\CurrentProjects\CautoProjects\PSS48Color\include\Task.h",58  Warning[Pe940]: 
          missing return statement at end of non-void function
          "CIsRegularButtonPressedInterface::IsSolved"

      virtual bool IsSourceStateActive(void) {};
                                              ^
"D:\Projects\CurrentProjects\CautoProjects\PSS48Color\include\Task.h",61  Warning[Pe940]: 
          missing return statement at end of non-void function
          "CIsRegularButtonPressedInterface::IsSourceStateActive"

      virtual uint16_t KEY_PRESSED_TIME(void) {};
                                               ^
"D:\Projects\CurrentProjects\CautoProjects\PSS48Color\include\Task.h",63  Warning[Pe940]: 
          missing return statement at end of non-void function
          "CIsRegularButtonPressedInterface::KEY_PRESSED_TIME"
     11          #include "Crc.h"
     12          
     13          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
     14          CModuleMrXXDriver::CModuleMrXXDriver()
   \                     ??CModuleMrXXDriver_1:
   \   00000000   93BA               ST      -Y, R27
   \   00000002   93AA               ST      -Y, R26
   \   00000004   01D8               MOVW    R27:R26, R17:R16
     15          {
   \   00000006   ....               RCALL   ?Subroutine0
     16          
     17          }
   \                     ??CrossCallReturnLabel_1:
   \   00000008   018D               MOVW    R17:R16, R27:R26
   \   0000000A                      REQUIRE ?Subroutine12
   \   0000000A                      ;               // Fall through to label ?Subroutine12

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine12:
   \   00000000   91A9               LD      R26, Y+
   \   00000002   91B9               LD      R27, Y+
   \   00000004   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine0:
   \   00000000   5F05               SUBI    R16, 245
   \   00000002   4F1F               SBCI    R17, 255
   \   00000004   ........           CALL    ??CDfa
   \   00000008   ....               LDI     R16, LOW(??__vtbl_3)
   \   0000000A   ....               LDI     R17, (??__vtbl_3) >> 8
   \   0000000C   01FD               MOVW    R31:R30, R27:R26
   \   0000000E   8701               STD     Z+9, R16
   \   00000010   8712               STD     Z+10, R17
   \   00000012   ....               LDI     R16, LOW(??__vtbl_CDfa)
   \   00000014   ....               LDI     R17, (??__vtbl_CDfa) >> 8
   \   00000016   8704               STD     Z+12, R16
   \   00000018   8715               STD     Z+13, R17
   \   0000001A   9508               RET
     18          
     19          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
     20          CModuleMrXXDriver::CModuleMrXXDriver(uint8_t uiType)
   \                     ??CModuleMrXXDriver:
   \   00000000   ........           CALL    ?PROLOGUE4_L09
   \   00000004   01D8               MOVW    R27:R26, R17:R16
   \   00000006   2F82               MOV     R24, R18
     21          {
   \   00000008   ....               RCALL   ?Subroutine0
     22              m_uiType = uiType;
   \                     ??CrossCallReturnLabel_0:
   \   0000000A   938C               ST      X, R24
     23              SetFsmState(MRXX_FSM_STATE_WRITE_DATABASE);
   \   0000000C   E000               LDI     R16, 0
   \   0000000E   8703               STD     Z+11, R16
     24          }
   \   00000010   018D               MOVW    R17:R16, R27:R26
   \   00000012                      REQUIRE ?Subroutine11
   \   00000012                      ;               // Fall through to label ?Subroutine11

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine11:
   \   00000000   E0E4               LDI     R30, 4
   \   00000002   ........           JMP     ?EPILOGUE_B4_L09
     25          
     26          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
     27          CModuleMrXXDriver::~CModuleMrXXDriver()
   \                     `?~CModuleMrXXDriver`:
     28          {
   \   00000000   ........           CALL    ?PROLOGUE3_L09
   \   00000004   01C8               MOVW    R25:R24, R17:R16
   \   00000006   2FA2               MOV     R26, R18
   \   00000008   2B09               OR      R16, R25
   \   0000000A   F061               BREQ    `?~CModuleMrXXDriver_1`
     29          
     30          }
   \   0000000C   E020               LDI     R18, 0
   \   0000000E   E030               LDI     R19, 0
   \   00000010   2F08               MOV     R16, R24
   \   00000012   5F05               SUBI    R16, 245
   \   00000014   4F1F               SBCI    R17, 255
   \   00000016   ........           CALL    `?~CDfa`
   \   0000001A   FBA0               BST     R26, 0
   \   0000001C   F41E               BRTC    `?~CModuleMrXXDriver_1`
   \   0000001E   018C               MOVW    R17:R16, R25:R24
   \   00000020   ........           CALL    `??operator delete`
   \                     `?~CModuleMrXXDriver_1`:
   \   00000024   E0E3               LDI     R30, 3
   \   00000026   ........           JMP     ?EPILOGUE_B3_L09
     31          
     32          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
     33          void CModuleMrXXDriver::Allocate(TMemoryAllocationConext &xMemoryAllocationConext)
   \                     ??Allocate:
     34          {
   \   00000000   011D               MOVW    R3:R2, R27:R26
   \   00000002   01D8               MOVW    R27:R26, R17:R16
     35              m_uiAddress = xMemoryAllocationConext.uiAddress;
   \   00000004   01F9               MOVW    R31:R30, R19:R18
   \   00000006   8100               LD      R16, Z
   \   00000008   01FD               MOVW    R31:R30, R27:R26
   \   0000000A   8B00               STD     Z+16, R16
     36              m_puiRxBuffer = xMemoryAllocationConext.puiRxBuffer;
   \   0000000C   01F9               MOVW    R31:R30, R19:R18
   \   0000000E   8101               LDD     R16, Z+1
   \   00000010   8112               LDD     R17, Z+2
   \   00000012   01FD               MOVW    R31:R30, R27:R26
   \   00000014   8B01               STD     Z+17, R16
   \   00000016   8B12               STD     Z+18, R17
     37              m_puiTxBuffer = xMemoryAllocationConext.puiTxBuffer;
   \   00000018   01F9               MOVW    R31:R30, R19:R18
   \   0000001A   8103               LDD     R16, Z+3
   \   0000001C   8114               LDD     R17, Z+4
   \   0000001E   01FD               MOVW    R31:R30, R27:R26
   \   00000020   8B03               STD     Z+19, R16
   \   00000022   8B14               STD     Z+20, R17
     38              m_puiErrorCode = xMemoryAllocationConext.puiErrorCode;
   \   00000024   01F9               MOVW    R31:R30, R19:R18
   \   00000026   8105               LDD     R16, Z+5
   \   00000028   8116               LDD     R17, Z+6
   \   0000002A   01FD               MOVW    R31:R30, R27:R26
   \   0000002C   8305               STD     Z+5, R16
   \   0000002E   8316               STD     Z+6, R17
     39              // Получим указатель на массив дискретных входов.
     40              m_puiDiscreteInputs = xMemoryAllocationConext.puiDiscreteInputs;
   \   00000030   01F9               MOVW    R31:R30, R19:R18
   \   00000032   8107               LDD     R16, Z+7
   \   00000034   8510               LDD     R17, Z+8
   \   00000036   01FD               MOVW    R31:R30, R27:R26
   \   00000038   8B05               STD     Z+21, R16
   \   0000003A   8B16               STD     Z+22, R17
     41          
     42              // Получим указатель на массив базы данных.
     43              m_pxDiscreteOutputDataBase = xMemoryAllocationConext.pxDiscreteOutputDataBase;//debag//
   \   0000003C   01F9               MOVW    R31:R30, R19:R18
   \   0000003E   8900               LDD     R16, Z+16
   \   00000040   8911               LDD     R17, Z+17
   \   00000042   01FD               MOVW    R31:R30, R27:R26
   \   00000044   8F03               STD     Z+27, R16
   \   00000046   8F14               STD     Z+28, R17
     44          
     45              m_puiDiscreteOutputState = xMemoryAllocationConext.puiDiscreteOutputState;
   \   00000048   01F9               MOVW    R31:R30, R19:R18
   \   0000004A   8502               LDD     R16, Z+10
   \   0000004C   8513               LDD     R17, Z+11
   \   0000004E   01FD               MOVW    R31:R30, R27:R26
   \   00000050   8B07               STD     Z+23, R16
   \   00000052   8F10               STD     Z+24, R17
     46          
     47              // Получим указатель на место в массиве дискретных выходов для текущего модуля.
     48              m_pxDiscreteOutputControl =
     49                  &xMemoryAllocationConext.
     50                  pxDiscreteOutputControl[xMemoryAllocationConext.uiUsedDiscreteOutputs];
   \   00000054   01F9               MOVW    R31:R30, R19:R18
   \   00000056   8505               LDD     R16, Z+13
   \   00000058   8516               LDD     R17, Z+14
   \   0000005A   8547               LDD     R20, Z+15
   \   0000005C   E052               LDI     R21, 2
   \   0000005E   9F45               MUL     R20, R21
   \   00000060   0D00               ADD     R16, R0
   \   00000062   1D11               ADC     R17, R1
   \   00000064   01FD               MOVW    R31:R30, R27:R26
   \   00000066   8F01               STD     Z+25, R16
   \   00000068   8F12               STD     Z+26, R17
     51              // Увеличим общий объём выделенной памяти.
     52              xMemoryAllocationConext.
     53              uiUsedDiscreteOutputs +=
     54                  MR_DISCRETE_OUTPUT_NUMBER;
   \   0000006A   01F9               MOVW    R31:R30, R19:R18
   \   0000006C   8507               LDD     R16, Z+15
   \   0000006E   5F08               SUBI    R16, 248
   \   00000070   8707               STD     Z+15, R16
     55          
     56              m_pxDiscreteOutputDataBase =
     57                  &xMemoryAllocationConext.
     58                  pxDiscreteOutputDataBase[xMemoryAllocationConext.uiUsedDiscreteOutputDataBase];
   \   00000072   8960               LDD     R22, Z+16
   \   00000074   8971               LDD     R23, Z+17
   \   00000076   8902               LDD     R16, Z+18
   \   00000078   E010               LDI     R17, 0
   \   0000007A   E148               LDI     R20, 24
   \   0000007C   E050               LDI     R21, 0
   \   0000007E   ........           CALL    ?S_EC_MUL_L02
   \   00000082   0F60               ADD     R22, R16
   \   00000084   1F71               ADC     R23, R17
   \   00000086   01FD               MOVW    R31:R30, R27:R26
   \   00000088   8F63               STD     Z+27, R22
   \   0000008A   8F74               STD     Z+28, R23
     59              // Увеличим общий объём выделенной памяти.
     60              xMemoryAllocationConext.
     61              uiUsedDiscreteOutputDataBase +=
     62                  MR_DISCRETE_OUTPUT_NUMBER;
   \   0000008C   01F9               MOVW    R31:R30, R19:R18
   \   0000008E   8902               LDD     R16, Z+18
   \   00000090   5F08               SUBI    R16, 248
   \   00000092   8B02               STD     Z+18, R16
     63          
     64              m_puiErrorAlarmDataArray =
     65                  &xMemoryAllocationConext.
     66                  puiErrorAlarmDataArray[DISCRETE_OUTPUT_MODULE_FAILURE];
   \   00000094   8903               LDD     R16, Z+19
   \   00000096   8914               LDD     R17, Z+20
   \   00000098   5F0F               SUBI    R16, 255
   \   0000009A   4F1F               SBCI    R17, 255
   \   0000009C   01FD               MOVW    R31:R30, R27:R26
   \   0000009E   8307               STD     Z+7, R16
   \   000000A0   8710               STD     Z+8, R17
     67          
     68              m_uiBadAnswerCounter = 0;
   \   000000A2   8F55               STD     Z+29, R21
     69          }
   \   000000A4   01D1               MOVW    R27:R26, R3:R2
   \   000000A6   9508               RET
     70          
     71          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
     72          uint8_t CModuleMrXXDriver::WriteDataBase(void)
   \                     ??WriteDataBase:
     73          {
   \   00000000   ....               RCALL   ?Subroutine9
     74              uint16_t usData;
     75              uint8_t *puiDestination;
     76          
     77              puiDestination = &m_puiTxBuffer[DATA_BYTE_OFFSET];
   \                     ??CrossCallReturnLabel_17:
   \   00000002   ....               RCALL   ?Subroutine10
     78          
     79              // При загрузке БД в МР передается только байт 0 описателя каждого выхода.
     80              for (uint8_t i = 0; i < MR_DISCRETE_OUTPUT_NUMBER; i++)
   \                     ??CrossCallReturnLabel_15:
   \   00000004   E040               LDI     R20, 0
   \   00000006   E028               LDI     R18, 8
   \   00000008   E050               LDI     R21, 0
     81              {
     82                  puiDestination[i] =
     83                      m_pxDiscreteOutputDataBase -> DiscreteOutputModuleDataBase[i];
   \                     ??WriteDataBase_1:
   \   0000000A   965B               ADIW    R27:R26, 27
   \   0000000C   ....               RCALL   ??Subroutine14_0
     84              }
   \                     ??CrossCallReturnLabel_21:
   \   0000000E   975C               SBIW    R27:R26, 28
   \   00000010   0FE4               ADD     R30, R20
   \   00000012   1FF5               ADC     R31, R21
   \   00000014   8130               LD      R19, Z
   \   00000016   01F8               MOVW    R31:R30, R17:R16
   \   00000018   0FE4               ADD     R30, R20
   \   0000001A   1FF5               ADC     R31, R21
   \   0000001C   8330               ST      Z, R19
   \   0000001E   9543               INC     R20
   \   00000020   952A               DEC     R18
   \   00000022   F799               BRNE    ??WriteDataBase_1
     85          
     86              usData = usCrcSummTwoByteCalculation(puiDestination,
     87                                                   MRXX_SET_DATA_BASE_COMMAND_ANSWER_LENGTH);
   \   00000024   E028               LDI     R18, 8
   \   00000026   E030               LDI     R19, 0
   \   00000028   ........           CALL    ??usCrcSummTwoByteCalculation
   \   0000002C   0198               MOVW    R19:R18, R17:R16
     88              puiDestination = &m_puiTxBuffer[DATA_BYTE_OFFSET +
     89                                              MRXX_SET_DATA_BASE_COMMAND_ANSWER_LENGTH];
   \   0000002E   01FD               MOVW    R31:R30, R27:R26
   \   00000030   8903               LDD     R16, Z+19
   \   00000032   8914               LDD     R17, Z+20
   \   00000034   5F06               SUBI    R16, 246
   \   00000036   4F1F               SBCI    R17, 255
     90              *puiDestination++ = (uint8_t)usData;
   \   00000038   01F8               MOVW    R31:R30, R17:R16
   \   0000003A   9321               ST      Z+, R18
     91              *puiDestination = (uint8_t)(usData >> 8);
   \   0000003C   8330               ST      Z, R19
     92          
     93              m_puiTxBuffer[0] = MRXX_SET_DATA_BASE_COMMAND;
   \   0000003E   9653               ADIW    R27:R26, 19
   \   00000040   ....               RCALL   ??Subroutine14_0
   \                     ??CrossCallReturnLabel_22:
   \   00000042   9754               SBIW    R27:R26, 20
   \   00000044   E801               LDI     R16, 129
   \   00000046   ....               RCALL   ?Subroutine1
     94          
     95              CPss21::ConnectDevice(m_uiAddress);
     96              delay_us(500);
     97              CSpi::Exchange(m_puiRxBuffer,
     98                             m_puiTxBuffer,
     99                             (PRIAMBLE_LENGTH +
    100                              MRXX_SET_DATA_BASE_COMMAND_ANSWER_LENGTH +
    101                              TWO_BYTE_CRC_LENGTH +
    102                              DATA_EXCHANGE_OK_LENGTH));
   \                     ??CrossCallReturnLabel_2:
   \   00000048   E04D               LDI     R20, 13
   \   0000004A   ....               RCALL   ?Subroutine2
    103              CPss21::DisconnectDevice();
    104          
    105              // модуль исправен?
    106              if (m_puiRxBuffer[COMMAND_BYTE_OFFSET] == MRXX_SET_DATA_BASE_COMMAND)
   \                     ??CrossCallReturnLabel_5:
   \   0000004C   ....               RCALL   ?Subroutine8
   \                     ??CrossCallReturnLabel_26:
   \   0000004E   8101               LDD     R16, Z+1
   \   00000050   3801               CPI     R16, 129
   \   00000052   F429               BRNE    ??WriteDataBase_2
    107              {
    108                  // есть подтверждение записи базы данных в EEPROM модуля?
    109                  if (m_puiRxBuffer[DATA_BYTE_OFFSET +
    110                                    MRXX_SET_DATA_BASE_COMMAND_ANSWER_LENGTH +
    111                                    TWO_BYTE_CRC_LENGTH] == DATA_EXCHANGE_OK)
   \   00000054   8504               LDD     R16, Z+12
   \   00000056   370E               CPI     R16, 126
   \   00000058   F411               BRNE    ??WriteDataBase_2
    112                  {
    113                      // есть подтверждение записи базы данных в EEPROM модуля.
    114                      return 1;
   \   0000005A   E001               LDI     R16, 1
   \   0000005C   C001               RJMP    ??WriteDataBase_3
    115                  }
    116              }
    117          
    118              return 0;
   \                     ??WriteDataBase_2:
   \   0000005E   E000               LDI     R16, 0
   \                     ??WriteDataBase_3:
   \   00000060   ....               RJMP    ?Subroutine12
    119          }

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine10:
   \   00000000   8903               LDD     R16, Z+19
   \   00000002   8914               LDD     R17, Z+20
   \   00000004   5F0E               SUBI    R16, 254
   \   00000006   4F1F               SBCI    R17, 255
   \   00000008   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine8:
   \   00000000   9651               ADIW    R27:R26, 17
   \   00000002                      REQUIRE ??Subroutine14_0
   \   00000002                      ;               // Fall through to label ??Subroutine14_0

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ??Subroutine14_0:
   \   00000000   91ED               LD      R30, X+
   \   00000002   91FC               LD      R31, X
   \   00000004   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine13:
   \   00000000   01F8               MOVW    R31:R30, R17:R16
   \   00000002   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine2:
   \   00000000   E050               LDI     R21, 0
   \   00000002   01FD               MOVW    R31:R30, R27:R26
   \   00000004   8923               LDD     R18, Z+19
   \   00000006   8934               LDD     R19, Z+20
   \   00000008   8901               LDD     R16, Z+17
   \   0000000A   8912               LDD     R17, Z+18
   \   0000000C   ........           CALL    ??Exchange_1
   \   00000010   ........           JMP     ??DisconnectDevice

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine1:
   \   00000000   8300               ST      Z, R16
   \   00000002   01FD               MOVW    R31:R30, R27:R26
   \   00000004   8900               LDD     R16, Z+16
   \   00000006   ........           CALL    ??ConnectDevice
   \   0000000A   E60A               LDI     R16, 106
   \   0000000C   E013               LDI     R17, 3
   \   0000000E   5001               SUBI    R16, 1
   \   00000010   4010               SBCI    R17, 0
   \   00000012   F7E9               BRNE    $-4
   \   00000014   C000               RJMP    $+2
   \   00000016   0000               NOP
   \   00000018   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine9:
   \   00000000   93BA               ST      -Y, R27
   \   00000002   93AA               ST      -Y, R26
   \   00000004   01D8               MOVW    R27:R26, R17:R16
   \   00000006   ....               RJMP    ?Subroutine13
    120          
    121          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    122          uint8_t CModuleMrXXDriver::Exchange(void)
   \                     ??Exchange:
    123          {
   \   00000000   ........           CALL    ?PROLOGUE4_L09
   \   00000004   01D8               MOVW    R27:R26, R17:R16
    124              uint8_t uiExternalReceipt = 0;
   \   00000006   E050               LDI     R21, 0
    125              // цикл проверяет наличие внешнего квитирования.
    126              for (uint8_t i = 0; i < MR_DISCRETE_OUTPUT_NUMBER; i++)
   \   00000008   E080               LDI     R24, 0
   \   0000000A   E028               LDI     R18, 8
   \   0000000C   01F8               MOVW    R31:R30, R17:R16
   \   0000000E   8D63               LDD     R22, Z+27
   \   00000010   8D74               LDD     R23, Z+28
   \   00000012   E090               LDI     R25, 0
   \                     ??Exchange_2:
   \   00000014   01FB               MOVW    R31:R30, R23:R22
   \   00000016   0FE8               ADD     R30, R24
   \   00000018   1FF9               ADC     R31, R25
   \   0000001A   8540               LDD     R20, Z+8
   \   0000001C   3F4F               CPI     R20, 255
   \   0000001E   F021               BREQ    ??Exchange_3
    127              {
    128                  // для текущего входа внешнее квитирование запрограммировано?
    129                  if (m_pxDiscreteOutputDataBase -> ExternalReceiptAddress[i] != 0xFF)
    130                  {
    131                      // для текущего входа есть внешнее квитирование?
    132                      if (m_puiDiscreteInputs[m_pxDiscreteOutputDataBase -> ExternalReceiptAddress[i]])
   \   00000020   ....               RCALL   ?Subroutine3
   \                     ??CrossCallReturnLabel_6:
   \   00000022   F011               BREQ    ??Exchange_3
    133                      {
    134                          // установим квитирование для текущего входа.
    135                          uiExternalReceipt |= (1 << i);
   \   00000024   ....               RCALL   ?Subroutine5
    136                      }
    137                  }
    138              }
   \                     ??CrossCallReturnLabel_8:
   \   00000026   2B50               OR      R21, R16
   \                     ??Exchange_3:
   \   00000028   9583               INC     R24
   \   0000002A   952A               DEC     R18
   \   0000002C   F799               BRNE    ??Exchange_2
    139          
    140              uint8_t uiExternalReset = 0;
   \   0000002E   E030               LDI     R19, 0
    141              // цикл проверяет наличие внешнего сброса.
    142              for (uint8_t i = 0; i < MR_DISCRETE_OUTPUT_NUMBER; i++)
   \   00000030   E080               LDI     R24, 0
   \   00000032   E028               LDI     R18, 8
   \                     ??Exchange_4:
   \   00000034   01FB               MOVW    R31:R30, R23:R22
   \   00000036   0FE8               ADD     R30, R24
   \   00000038   1FF9               ADC     R31, R25
   \   0000003A   8940               LDD     R20, Z+16
   \   0000003C   3F4F               CPI     R20, 255
   \   0000003E   F021               BREQ    ??Exchange_5
    143              {
    144                  // для текущего входа внешний сброс запрограммирован?
    145                  if (m_pxDiscreteOutputDataBase -> ExternalResetAddress[i] != 0xFF)
    146                  {
    147                      // для текущего входа есть внешний сброс?
    148                      if (m_puiDiscreteInputs[m_pxDiscreteOutputDataBase -> ExternalResetAddress[i]])
   \   00000040   ....               RCALL   ?Subroutine3
   \                     ??CrossCallReturnLabel_7:
   \   00000042   F011               BREQ    ??Exchange_5
    149                      {
    150                          // установим сброс для текущего входа.
    151                          uiExternalReset |= (1 << i);
   \   00000044   ....               RCALL   ?Subroutine5
    152                      }
    153                  }
    154              }
   \                     ??CrossCallReturnLabel_9:
   \   00000046   2B30               OR      R19, R16
   \                     ??Exchange_5:
   \   00000048   9583               INC     R24
   \   0000004A   952A               DEC     R18
   \   0000004C   F799               BRNE    ??Exchange_4
    155          
    156              uint8_t uiLocalBou = 0;
   \   0000004E   E020               LDI     R18, 0
    157              // есть квитирование Modbus?
    158              if (m_uiModbusReceipt)
   \   00000050   01FD               MOVW    R31:R30, R27:R26
   \   00000052   8103               LDD     R16, Z+3
   \   00000054   2300               TST     R16
   \   00000056   F011               BREQ    ??Exchange_6
    159              {
    160                  // сбросим флаг поступившей команды.
    161                  m_uiModbusReceipt = 0;
   \   00000058   8393               STD     Z+3, R25
    162                  // установим флаг управления - квитирование Modbus.
    163                  uiLocalBou |= (1 << GLOBAL_KVIT_PC_BIT);
   \   0000005A   E021               LDI     R18, 1
    164              }
    165              // есть сброс Modbus?
    166              if (m_uiModbusReset)
   \                     ??Exchange_6:
   \   0000005C   8104               LDD     R16, Z+4
   \   0000005E   2300               TST     R16
   \   00000060   F011               BREQ    ??Exchange_7
    167              {
    168                  // сбросим флаг поступившей команды.
    169                  m_uiModbusReset = 0;
   \   00000062   8394               STD     Z+4, R25
    170                  // установим флаг управления - сброс Modbus.
    171                  uiLocalBou |= (1 << GLOBAL_RESET_PC_BIT);
   \   00000064   6022               ORI     R18, 0x02
    172              }
    173              // есть квитирование с кнопки центральной панели?
    174              if (m_uiReceipt)
   \                     ??Exchange_7:
   \   00000066   8101               LDD     R16, Z+1
   \   00000068   2300               TST     R16
   \   0000006A   F011               BREQ    ??Exchange_8
    175              {
    176                  // сбросим флаг поступившей команды.
    177                  m_uiReceipt = 0;
   \   0000006C   8391               STD     Z+1, R25
    178                  // установим флаг управления - квитирование с центральной кнопки.
    179                  uiLocalBou |= (1 << GLOBAL_KVIT_BUTTON_BIT);
   \   0000006E   6024               ORI     R18, 0x04
    180              }
    181              // есть сброс с кнопки центральной панели?
    182              if (m_uiReset)
   \                     ??Exchange_8:
   \   00000070   8102               LDD     R16, Z+2
   \   00000072   2300               TST     R16
   \   00000074   F011               BREQ    ??Exchange_9
    183              {
    184                  // сбросим флаг поступившей команды.
    185                  m_uiReset = 0;
   \   00000076   8392               STD     Z+2, R25
    186                  // установим флаг управления - сброс с центральной кнопки.
    187                  uiLocalBou |= (1 << GLOBAL_RESET_BUTTON_BIT);
   \   00000078   6028               ORI     R18, 0x08
    188              }
    189          
    190              m_puiTxBuffer[0] = DATA_EXCHANGE_COMMAND;
   \                     ??Exchange_9:
   \   0000007A   8903               LDD     R16, Z+19
   \   0000007C   89F4               LDD     R31, Z+20
   \   0000007E   2FE0               MOV     R30, R16
   \   00000080   E402               LDI     R16, 66
   \   00000082   8300               ST      Z, R16
    191              uint8_t *puiDestination;
    192              puiDestination = &m_puiTxBuffer[DATA_BYTE_OFFSET];
   \   00000084   01FD               MOVW    R31:R30, R27:R26
   \   00000086   8983               LDD     R24, Z+19
   \   00000088   8994               LDD     R25, Z+20
   \   0000008A   9602               ADIW    R25:R24, 2
    193              uint8_t uiData = 0;
   \   0000008C   E060               LDI     R22, 0
    194              // заполним требования включения для каждого реле.
    195              for (uint8_t i = 0; i < MR_DISCRETE_OUTPUT_NUMBER; i++)
   \   0000008E   2422               CLR     R2
   \   00000090   E078               LDI     R23, 8
    196              {
    197                  if (m_pxDiscreteOutputControl[i].uiRelayActivationRequest)
   \                     ??Exchange_10:
   \   00000092   ....               RCALL   ?Subroutine4
   \                     ??CrossCallReturnLabel_19:
   \   00000094   8101               LDD     R16, Z+1
   \   00000096   2300               TST     R16
   \   00000098   F009               BREQ    ??CrossCallReturnLabel_13
    198                  {
    199                      uiData |= (1 << i);
   \   0000009A   ....               RCALL   ?Subroutine7
    200                  }
    201              }
   \                     ??CrossCallReturnLabel_13:
   \   0000009C   9423               INC     R2
   \   0000009E   957A               DEC     R23
   \   000000A0   F7C1               BRNE    ??Exchange_10
    202              *puiDestination++ = uiData;
   \   000000A2   01FC               MOVW    R31:R30, R25:R24
   \   000000A4   9361               ST      Z+, R22
   \   000000A6   01CF               MOVW    R25:R24, R31:R30
    203          
    204              uiData = 0;
   \   000000A8   E060               LDI     R22, 0
    205              // заполним новые нарушения для каждого реле.
    206              for (uint8_t i = 0; i < MR_DISCRETE_OUTPUT_NUMBER; i++)
   \   000000AA   2422               CLR     R2
   \   000000AC   E078               LDI     R23, 8
    207              {
    208                  if (m_pxDiscreteOutputControl[i].uiNewActivation)
   \                     ??Exchange_11:
   \   000000AE   ....               RCALL   ?Subroutine4
   \                     ??CrossCallReturnLabel_20:
   \   000000B0   8100               LD      R16, Z
   \   000000B2   2300               TST     R16
   \   000000B4   F009               BREQ    ??CrossCallReturnLabel_14
    209                  {
    210                      uiData |= (1 << i);
   \   000000B6   ....               RCALL   ?Subroutine7
    211                  }
    212              }
   \                     ??CrossCallReturnLabel_14:
   \   000000B8   9423               INC     R2
   \   000000BA   957A               DEC     R23
   \   000000BC   F7C1               BRNE    ??Exchange_11
    213              *puiDestination++ = uiData;
   \   000000BE   01FC               MOVW    R31:R30, R25:R24
   \   000000C0   9361               ST      Z+, R22
    214          
    215              *puiDestination++ = uiExternalReceipt;
   \   000000C2   9351               ST      Z+, R21
    216              *puiDestination++ = uiExternalReset;
   \   000000C4   9331               ST      Z+, R19
    217              *puiDestination++ = uiLocalBou;
   \   000000C6   9321               ST      Z+, R18
   \   000000C8   01CF               MOVW    R25:R24, R31:R30
    218              uint16_t usData = usCrcSummTwoByteCalculation(&m_puiTxBuffer[DATA_BYTE_OFFSET],
    219                                DATA_EXCHANGE_COMMAND_ANSWER_LENGTH);
   \   000000CA   E025               LDI     R18, 5
   \   000000CC   E030               LDI     R19, 0
   \   000000CE   01FD               MOVW    R31:R30, R27:R26
   \   000000D0   ....               RCALL   ?Subroutine10
   \                     ??CrossCallReturnLabel_16:
   \   000000D2   ........           CALL    ??usCrcSummTwoByteCalculation
    220              *puiDestination++ = (uint8_t)usData;
   \   000000D6   01FC               MOVW    R31:R30, R25:R24
   \   000000D8   9301               ST      Z+, R16
    221              *puiDestination++ = (uint8_t)(usData >> 8);
   \   000000DA   9311               ST      Z+, R17
    222              *puiDestination++ = DATA_EXCHANGE_OK;
   \   000000DC   E70E               LDI     R16, 126
   \   000000DE   ....               RCALL   ?Subroutine1
    223          
    224              CPss21::ConnectDevice(m_uiAddress);
    225              delay_us(500);
    226              CSpi::Exchange(m_puiRxBuffer,
    227                             m_puiTxBuffer,
    228                             (PRIAMBLE_LENGTH +
    229                              DATA_EXCHANGE_COMMAND_ANSWER_LENGTH +
    230                              TWO_BYTE_CRC_LENGTH +
    231                              DATA_EXCHANGE_OK_LENGTH));
   \                     ??CrossCallReturnLabel_3:
   \   000000E0   E04A               LDI     R20, 10
   \   000000E2   ....               RCALL   ?Subroutine2
    232              CPss21::DisconnectDevice();
    233          
    234              // что ответил модуль?
    235              switch(m_puiRxBuffer[COMMAND_BYTE_OFFSET])
   \                     ??CrossCallReturnLabel_4:
   \   000000E4   01FD               MOVW    R31:R30, R27:R26
   \   000000E6   8901               LDD     R16, Z+17
   \   000000E8   8912               LDD     R17, Z+18
   \   000000EA   01F8               MOVW    R31:R30, R17:R16
   \   000000EC   8121               LDD     R18, Z+1
   \   000000EE   5224               SUBI    R18, 36
   \   000000F0   F181               BREQ    ??Exchange_12
   \   000000F2   512E               SUBI    R18, 30
   \   000000F4   F5A1               BRNE    ??Exchange_13
    236              {
    237              case DATA_READY:
    238                  // данные не повреждены?
    239                  if (iCrcSummTwoByteCompare(&m_puiRxBuffer[DATA_BYTE_OFFSET],
    240                                             DATA_EXCHANGE_COMMAND_ANSWER_LENGTH) > 0)
   \   000000F6   E025               LDI     R18, 5
   \   000000F8   E030               LDI     R19, 0
   \   000000FA   5F0E               SUBI    R16, 254
   \   000000FC   4F1F               SBCI    R17, 255
   \   000000FE   ........           CALL    ??iCrcSummTwoByteCompare
   \   00000102   3001               CPI     R16, 1
   \   00000104   4010               SBCI    R17, 0
   \   00000106   F15C               BRLT    ??Exchange_13
    241                  {
    242                      // есть подтверждение?
    243                      if (m_puiRxBuffer[DATA_BYTE_OFFSET +
    244                                        DATA_EXCHANGE_COMMAND_ANSWER_LENGTH +
    245                                        TWO_BYTE_CRC_LENGTH] == DATA_EXCHANGE_OK)
   \   00000108   ....               RCALL   ?Subroutine8
   \                     ??CrossCallReturnLabel_27:
   \   0000010A   9752               SBIW    R27:R26, 18
   \   0000010C   8501               LDD     R16, Z+9
   \   0000010E   370E               CPI     R16, 126
   \   00000110   F531               BRNE    ??Exchange_13
    246                      {
    247                          // есть подтверждение.
    248                          m_uiBadAnswerCounter = 0;
   \   00000112   01FD               MOVW    R31:R30, R27:R26
   \   00000114   E000               LDI     R16, 0
   \   00000116   8F05               STD     Z+29, R16
    249                          SetErrorAlarmData(0);
   \   00000118   9617               ADIW    R27:R26, 7
   \   0000011A   ....               RCALL   ??Subroutine14_0
   \                     ??CrossCallReturnLabel_23:
   \   0000011C   9619               ADIW    R27:R26, 9
   \   0000011E   8300               ST      Z, R16
    250          
    251                          uiData = (m_puiRxBuffer[DATA_BYTE_OFFSET]);
   \   00000120   ....               RCALL   ??Subroutine14_0
   \                     ??CrossCallReturnLabel_24:
   \   00000122   9752               SBIW    R27:R26, 18
   \   00000124   8162               LDD     R22, Z+2
    252                          // отправим данные - состояние выходов модулей реле МР №1 – MP №8.
    253                          for (uint8_t i = 0; i < MR_DISCRETE_OUTPUT_NUMBER; i++)
   \   00000126   E080               LDI     R24, 0
   \   00000128   E028               LDI     R18, 8
   \   0000012A   E090               LDI     R25, 0
    254                          {
    255                              if (uiData & (1 << i))
   \                     ??Exchange_14:
   \   0000012C   01FD               MOVW    R31:R30, R27:R26
   \   0000012E   8807               LDD     R0, Z+23
   \   00000130   8C10               LDD     R1, Z+24
   \   00000132   0E08               ADD     R0, R24
   \   00000134   1E19               ADC     R1, R25
   \   00000136   ....               RCALL   ?Subroutine5
   \                     ??CrossCallReturnLabel_10:
   \   00000138   2F16               MOV     R17, R22
   \   0000013A   2310               AND     R17, R16
   \   0000013C   01F0               MOVW    R31:R30, R1:R0
   \   0000013E   F019               BREQ    ??Exchange_15
    256                              {
    257                                  m_puiDiscreteOutputState[i] = 1;
   \   00000140   E001               LDI     R16, 1
   \   00000142   8300               ST      Z, R16
   \   00000144   C001               RJMP    ??Exchange_16
    258                              }
    259                              else
    260                              {
    261                                  m_puiDiscreteOutputState[i] = 0;
   \                     ??Exchange_15:
   \   00000146   8390               ST      Z, R25
    262                              }
    263                          }
   \                     ??Exchange_16:
   \   00000148   9583               INC     R24
   \   0000014A   952A               DEC     R18
   \   0000014C   F779               BRNE    ??Exchange_14
    264          
    265                          return 1;
   \   0000014E   E001               LDI     R16, 1
   \   00000150   C018               RJMP    ??Exchange_17
    266                      }
    267                  }
    268                  break;
    269          
    270              case DBASE_ERR:
    271                  // модуль не признан неисправным?
    272                  if (m_uiBadAnswerCounter < BAD_MODULE_CYCLE_COUNT_DEFAULT)
   \                     ??Exchange_12:
   \   00000152   01FD               MOVW    R31:R30, R27:R26
   \   00000154   8D05               LDD     R16, Z+29
   \   00000156   300A               CPI     R16, 10
   \   00000158   F410               BRCC    ??Exchange_13
    273                  {
    274                      // База данных повреждена. Попытаемся записать её повторно.
    275                      SetFsmState(MRXX_FSM_STATE_WRITE_DATABASE);
   \   0000015A   E000               LDI     R16, 0
   \   0000015C   8703               STD     Z+11, R16
    276                  }
    277                  break;
    278          
    279              default:
    280                  break;
    281              };
    282          
    283              // модуль не признан неисправным?
    284              if (m_uiBadAnswerCounter < BAD_MODULE_CYCLE_COUNT_DEFAULT)
   \                     ??Exchange_13:
   \   0000015E   01FD               MOVW    R31:R30, R27:R26
   \   00000160   8D05               LDD     R16, Z+29
   \   00000162   300A               CPI     R16, 10
   \   00000164   F418               BRCC    ??Exchange_18
    285              {
    286                  // увеличим значение счётчика - "количество сеансов связи с модулем без ответа".
    287                  m_uiBadAnswerCounter++;
   \   00000166   9503               INC     R16
   \   00000168   8F05               STD     Z+29, R16
    288                  return 0;
   \   0000016A   C00A               RJMP    ??Exchange_19
    289              }
    290              else
    291              {
    292                  // модуль признан неисправным.
    293                  *m_puiErrorCode = OMD_ERROR;
   \                     ??Exchange_18:
   \   0000016C   9615               ADIW    R27:R26, 5
   \   0000016E   ....               RCALL   ??Subroutine14_0
   \                     ??CrossCallReturnLabel_25:
   \   00000170   9716               SBIW    R27:R26, 6
   \   00000172   E002               LDI     R16, 2
   \   00000174   8300               ST      Z, R16
    294                  SetErrorAlarmData(1);
   \   00000176   01FD               MOVW    R31:R30, R27:R26
   \   00000178   81A7               LDD     R26, Z+7
   \   0000017A   85B0               LDD     R27, Z+8
   \   0000017C   E001               LDI     R16, 1
   \   0000017E   930C               ST      X, R16
    295                  return 0;
   \                     ??Exchange_19:
   \   00000180   E000               LDI     R16, 0
    296              }
   \                     ??Exchange_17:
   \   00000182   ....               RJMP    ?Subroutine11
    297          }

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine7:
   \   00000000   E001               LDI     R16, 1
   \   00000002   E010               LDI     R17, 0
   \   00000004   2D42               MOV     R20, R2
   \   00000006   ........           CALL    ?S_SHL_L02
   \   0000000A   2B60               OR      R22, R16
   \   0000000C   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine5:
   \   00000000   E001               LDI     R16, 1
   \   00000002   E010               LDI     R17, 0
   \   00000004   2F48               MOV     R20, R24
   \   00000006   ........           JMP     ?S_SHL_L02

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine4:
   \   00000000   01FD               MOVW    R31:R30, R27:R26
   \   00000002   8D01               LDD     R16, Z+25
   \   00000004   8D12               LDD     R17, Z+26
   \   00000006   E042               LDI     R20, 2
   \   00000008   9E24               MUL     R2, R20
   \   0000000A   0D00               ADD     R16, R0
   \   0000000C   1D11               ADC     R17, R1
   \   0000000E                      REQUIRE ?Subroutine13
   \   0000000E                      ;               // Fall through to label ?Subroutine13

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine3:
   \   00000000   01FD               MOVW    R31:R30, R27:R26
   \   00000002   8905               LDD     R16, Z+21
   \   00000004   8916               LDD     R17, Z+22
   \   00000006   0F04               ADD     R16, R20
   \   00000008   1F19               ADC     R17, R25
   \   0000000A   01F8               MOVW    R31:R30, R17:R16
   \   0000000C   8100               LD      R16, Z
   \   0000000E   2300               TST     R16
   \   00000010   9508               RET
    298          
    299          //-----------------------------------------------------------------------------------------------------

   \                                 In  segment CODE, align 2, keep-with-next
    300          uint8_t CModuleMrXXDriver::DataExchange(void)
   \                     ??DataExchange:
    301          {
   \   00000000   ....               RCALL   ?Subroutine9
    302              uint8_t uiResult;
    303              switch (GetFsmState())
   \                     ??CrossCallReturnLabel_18:
   \   00000002   8513               LDD     R17, Z+11
   \   00000004   2311               TST     R17
   \   00000006   F019               BREQ    ??DataExchange_1
   \   00000008   951A               DEC     R17
   \   0000000A   F039               BREQ    ??DataExchange_2
   \   0000000C   C008               RJMP    ??DataExchange_3
    304              {
    305                  // при старте база данных записывается из прибора в модуль реле.
    306              case MRXX_FSM_STATE_WRITE_DATABASE:
    307                  uiResult = WriteDataBase();
   \                     ??DataExchange_1:
   \   0000000E   2F1B               MOV     R17, R27
   \   00000010   ....               RCALL   ??WriteDataBase
    308                  // после, автомат переходит в режим - обмен данными с модулем(MRXX_FSM_STATE_TRANSFER).
    309                  SetFsmState(MRXX_FSM_STATE_TRANSFER);
   \   00000012   01FD               MOVW    R31:R30, R27:R26
   \   00000014   E011               LDI     R17, 1
   \   00000016   8713               STD     Z+11, R17
    310                  break;
   \   00000018   C002               RJMP    ??DataExchange_3
    311          
    312              case MRXX_FSM_STATE_TRANSFER:
    313                  uiResult = Exchange();
   \                     ??DataExchange_2:
   \   0000001A   2F1B               MOV     R17, R27
   \   0000001C   ....               RCALL   ??Exchange
    314                  break;
    315          
    316              default:
    317                  break;
    318              };
    319          
    320              return uiResult;
   \                     ??DataExchange_3:
   \   0000001E   ....               RJMP    ?Subroutine12
    321          }

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 CModuleMrXXDriver &CModuleMrXXDriver::new CModuleMrXXDriver(uint8_t)
   \                     `??new CModuleMrXXDriver`:
   \   00000000   938A               ST      -Y, R24
   \   00000002   2F80               MOV     R24, R16
   \   00000004   ....               RCALL   ?Subroutine6
   \                     ??CrossCallReturnLabel_11:
   \   00000006   F019               BREQ    `??new CModuleMrXXDriver_2`
   \   00000008   2F28               MOV     R18, R24
   \   0000000A   ....               RCALL   ??CModuleMrXXDriver
   \   0000000C   C002               RJMP    `??new CModuleMrXXDriver_3`
   \                     `??new CModuleMrXXDriver_2`:
   \   0000000E   E000               LDI     R16, 0
   \   00000010   E010               LDI     R17, 0
   \                     `??new CModuleMrXXDriver_3`:
   \   00000012   9189               LD      R24, Y+
   \   00000014   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 CModuleMrXXDriver &CModuleMrXXDriver::new CModuleMrXXDriver()
   \                     `??new CModuleMrXXDriver_1`:
   \   00000000   ....               RCALL   ?Subroutine6
   \                     ??CrossCallReturnLabel_12:
   \   00000002   F009               BREQ    `??new CModuleMrXXDriver_4`
   \   00000004   ....               RJMP    ??CModuleMrXXDriver_1
   \                     `??new CModuleMrXXDriver_4`:
   \   00000006   E000               LDI     R16, 0
   \   00000008   E010               LDI     R17, 0
   \   0000000A   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \                     ?Subroutine6:
   \   00000000   E10E               LDI     R16, 30
   \   00000002   E010               LDI     R17, 0
   \   00000004   ........           CALL    `??operator new`
   \   00000008   2F20               MOV     R18, R16
   \   0000000A   2B21               OR      R18, R17
   \   0000000C   9508               RET

   \                                 In  segment CODE, align 2, keep-with-next
   \   __version_3 void CModuleMrXXDriver::~CModuleMrXXDriver for CDfaLite/-11/()
   \                     `?~CModuleMrXXDriver for CDfaLite/-11/`:
   \   00000000   500B               SUBI    R16, 11
   \   00000002   4010               SBCI    R17, 0
   \   00000004   ....               RJMP    `?~CModuleMrXXDriver`

   Maximum stack usage in bytes:

   CSTACK RSTACK Function
   ------ ------ --------
      0      2   CModuleMrXXDriver::Allocate(TMemoryAllocationConext &)
        0      2 ?S_EC_MUL_L02
      2      2   CModuleMrXXDriver::CModuleMrXXDriver()
        2      4   -> CDfa::CDfa()
      4      2   CModuleMrXXDriver::CModuleMrXXDriver(uint8_t)
        4      4   -> CDfa::CDfa()
      2      2   CModuleMrXXDriver::DataExchange()
        2      2   -> CModuleMrXXDriver::Exchange()
        2      2   -> CModuleMrXXDriver::WriteDataBase()
      4      2   CModuleMrXXDriver::Exchange()
        4      4   -> CPss21::ConnectDevice(uint8_t)
        4      2   -> CPss21::DisconnectDevice()
        4      4   -> CSpi::Exchange(uint8_t *, uint8_t *, uint16_t)
        4      2   -> iCrcSummTwoByteCompare(unsigned char *, unsigned int)
        4      2   -> usCrcSummTwoByteCalculation(unsigned char *, unsigned int)
        4      2 ?S_SHL_L02
        4      4 ?S_SHL_L02
      2      2   CModuleMrXXDriver::WriteDataBase()
        2      4   -> CPss21::ConnectDevice(uint8_t)
        2      2   -> CPss21::DisconnectDevice()
        2      4   -> CSpi::Exchange(uint8_t *, uint8_t *, uint16_t)
        2      2   -> usCrcSummTwoByteCalculation(unsigned char *, unsigned int)
      0      2   CModuleMrXXDriver::new CModuleMrXXDriver()
        0      2   -> CModuleMrXXDriver::CModuleMrXXDriver()
        0      4   -> operator new(unsigned int)
      1      2   CModuleMrXXDriver::new CModuleMrXXDriver(uint8_t)
        1      2   -> CModuleMrXXDriver::CModuleMrXXDriver(uint8_t)
        1      4   -> operator new(unsigned int)
      0      2   CModuleMrXXDriver::~CModuleMrXXDriver for CDfaLite/-11/()
        0      2   -> CModuleMrXXDriver::~CModuleMrXXDriver()
      3      2   CModuleMrXXDriver::~CModuleMrXXDriver()
        3      2   -> CDfa::~CDfa()
        3      2   -> operator delete(void *)


   Segment part sizes:

   Bytes  Function/Label
   -----  --------------
       6  ??Subroutine14_0
      28  ?Subroutine0
      26  ?Subroutine1
      10  ?Subroutine10
       6  ?Subroutine11
       6  ?Subroutine12
       4  ?Subroutine13
      20  ?Subroutine2
      18  ?Subroutine3
      14  ?Subroutine4
      10  ?Subroutine5
      14  ?Subroutine6
      14  ?Subroutine7
       2  ?Subroutine8
       8  ?Subroutine9
     168  CModuleMrXXDriver::Allocate(TMemoryAllocationConext &)
      10  CModuleMrXXDriver::CModuleMrXXDriver()
      18  CModuleMrXXDriver::CModuleMrXXDriver(uint8_t)
      32  CModuleMrXXDriver::DataExchange()
     388  CModuleMrXXDriver::Exchange()
      98  CModuleMrXXDriver::WriteDataBase()
      12  CModuleMrXXDriver::new CModuleMrXXDriver()
      22  CModuleMrXXDriver::new CModuleMrXXDriver(uint8_t)
       6  CModuleMrXXDriver::~CModuleMrXXDriver for CDfaLite/-11/()
      42  CModuleMrXXDriver::~CModuleMrXXDriver()
       1  _A_ACSR
       2  _A_ADC
       1  _A_ADCSRA
       1  _A_ADMUX
       1  _A_ASSR
       1  _A_DDRA
       1  _A_DDRB
       1  _A_DDRC
       1  _A_DDRD
       1  _A_DDRE
       1  _A_DDRF
       1  _A_DDRG
       2  _A_EEAR
       1  _A_EECR
       1  _A_EEDR
       1  _A_EICRA
       1  _A_EICRB
       1  _A_EIFR
       1  _A_EIMSK
       1  _A_ETIFR
       1  _A_ETIMSK
       2  _A_ICR1
       2  _A_ICR3
       1  _A_MCUCR
       1  _A_MCUCSR
       1  _A_OCDR
       1  _A_OCR0
       2  _A_OCR1A
       2  _A_OCR1B
       2  _A_OCR1C
       1  _A_OCR2
       2  _A_OCR3A
       2  _A_OCR3B
       2  _A_OCR3C
       1  _A_OSCCAL
       1  _A_PINA
       1  _A_PINB
       1  _A_PINC
       1  _A_PIND
       1  _A_PINE
       1  _A_PINF
       1  _A_PING
       1  _A_PORTA
       1  _A_PORTB
       1  _A_PORTC
       1  _A_PORTD
       1  _A_PORTE
       1  _A_PORTF
       1  _A_PORTG
       1  _A_RAMPZ
       1  _A_SFIOR
       2  _A_SP
       1  _A_SPCR
       1  _A_SPDR
       1  _A_SPMCSR
       1  _A_SPSR
       1  _A_SREG
       1  _A_TCCR0
       1  _A_TCCR1A
       1  _A_TCCR1B
       1  _A_TCCR1C
       1  _A_TCCR2
       1  _A_TCCR3A
       1  _A_TCCR3B
       1  _A_TCCR3C
       1  _A_TCNT0
       2  _A_TCNT1
       1  _A_TCNT2
       2  _A_TCNT3
       1  _A_TIFR
       1  _A_TIMSK
       1  _A_TWAR
       1  _A_TWBR
       1  _A_TWCR
       1  _A_TWDR
       1  _A_TWSR
       1  _A_UBRR0H
       1  _A_UBRR0L
       1  _A_UBRR1H
       1  _A_UBRR1L
       1  _A_UCSR0A
       1  _A_UCSR0B
       1  _A_UCSR0C
       1  _A_UCSR1A
       1  _A_UCSR1B
       1  _A_UCSR1C
       1  _A_UDR0
       1  _A_UDR1
       1  _A_WDTCR
       1  _A_XDIV
       1  _A_XMCRA
       1  _A_XMCRB
      32  -- Other

 
 105 bytes in segment ABSOLUTE
 982 bytes in segment CODE
  32 bytes in segment NEAR_F
 
 1 008 bytes of CODE memory (+   6 bytes shared)
     0 bytes of DATA memory (+ 105 bytes shared)

Errors: none
Warnings: 7
